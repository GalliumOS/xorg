xorg-x11 (6.9.0.dfsg.1-6) unstable; urgency=high

  * Disable new evdev driver patches to prevent FTBFS on mipsen.  Thanks 
    Ryan Murray. (closes: #360540)

 -- David Nusinow <dnusinow@debian.org>  Mon,  3 Apr 2006 07:18:50 -0400

xorg-x11 (6.9.0.dfsg.1-5) unstable; urgency=high

  [ David Martínez Moreno ]
  * hurd/800_gnu_config.diff: Fix for local socket creation in the Hurd:
    sockets are BSD4.4-like (closes: #348011).

  [ David Nusinow ]
  * Remove resize from xutils description. This program has been moved to the
    xterm package as of Xorg 6.9 and xterm 208-3.
  * Remove general/020_acpi_event_loop_fix.diff. This patch is the incorrect
    fix, since the server should not be usurping the acpi file interface from
    acpid when acpid is transiently restarted. We need a better fix.
    (reopens: #345537) (closes: #347680)
  * Add Zephenia E. Hull's rewritten evdev driver which should provide the
    missing features removed from our Debian-specific implementation of the
    protocol in the mouse driver. See its manpage for details, as well as
    upstream bug https://bugs.freedesktop.org/show_bug.cgi?id=5696. Note that
    as a result of this patch I've removed general/021_evdev_manpage.diff
    which is now obsolete and rolled in to general/033_evdev_rewrite.diff.
    This also adds patch general/034_evdev_xkb.diff as well. (closes: #350389)
  * Remove rgb.txt stuff from x11-common.preinst. This is causing the file to
    be deleted.
  * Add general/029_enable_truetype_font_hinting.diff. Thanks to Eugene Konev
    for seeing that this one got through. (closes: #340001)
  * Add general/036_geteuid_security.diff for upstream security fix. Patch by
    Daniel Stone. See upstream bug #6213.

  [ Denis Barbier ]
  * Update debian/xserver-xorg.config.in to reflect changes in XKB layouts.
    Better handling of Turkish layouts, by Recai Oktaş. (closes: #348027)
  * Rewrite pt_BR.UTF-8/Compose to include en_US.UTF-8/Compose so that
    this file can be easily maintained.  Replace <dead_acute>+<C> to match
    the definition from iso8859-1/Compose.  Thanks Rafael Ávila de Espíndola
    (closes: #296599)
  * Remove ko/Compose, as requested by Korean users.  Thanks Changwoo Ryu
    (closes: #89703)
  * Add extra compose sequences for euro sign in iso8859-15/Compose.
    Thanks Bas Zoetekouw  (closes: #127609)

  [ Eugene Konev ]
  * Correct the ru_RU.UTF-8 locale alias. This adds
    general/011b_ru_RU_UTF-8_XLC_LOCALE.diff (closes: #330144)

 -- David Nusinow <dnusinow@debian.org>  Sun, 19 Mar 2006 23:03:55 -0500

xorg-x11 (6.9.0.dfsg.1-4) unstable; urgency=low

  [ David Martínez Moreno ]
  * GNU/KFreeBSD changes (closes: #331517, #338290):
    - Updated freebsd/001_gnu-kbsd.diff in order to fix FTBFS.
    - Added freebsd/003_gnu-kbsd_sock_un.diff for fixing some non-portable
      code.
    - Updated MANIFEST.kfreebsd-i386.in.
    - Modified xlibmesa-dri.install and xserver-xorg.install.kfreebsd-i386.
    - Dropped debian/xdmx.install.kfreebsd-i386, as its content is the same
      as in generic debian/xdmx.install.
  * Updated Turkish translation. Thanks, Recai Oktaş and Osman Yüksel
    (closes: #347494, #334568).
  * Updated Japanese translation. Thanks, Kenshi Muto (closes: #347498).
  * Updated Galician translation. Thanks, Jacobo Tarrio (closes: #347889).
  * Fixed Compose key for LC_CTYPE=cs_CZ.UTF-8 (closes: #347531).

  [ David Nusinow ]
  * MANIFEST updates for mips and mipsel over evdev manpage that was added for
    last upload
  * unset DH_OPTIONS for dh_installinit during binary-indep and binary-arch
    targets. There's some bug in dh_installinit that was causing it to ignore
    all the .init scripts when -s or -i was used in it alongside --noscripts
    (closes: #347705)
  * Add general/024_xterm_bindir.diff to deal with xterm's move to /usr/bin.
    Thanks Oliver Chief O'Cordes. (closes: #348091)

  [ Denis Barbier ]
  * Add general/086_enable_ca_variants.diff so that variants of the ca
    layout can be selected.  Thanks Felix-Antoine Bourbonnais
    (closes: #347496)
  * Add general/013_xkb_drop_rules_xorg_duplicates.diff to remove duplicate
    definitions from /etc/X11/xkb/rules/xorg, and update
    general/091_xkb_implement_compose:caps.diff
  * Add general/087_xkb_ralt_switch_multikey.diff to enable again the
    lv3:ralt_switch_multikey option.  Thanks Klaus Ethgen  (closes: #345409)
  * Set Caps type in general/091_xkb_implement_compose:caps.diff
    (closes: #345796)

 -- David Nusinow <dnusinow@debian.org>  Sat, 14 Jan 2006 17:49:29 -0500

xorg-x11 (6.9.0.dfsg.1-3) unstable; urgency=low

  [ Denis Barbier ]
  * Add general/094_xkb_fix_dead_diaresis.diff to replace dead_diaresis
    by dead_diaeresis in German layout.  Thanks Mario 'BitKoenig' Holbe
    (closes: #291853)

  [ David Nusinow ]
  * MANIFEST updates
    + arm
    + hppa
    + mips
    + mipsel. Thanks Ryan Murray. (closes: #347246)
    + minor s390 (mir-specific stuff)
  * Update xbase-clients description to account for libdps removal
  * We no longer build or ship x-window-system-dev. This is in line with
    killing xlibs-dev. Currently only three packages in Debian build-depend on
    this package, so we'll target them in the same effort as getting rid of
    xlibs-dev.
  * Add general/018_mesa_debug_fglrx.diff. The default mesa build was
    generating symbols which were interfering with the use of the fglrx
    drivers for some people. Thanks infernix. (closes: #274862)
  * Hurd patch and MANIFEST updates. Thanks Samuel Thibault and Michael Banck.
    (closes: #346500)
  * Add general/020_acpi_event_loop_fix.diff. This corrects a problem when the
    acpid is shut down while server is running. Thanks Mattia Dongili.
    (closes: #345537)
  * Raise mouse detection question to high priority when mdetect isn't
    present. This will help out LiveCD's. Thanks Robert Millan and Daniel
    Stone. (closes: #333921)
  * Remove our custom support for evdev in favor of upstream's version
    (closes: #325807, #322253, #346460, #346461)
    + Remove general/054_lnx_evdev_mouse.diff, general/053_lnx_evdev.diff, and
      general/055_lnx_evdev_keyboard.diff
    + Adjust xserver-xorg.templates to include and load the evdev module by
      default
    + Document in NEWS file how to get evdev support working. Thanks to Ian
      Wienand for instructions.
    + Add general/021_evdev_manpage.diff taken from
      https://bugs.freedesktop.org/show_bug.cgi?id=968. This will at least
      document the driver better.
  * Remove some cruft leftover from libdps in debian/rules
  * Corrent NEWS version number from last upload. Thanks Sven Koch.
    (closes: #347265)
  * When generating shlibdeps for libx11, unset DH_OPTIONS so that the -p
    switch actually takes effect and we don't generate the wrong shlibdeps for
    every package. This should allow libraries from xorg-x11 to properly
    depend on libx11-6. Thanks Daniel Kobras, Eugene Konev, and Russ Allbery.
    (closes: #347228)

 -- David Nusinow <dnusinow@debian.org>  Mon,  9 Jan 2006 20:16:32 -0500

xorg-x11 (6.9.0.dfsg.1-2) unstable; urgency=low

  [ David Nusinow ]
  * MANIFEST updates
    + s390. Thanks Bastian Blank. (closes: #345328)
    + ppc. Thanks Paul TBBle Hampson. (closes: #343693)
    + sparc
    + ia64
    + amd64. Thanks Kurt Roeckx. (closes: #343822)
    + alpha
    + m68k
  * Add HURD patches. Thanks Michael Banck. (closes: #345285)
  * Remove extra space in debian/905_debian_xdm.diff that caused a failure to
    properly create xdm-config. Thanks Alex Romosan. (closes: #345406)
  * Add general/015_startx_dummy_fix.diff to fix missing $ in startx.
    Thanks Daniel 'NebuchadnezzaR' Dehennin. (closes: #345446)
  * Move all the xkb stuff that was mistakenly put in to xlibs-data to xlibs
    where it belongs. Sorry everyone. (closes: #345387)
    + Make xlibs conflict and replace xlibs-data (= 6.9.0.dfsg.1-1) to prevent
      upgrade errors
  * Document upstream breakage with xkb in NEWS file. Recommend that people
    change from xlibs to xkb-data if they have further problems once xlibs and
    xlibs-data are both ad 6.9.0.dfsg.1-2. (closes: #345436)
  * Remove general/097_mouse_zaxis_mapping_pushes_up_buttons.diff which is now
    obsolete. Thanks Christopher Martin. (closes: #343728)
  * Add general/016_czech_include_location.diff which is a fix the path to the
    czech symbol rules. This Fd.o bug #5077. Thanks Matej Cepl.
    (closes: #345893)
  * Remove obsolete warning about cpp in the xbase-clients description. Thanks
    Adrian Bunk. (closes: #345578)
  * Update general/000_stolen_from_linuxwacom_wacom_driver.diff to bring
    driver to 0.6.8. Also remove obsolete hunk from
    freebsd/002_gnu-kbsd_wacom.diff. (closes: #333496)
  * Translation Updates:
    + Italian thanks to Danilo Piazzalunga. (closes: #345789)

  [ David Martínez Moreno ]
  * Added -n in order to avoid newline in xdm script (closes: #310000).
  * While at it, removed another extra space in debian/905_debian_xdm.diff.
  * Hide a string in the xserver-xorg debconf templates.  Thanks, Christian
    Perrier (closes: #345609).  While at it, added whitespace that made all
    the translations gain 1 fuzzy string.

 -- David Nusinow <dnusinow@debian.org>  Wed,  4 Jan 2006 22:29:29 -0500

xorg-x11 (6.9.0.dfsg.1-1) unstable; urgency=low

  * Update to 6.9 final
    + remove obsolete patch debian/993_debian_no_pclcomp.diff as pclcomp has
      also been removed upstream for non-freeness
    + Remove pclcomp from prune/non-free
    + MANIFEST Updates
      - amd64 Thanks to Ari Pollak and others (closes: #343693, #343822)
  * Remove obsolete patch general/033_radeon_fix_for_no_accel.diff
  * Fix xserver-xorg config script to properly output resolutions other than
    640x480. Thanks Colin Watson. (closes: #344785, #328259)
  * Allow xserver-xorg maintainer script to be used in locales other than C.
    Thanks Denis Barbier. (closes: #343602)
  * Translation updates
    + Swedish. Thanks Daniel Nylander. (closes: #333833)
    + Greek. Thanks Konstantinos Margaritis. (closes: #344590)

 -- David Nusinow <dnusinow@debian.org>  Wed, 28 Dec 2005 21:32:21 -0500

xorg-x11 (6.8.99.903.dfsg.1-1) experimental; urgency=low

  * Update to 6.9 RC3
  * Remove obsolete patch alpha/202_alpha_typedef_card32.diff
  * Remove xdpr from xbase-clients to allow xprint to install. Thanks Martin
    Michlmayer.
  * Move various libxvmc shlibs from the -dev package to the normal lib
    package where they belong.

 -- David Nusinow <dnusinow@debian.org>  Tue, 13 Dec 2005 01:14:13 -0500

xorg-x11 (6.8.99.902.dfsg.1-1) experimental; urgency=low

  * Add alpha/202_alpha_typedef_card32.diff to correct FTBFS. Thanks to Julien
    Cristau.
  * Remove @ embedded in multiline shell in patch target of debian/rules
  * Port to 6.9 RC2
    + Remove the following obsolete patches
      - patches/general/016_ICE_subprotocol_reply_fix.diff
    + Port the following patches
      - general/002_xdm_fixes.diff (mostly remove whitespace-only changes)
      - debian/904_debian_xinitrc.diff
      - debian/905_debian_xdm.diff
    + Manifest updates:
      - i386
      - amd64. Thanks to Ari Pollak.
  * Remove replaces and conflicts in xdmx package that were for internal
    testing. Thanks to Steve Langasek and Daniel Stone.
  * Have xserver-xorg conflict with nvidia-glx less than or equal to
    1.0.7174-4. Thanks Steve Langasek.
  * Have x-window-system-core alternately depend on the mesa packages. Thanks
    Xavier Bestel.
  * Prune pclcomp from our programs, as it is non-free. Thanks Daniel Stone.
    + Add debian/993_no_pclcomp.diff to cope with this

 -- David Nusinow <dnusinow@debian.org>  Mon, 14 Nov 2005 14:18:10 -0500

xorg-x11 (6.8.2.dfsg.1-11+SVN) unstable; urgency=low

  [ David Martínez Moreno ]
  * general/033_radeon_fix_for_no_accel.diff: A bug into one of ati driver's
    sources (radeon_video.c) causes Xorg server to crash when using it with
    option "NoAccel", due to erroneous dereferencing of uninitialized pointer.
    Thanks, Riccardo Brigo (closes: #341351).
  * debian/control: Rephrased the description in x11-common package. Thanks,
    Denis Barbier.

  [ David Nusinow ]
  * Remove non-modified /etc/X11/rgb.txt on x11-common's preinst, not
    postinst. The recommendation to remove it in postinst was for obsolete
    conffiles, but this file is not obsolete, and removing it in the postinst
    will cause the new version to be deleted. Removing it in the preinst
    should solve this issue, although it will cause issues if the upgrade
    fails and if the user has modified the file. (closes: #343389)

 -- David Nusinow <dnusinow@debian.org>  Thu, 15 Dec 2005 14:42:21 -0500

xorg-x11 (6.8.2.dfsg.1-11) unstable; urgency=low

  [ David Nusinow ]
  * Only try and remove the xserver-xorg init script if we're actually
    xserver-xorg, not xserver-xorg-dbg. Thanks Steve Langasek and Ryan Murray.
  * Change ls to /bin/ls in Xsession to prevent login problems if ls is
    locally aliased to ls --color=auto. Thanks January Weiner,  David
    Vernazobres. (closes: #340443, #337650)
  * Add general/032_fix_matrox_display.diff to fix corruption on some cards.
    Thanks Julien Wajsberg. (closes: #320328)
  * In xserver-xorg config, only update symlink to X server if it is in fact a
    symlink and is not already pointing to where it's supposed to go. This
    avoids problems on thin clients. Thanks Petter Reinholdtsen,
    (closes: #336748)
  * Fix binary server target to not choke on Xorg.1 manpage install. Thanks
    Bill Allombert. (closes: #334740)
  * Only reset autodetection questions on first install or reconfigure, and
    then only in the configure portion of the package install.
    (closes: #332369, #332637, #334340).

  [ Christian Perrier ]
  * Updated Russian translation (ru.po). Thanks, Yuri Kozlov!
    (closes: #337057).
  * Added Romanian translation (ro.po). Thanks, Eddy Petrisor!
    (closes: #338547).

 -- David Nusinow <dnusinow@debian.org>  Tue, 29 Nov 2005 00:20:26 -0500

xorg-x11 (6.8.99.901.dfsg.1-2) experimental; urgency=low

  * MANIFEST updates
    + alpha thanks to Julien Cristau.
    + ia64 thanks to Dagfinn Ilmari Mannsåker
    + powerpc thanks to Sven Luther.
    + sparc thanks to Julien Cristau
  * Make dh_strip not lose debugging symbols. Thanks Eugene Konev.
    (closes: #336282)
  * Fix general/091_xkb_implement_compose:caps.diff. Thanks Eugene Konev.
    (closes: #335048)

 -- David Nusinow <dnusinow@debian.org>  Sat, 29 Oct 2005 18:37:00 -0400

xorg-x11 (6.8.2.dfsg.1-10) unstable; urgency=low

  * Really fix x11-common.preinst "eq" test by using "=" instead.
    (Closes: #334345).
  * Add debian/992_debian_allow_build_from_svn.diff to ignore .svn directories
    rather than CVS ones, thereby letting people build straight from our SVN
    without failing MANIFEST check. Thanks Will Dyson and Frans Pop.

 -- David Nusinow <dnusinow@debian.org>  Sat, 29 Oct 2005 16:53:20 -0400

xorg-x11 (6.8.99.901.dfsg.1-1) experimental; urgency=low

  * Update to 6.9RC1
    + Remove obsolete patches
      - debian/990_ubuntu_accept_enabled_for_extensions.diff
      - ia64/452_ia64_smart_pci_rom_probe.diff
      - sparc/102_sparc_pci_fix.diff
      - sparc/100_sparc_4m_hw_mult_fix.diff
      - freebsd/003_gnu-kbsd_sessreg.diff
      - general/000_backport_from_author_xterm.diff
      - general/050_fix_lnx_io_kbd_rate_fix.diff
      - general/075_elographics_improve_manpage.diff
      - general/099z_xkb_level3_ralt_switch.diff
      - general/099y_xkb_fix_rules_xfree86.diff
      - general/099t_xkb_remove_hidden_attributes.diff
      - general/069_ati_r128_fix_ugly_warning.diff
      - general/024_ati_r128_and_radeon_enable_build_without_vgahw.diff
      - general/076_xfree86_server_fix_aout_loader_include.diff
      - general/015_vesa_ifdef_afb_calls.diff
      - general/070_fbdevhw_device_node_warnings.diff
      - general/047_mga_manpage_updates.diff
      - general/089_xkb_fix_symbols_pc_lt.diff
      - general/087_xkb_no_altgr_wanted_with_dvorak.diff
      - general/040_extend_netmouse_support.diff
      - general/099n_fbdev_driver_message_improvements.diff
      - general/099zz_xkb_hr_fixes.diff
      - general/025f_XPutImage_manpage_macros_fix.diff
      - general/025_XStandards_manpage_typo.diff
      - general/099o_xkb_a4tech_kb21.diff
      - general/011_SECURITY_makedepend_safer.diff
      - general/088_xkb_only_one_default_variant_gb.diff
      - general/099j_xkb_new_layouts.diff
      - general/029_only_open_proc_bus_pci_devices_once.diff
      - general/018_fix_mesa_build_issues.diff
      - general/002a_xterm_no_overstrike_bold_fonts.diff
      - general/021_riscpc_ioport_fix.diff
      - general/020_add_sigusr2_signal_handler.diff

  * MANIFEST updates for the following
    + amd64 (Thanks Ari Pollak)
    + hppa (Thanks Kyle McMartin)
    + powerpc (Thanks Sven Luther)
    + sparc (Thanks Julien Cristau)
  * Change NONDBG_PACKAGES to correctly remove packages we don't need to send
    to dh_strip
  * Remove obsolete "| xlibs (> 4.1.0)" from various shlibs packaging files
  * Allow patch target to succeed if there simply are no patches available
  * Ship XlibConf.h in libx11-dev. This will allow non-imake packages to build
    against X, including Xrender
  * Add support for preseeding fontserver. Thanks Petter Reinholdtsen.
    (closes: #323262)
  * Fix typo in xserver-xorg.init. (closes: #327514)
  * Have xserver-xorg-dbg depend on xserver-xorg, since we no longer ship a
    full xserver in the -dbg package.
  * Don't ship all of xserver-xorg's configuration scripts with
    xserver-xorg-dbg. This was an accidental holdover from the old statically
    linked binary in the pre-6.9 series. (closes: #327465)
  * Update the description of xserver-xorg-dbg to reflect the change from a
    statically linked server to only shipping the debugging symbols in that
    package.
  * Add sparc/105_ffb_dac_typedef_bool.diff to prevent FTBFS in sunffb driver.
    Thanks Julien Cristau.
  * Add libxvmc1-install and libxvmc-dev.install for hppa, powerpc, and sparc
  * Add xlibmesa-dri.install for hppa
  * Fix chooser path in xdm-config. This will fix querying xdm with -indirect.
    Thanks Eugene Konev.

 -- David Nusinow <dnusinow@debian.org>  Thu, 20 Oct 2005 14:24:23 -0400

xorg-x11 (6.8.99.900.dfsg.1-0pre1) experimental; urgency=low

  [ David Nusinow ]
  * Remove xterm references. Upstream is no longer shipping it in the monolith
    and we've been planning to move to Thomas Dickey's releases as our
    canonical upstream anyway.
  * libdps is dead upstream. Remove all traces of it from our builds
  * Radically change the way we build xserver-xorg-dbg. We no longer
    separately build a static version, but instead build a normal modular
    version and don't strip it.
    + Modify general/003_linux.cf_and_xfree86.cf.diff to build libdl modules
      by default
    + xserver-xorg-dbg now conflicts, replaces, and provides xserver-xorg
  * Change the way we handle library -dbg packages. Now rather than build
    and ship unstripped versions, use dh_strip to store the debugging symbols
    in the -dbg packages.
    + Add build dependency on binutils (>= 2.14.90.0.7) because dh_strip
      requires it to use  --dbg-package option, which we now use and love
    + Remove obsolete packaging files for -dbg packages
  * Temporarily delete freebsd/001_gnu-kbsd.diff until it can be
    forward-ported, because it's late and I'm tired :-p
  * Remove obsolete by upstream patches:
    + general/0000_backport_from_upstream.diff
    + general/000_stolen_from_HEAD_i810.diff
    + general/000_stolen_from_HEAD_savage.diff
    + general/000_stolen_from_HEAD_Xfuncproto.diff
    + general/000_stolen_from_unichrome.sf.net.diff
    + general/000_stolen_from_drm.diff
    + general/000_stolen_from_Mesa_6.2_branch.diff
    + general/000_stolen_from_Mesa_6.2_branch_vb_cull.diff
    + general/000k_Xvfb_re-enable_backing_store.diff
    + general/013_novtswitch.diff
    + general/018_sharevts_option.diff
    + general/024d_radeon_fix_gcc4_build.diff
    + general/025b_xkb_README_typos.diff
    + general/063_fix_weak_deps.diff
    + general/072_Xserver_fb_convert_RGB_to_BGR.diff
    + general/080_pci_isolate_device_feature.diff
    + general/086_fix_SEGV_in_ximcp.diff
    + general/092_Xserver_sunffb_xaa_extension.diff
    + general/094_gbk_compound_text_transformation_fix.diff
    + general/099za_fix_XOrgManDefs.diff
    + alpha/202_alpha_elfloader_support_R_ALPHA_SREL32.diff
    + alpha/203_alpha_elfloader_support_R_ALPHA_BRSGP.diff
    + debian/915_disable_i915_debugging.diff
    + debian/991_ubuntu_gcc_flags.diff
  * Forward-port the following:
    + general/001_kernel_version_in_banner.diff
    + general/003_linux.cf_and_xfree86.cf.diff
    + Disable gamma DRI driver, as it is broken upstream
    + general/008_fix_xgetpw_macro.diff
    + general/011a_recognize_glibc_2.3.2_locale_names.diff
    + general/020_add_sigusr2_signal_handler.diff
    + general/021_riscpc_ioport_fix.diff
    + general/024_ati_r128_and_radeon_enable_build_without_vgahw.diff
    + general/028_loader_speed_hack.diff
    + general/053_lnx_evdev.diff
    + general/058_support_external_Xcursor_Xft_Xrender_libs.diff
    + general/062_make_libGL_PIC_compliant.diff
    + general/089_xkb_fix_symbols_pc_lt.diff
    + general/097_mouse_zaxis_mapping_pushes_up_buttons.diff
    + general/099e_xorgconf_manpage_overhaul.diff
    + general/099l_xkb_cymotion_master_and_ibm_space_saver.diff
    + arm/315_arm_is_not_x86_and_has_no_vga.diff
    + hurd/800_gnu_config.diff
    + debian/905_debian_xdm.diff adds trailing whitespace
    + debian/908_debian_exclude_non-free_fonts_and_docs.diff
  * Update 000_stolen_from_linuxwacom_wacom_driver.diff to have version 0.6.8
    of xf86Wacom.c to get the patch to apply
  * Add new patches:
    + general/018_fix_mesa_build_issues.diff to fix FTBFS
  * Tighten up debian/rules to allow more flexibility
    + Test things in prepare and patch targets so they don't fail when we've
      interrupted a build for some reason and we attempt to re-run them
    + Typofix to allow dpkg-buildpackage -nc to work
  * We no longer build or ship xlibs-dev
  * Update build-dependency versions on render-dev and libxrender-dev

 -- David Nusinow <dnusinow@debian.org>  Thu,  8 Sep 2005 12:04:56 -0400

xorg-x11 (6.8.2.dfsg.1-8+SVN) unstable; urgency=low

  * debian/changelog: Changed references at bottom to xfree86-common to
    x11-common, referring old changelogs.
  * debian/control: Removed *a lot* (4 KB) of old legacy stuff like Conflicts:
    with packages that are not in stable, some even in oldstable, or others even
    from before.

  [ David Nusinow ]
  * Back out change from last revision that reset all debconf questions with
    "autodetect" in their name no matter what. This is unnecessary and only
    lead to annoyances. (closes: #332336)
  * Add missing '-' before 'eq' in x11-common.preinst.in. Thanks Matthias
    Heinz. (closes: #332341)
  * Add transitional xserver-xfree86 package that merely depends on
    xserver-xorg. Make all conflicts with xserver-xfree86 be on
    pre-6.8.2.dfsg.1-1 packages. Thanks Adrian Davey. (closes: #332414)

 -- David Nusinow <dnusinow@debian.org>  Thu,  6 Oct 2005 20:40:25 -0400

xorg-x11 (6.8.2.dfsg.1-8) unstable; urgency=low

  [ Denis Barbier ]
  * Modify setxkbmap and xkbcomp to look for XKB files in $XKBPATH if this
    environment variable is set.  This allows installing both xlibs and
    xkeyboard-config at the same time, so that xkeyboard-config can install
    its files under /etc/X11/xkb-data until all packages depending on xlibs
    are fixed (closes: #324768).

  [ Christian Perrier ]
  * Updated Basque translation (eu.po). Thanks, Piarres Beobide!
    (closes: #327409).
  * Updated Portuguese translation (pt.po). Thanks, Miguel Figueiredo!
    (closes: #328878).

  [ David Nusinow ]
  * Added various hurd-i386 patches. Thanks, Michael Banck.
    + hurd/806_gnuLib_update.diff (closes: #295472)
    + hurd/804_maxhostnamelen.diff (closes: #325204)
    + hurd/805_via_nodri.patch (closes: #325243)
    + hurd/808_i810_nodri.diff (closes: #325882)
    + updated hurd/800_gnu_config.diff (closes: #327740)
    + updated MANIFEST and install files for HURD (closes: #327745)
  * Force xserver-xfree86 to transition to xserver-xorg. Do this by having
    xserver-common conflict with xserver-xfree86, and having xserver-xorg not
    provide xserver-xfree86 any more. Thanks Adrian Bunk. (Closes: #318425)
  * Add a new flag to dexconf to allow the user to specify the name of the
    file used in comments. This can be used to prevent it from referring to
    xorg.conf.dpkg-new. Thanks Mike O'Connor. (Closes: #319323)
  * Add freebsd/003_gnu-kbsd_sessreg.diff to allow GNU/kFreeBSD to use GNU
    UTMP. Thanks Robert Millan. (Closes: #325615)
  * Have x11-common preinst check for xfree86-common conffile modification. If
    there are no modifications, remove them so that dpkg doesn't prompt the
    user due to the package name change. Thanks Steve Langasek and Andreas
    Metzler. (closes: #318688)
  * No longer refer to the removed Xsetup script in xdm.options.5. Thanks
    Bastian Kleineidam. (closes: #324887)
  * Update general/055_lnx_evdev_keyboard.diff to properly use the "less
    greater bar"-key (EV_KEY_102ND) on a pc102 keyboards. Thanks Pär
    Andersson. (closes: #322253)
  * Don't choke when the user doesn't select a video mode. This fix also
    involves a patch to substitute the default resolutions list in both
    the xserver-xorg.preinst and .postinst files using part of
    debian/rules. Thanks Robert Millan. (closes: #322902, #330304)
  * Don't reset all xserver-xorg debconf templates when "dpkg-reconfigure
    xserver-xorg" is called. (closes: #320241, #318634)
    + Reset values for templates that are affected by autodetection only when
      the user actually opts for autodetection. This allows autodetection to
      actually work. Thanks Daniel Stone.
    + Ensure that all templates containing the name "autodetect" are reset in
      the auto_answer function
  * Provide extra insurance for autodetecting drivers on installation. Also
    update driver default lists for amd64 and i386. (closes: #320634)
  * Have packages built specifically for etch be counted as official builds.
  * Have xserver-xorg remove its /etc/rcS.d link in its postinst by calling
    update-rc.d. Thanks Lars Wirzenius.  (closes: #330588)

  [ Branden Robinson ]
  * Change xserver-xorg and xserver-xorg-dbg's recommendation of "discover1"
    to "discover | discover1".  These packages' configure scripts detect both
    utilities, and use whichever one is found, so there's no reason to compel
    users to have discover1 in particular installed (as aptitude does, since
    it treats recommends like depends by default). (closes: #322659)

  [ David Martínez Moreno ]
  * Added Slovak translation (sk.po). Thanks, Peter Mann (closes: #330272).
  * Updated Czech translation (cs.po). Thanks, Miroslav Kure (closes:
    #327506).

 -- David Nusinow <dnusinow@debian.org>  Tue,  4 Oct 2005 22:24:17 -0400

xorg-x11 (6.8.2.dfsg.1-7) unstable; urgency=high

  [ Branden Robinson ]
  * Add patch #000k: Fix VSW5 (and therefore LSB 3.0) test failures by
    re-enabling backing store in the Xvfb X server.  The test harness relies
    on the existence of backing store in the virtual X server it uses to run
    tests in.
  * Fix shell-lib.sh to ensure that the function
    replace_conffile_with_symlink_rollback() actually exists.

  [ David Nusinow ]
  * Fix for CAN-2005-2495. See also freedesktop bug #594. Disallows pixmaps
    greater than the allocation limit. This is incorporated in to
    general/0000_backport_from_upstream.diff.
  * Add Build-Depends on linux-kernel-headers to (>= 2.6.13+0rc3-1.1) so that
    people do not get FTBFSes due to Bug#320515. The previous build-conflict
    was not enough to ensure that the necessary version of l-k-h was
    installed, causing an FTBFS. This does not apply to non-linux arches.
  * In debian/rules, change STAMP_DIR target to use STAMP_DIR/stampdir. Have
    targets that depended on this also change accordingly. This should allow
    dpkg-buildpackage -nc to work. Thanks Jeremy Shaw.
    + Also add -f to ln command in genscripts to allow -nc to work

 -- David Nusinow <dnusinow@debian.org>  Wed,  7 Sep 2005 16:17:18 -0400

xorg-x11 (6.8.2.dfsg.1-6) unstable; urgency=low

  [ Branden Robinson ]
  * Increment versioning of build-conflict with linux-kernel-headers to (<<
    2.6.13+0rc3-1.1) so that people do not get FTBFSes due to Bug#320515.

  * Overhaul debian/rules file and debian/scripts directory.
    + In the debugging X server build, change the branding string from
      "(static)" to "(non-modularized)", so people won't assume the X server
      is intended to be e.g., statically linked against libc (but for some
      reason isn't).
    + Add a new Makefile variable, SERVER_WRAPPER_OPT, to control the
      optimization level of the X server wrapper.  DEB_BUILD_OPTIONS
      determines its value.
    + Stop including debian/scripts/vars* files in favor of performing
      architecture-dependent variable assignments directly in the rules file.
      The include mechanism was used for dbs's sake, and is now overkill for
      what we need it for.
    + Rewrite comments documenting usage of targets with stamp files.
    + Declare phony targets and stampdir_targets adjacent to the target
      definitions themselves so they are less likely to get out of sync.
    + Make $(STAMP_DIR) itself a real target.
    + Make the "patch", "unpatch", and "patch-audit" rules run more quietly.
    + Wrap some long lines (> 80 columns).  Some couldn't be wrapped without
      making them even uglier.
    + Add targets for the text versions of the Debian X and XTerm FAQs and for
      the X server wrapper.  Stop building them inside the $(STAMP_DIR)/build
      target, and instead have $(STAMP_DIR)/build depend on them.
    + Move targets that exist only for the convience of package maintainers
      (i.e., which are never invoked via dpkg-buildpackage) to the end of the
      file.
    + Make shell usage style consistent.
    + Use the shell's redirection operator to create empty files instead of
      fooling with "touch" (or, God forbid, useless uses of cat).
    + Ensure that there are comments documenting just about everything.
    + Whitespace police: use hard tabs *only* for indenting target definitions
      (once, so Make will pull its head out).  All other indentation is done
      with spaces.

  * Drop unneeded scripts:
    - debian/setperms is now unused.
    - debian/scripts/getglibcversion hasn't been used by anything in a long
      time.
    - debian/scripts/up-scripts hasn't been used since we switched from dbs to
      quilt.
    - debian/scripts/vars* are now unused.

  * Update package maintainers' documentation in debian/README.
    + Refer to the package as "X.Org X11" to identify it as the monolithic
      release.
    + Expand caveat section for new architecture porters.
    + Break document into sections and give them titles.
    + Document many more of debian/rules's targets by summarizing the
      documentation within debian/rules itself.
    + Copyedit documentation of quilt usage.
    + Add documentation of debian/po directory.
    + Update discussion of debian/patches directory.
    + Condense discussion of MANIFEST and debhelper install files into a new
      section, "Architecture-specific binary package payloads".
    + Direct people's attention to the existence of certain convenience
      scripts in debian/scripts that make some mundane tasks easier.

  [ David Nusinow ]
  * Add missing libfs-dev depends. Thanks Guillem Jover (Closes: #321641)
  * Update debconf translations
    + French. Thanks Christian Perrier (Closes: #323633)
    + Vietnamese. Thanks Clytie Siddall (Closes: #324227)
    + Portuguese. Thanks Eduardo Silva and Miguel Figueiredo (Closes: #324782)

  [ David Martínez Moreno ]
  * Fixed some macros in XPutImage.3x, that left trailing characters in the
    lines above the insertions (closes: #323210).
  * Added 000_stolen_from_HEAD_savage.diff, that includes the backport of
    savage driver from HEAD X.Org CVS as of 03/08/05 (closes: #320468). Also
    commented out 099f_savage_driver_disable_randr_on_rotation, as I think it
    is no longer necessary.
  * Cut down 0000_backport_from_upstream by *300 KB!* due to wrong inclusion
    of three .orig files from drivers/ati/ subdirectory.
  * debian/control:
    - libxaw7-dev should depend on libxp-dev. Thanks, Daniel Schepler (closes:
      #324562).
    - libxaw8-dev should depend on libxp-dev. Thanks, Matej Vela (closes:
      #324275).
    - libxres-dev should depend on libxres1 and x-dev. Thanks, Michael Olbrich
      (closes: #324474).
    - Add in xserver-xorg{,-dbg} a conflict on xlibs (<< 6.8.2.dfsg.1-5) and
      added recommends xlibs; if /etc/X11/xkb/rules/xorg.lst does if not
      exist, people lose XKB on reboot. Thanks, James Ballantine and Daniel
      Stone (closes: #325509).
    - Removed old sh3 and sh4 architectures. There were no packages for those
      in years.
  * patches/general/000_stolen_from_unichrome.sf.net.diff: Fixed a
    cut-and-paste error when checking mode->Flags for sync polarity in
    via_mode.c.
  * Updated debconf translations:
    - Brazilian portuguese, thanks to André Luís Lopes (closes: #325150).
    - Danish, thanks to Claus Hindsgaul (closes: #325583).
  * debian/shell-lib.sh: It seems that a copy-paste type slipped in
    6.8.2.dfsg.1-5, and the function replace_conffile_with_symlink_rollback
    was not really included. xlibs upgrades from sarge were affected. Fixed
    (closes: #322920, #323954).

 -- David Nusinow <dnusinow@debian.org>  Wed, 31 Aug 2005 08:57:21 -0400

xorg-x11 (6.8.2.dfsg.1-5) unstable; urgency=low

  [ David Nusinow ]
  * Incorporate ELF loader patch for alpha. Thanks Steve Langasek.
    Closes: #319298
  * Make xlibs-dev depend on all the packages for libraries that were split
    out from xlibs-static-dev. We need to kill xlibs-dev eventually, but
    there's no point in doing it piecemeal. Closes: #318692
  * Re-enable failure on manifest check fail
  * Deal with Speedo fonts removal
    - Document in NEWS.Debian
    - Remove mention of speedo from templates.pot and update. Sorry
      translators!
  * Edit various Debian files for XFree86 -> X.Org branding changes
  * Remove general/033_no_html.diff
  * Fix reference to XF86Config-4 in xserver-xorg.templates
  * Add general/031_disable_libXft1.diff to stop building libXft1, since we
    don't ship it anyway.
  * Ship extramodes file in xserver-xorg examples
  * Allow xfree86-common package to purge cleanly by adding a '-f' to
    update-rc.d call in postrm. Thanks Enrico Zinni.
  * Add xserver-xorg.init script that will allow people (intended for
    LiveCD's) to generate an xorg.conf on the fly at bootup. Thanks Petter
    Reinholdtsen
  * Add "| debconf-2.0" to all package depends that depend on debconf so as
    to unblock installation of cdebconf
  * Backport i810 Driver from CVS Head. Thanks Jean-Christophe Dubacq
    - Update general/000_stolen_from_HEAD_i810.diff
    - Add general/000_stolen_from_HEAD_Xfuncproto.diff
  * Apply various GNU/kFreeBSD updates. Thanks Robert Millan and Aurelien
    Jarno. Closes: #318934
    - Remove all the old GNU/kFreeBSD support files
    - Update 099s to only include SELinux support if we're building for
      linux
      + Also update Build-Depends to not require selinux for hurd and
        GNU/kFreeBSD
    - Allow xlibmesa-dri and friends, as well as xdmx and xserver-xorg to
      build on kfreebsd-i386
    - Add fixes to xserver-wrapper.c for major and minor numbers for VT's
      on non-linux platforms
    - Miscellaneous fixes to xserver-xorg.config.in
    - Update MANIFEST and various .install files
    - Add megapatch freebsd/001 and Wacom fixes in freebsd/002

  [ Eugene Konev ]
  * Do not impose selinux on the whole world out there: move selinux
    specific changes from config/cf/Imake.tmpl to programs/xdm/Imakefile,
    as xdm is the only program affected by this patch. Closes: #319121
  * Change prune target of debian/rules to use file lists in debian/prune
  * Add dependency on libxss1 to libxss-dev. Thanks Russ Allbery.
    Closes: #318629
  * Re-enable building HTML docs
    - Remove patch general/057_X11.tmpl_warning_fix.diff to allow this
  * Introduce replace_conffile_with_symlink_{prepare,commit,rollback}
    functions to debian/shell-lib.sh. Switch handling of symlinks to
    them.
  * Add link from /etc/X11/xkb/rules/xorg.lst to
    /etc/X11/xkb/rules/xfree86.lst in xlibs.links. Add it to symlink
    handling.
  * Add /etc/X11/xkb/rules/xfree86.xml symlink to symlink handling.
  * Check old version of package in postrm in case of abort-install or
    abort-upgrade so we do not remove new config in the case of failed
    install/upgrade from not so old version.

  [ Julien Cristau ]
  * Clean up FAQ to refer to X.Org instead of XFree86. Closes: #319407

  [ David Martínez Moreno ]
  * Include upstream X.Org changelog in x11-common documents.
  * Remove various references to XFree86 and its trappings.
  * Remove obsolete XF86Config.7 manpage.
  * Minor updates to Hurd files.
  * Various fixes to xserver-xorg.templates.
    - Typo fix.
    - Don't add load GLcore module, which is ignored by the server anyway.
    - Remove extraneous reference to the now removed Speedo fonts.
    - Remove references to xtt in the description of the modules.
  * patches/general/000_stolen_from_unichrome.sf.net.diff: Added high
    resolution modes for KM400, patch by Luc Verhagen (closes: #318348).
  * Typos kindly submitted by A Costa:
    - Fixed typo in XStandards manpage (closes: #320545).
    - Fixed typo in Xsession manpage (closes: #320546).
    - Fixed typo in dexconf manpage (closes: #306689).
    - Fixed typo in bitmap manpage (closes: #306706).
    - Fixed typo in xedit manpage (closes: #306707).
    - Fixed typo in xvinfo manpage (closes: #306709).
  * Added patches/general/general/025b_xkb_README_typos.diff: Fixed
    typos in XKB's README.config. Thanks, Daniel Hulme and Adrian von Bidder
    (closes: #315555, #321946).
  * Updated Spanish translation.
  * Updated French translation. Thanks, Christian Perrier (closes:
    #319448).
  * Updated Brazilian Portuguese translation. Thanks, André Luís Lopes
    (closes: #320469).
  * Added Simplified Chinese translation (zh_CN.po). Thanks, Carlos Z.F.
    Liu! (closes: #320657).
  * Added Basque translation (eu.po). Thanks, Pi. (closes: #320792).
  * Added more GNU/kFreeBSD fixes, for xserver-xorg.config.in, in order to
    obtain the list of mouse devices dynamically.
  * Fixed reference to migrated items in xserver.xorg.config.in. Thanks,
    Joey Hess (closes: #318276).
  * patches/general/030_libvgahw_gcc4_volatile_fix.diff: Disabled by now in
    order to test if the gcc 4.0.1-3 workaround is enough.

  [ Eugene Konev and David Nusinow ]
  * Switch from dbs to quilt.
    - Document how to use the system in debian/README
    - Re-organize patches in to subdirectories
  * Drop xmh.
    - Add general/022_disable_xmh.diff to not build it
    - Remove xmh from MANIFEST files and xlibs-data.installs

  [ Branden Robinson ]
  * Document the function of the "v4l" X server module in the
    xserver-xorg/config/modules debconf template, and enable it by default.
    (Closes: #135768)
  * Remove versioned dependency expression from libxaw8's shlibs file, as
    there was never an earlier version of the package in existence to depend
    on.

  [ Denis Barbier ]
  * Minor cleanup of XKB related patches.
    - Remove us(intl) from patch #099j_xkb_new_layouts, this variant
      has been included upstream.
    - Fix patch #099t_xkb_remove_hidden_attributes, it applies against
      symbols/pc/us and not symbols/us.
    - Update patch #099z_xkb_level3_ralt_switch to also replace
      level3(ralt_switch_multikey) by level3(ralt_switch) in new layouts.
  * Add general/088_xkb_only_one_default_variant_gb.diff to remove the
    'default' attribute of gb(intl), there must be only one default
    variant per layout.
  * Do not set Right Alt to AltGr with dvorak layout: this layout has
    only two levels, so people prefer to have a 2nd Alt key rather
    than a useless AltGr.  Thanks Adam C Powell IV.  Closes: #258399

 -- David Nusinow <dnusinow@debian.org>  Wed, 10 Aug 2005 01:09:06 -0400

xorg-x11 (6.8.2.dfsg.1-4) unstable; urgency=low

  Changes by David Nusinow:

     - Remove README.DGA from xserver-xorg.docs.m68k, mips, mipsel, and arm to
       fix FTBFS.
     - Resolve MANIFEST.mips to fix FTBFS
     - Add missing docs to xserver-xorg.docs.mipsel
     - Incorporate patch from HEAD to include more radeon PCI ID's. Thanks
       Harald Welte. Closes: #318948
     - Make the build not fail on MANIFEST check. If there are discrepancies,
       I'd rather have a mostly complete X package than a failure on some
       arches. The failure diff will still be spit out, allowing us to fix the
       problems.

  Changes by Eugene Konev:

     - Update 030_libvgahw_gcc4_volatile_fix.diff to include a complete fix.
       Closes: #318218

  Changes by David Martínez Moreno

     - Fix xlibmesa-dri.bug.script to attach correct log files

 -- David Nusinow <dnusinow@debian.org>  Mon, 18 Jul 2005 09:34:07 -0400

xorg-x11 (6.8.2.dfsg.1-3) unstable; urgency=low

  Changes by David Nusinow:

     - Change reference to xlibglu1-xorg-dbg to libglu1-xorg-dbg in
       debian/rules (thanks Steve Langasek)
     - Update MANIFEST.in, and missing items to be installed for alpha, arm,
       and m68k
     - Fix incorrect C++ ABI transition. libglu1-xorg is implemented in C++
       but only exports a C ABI, so transitioning it is unnecessary. The
       package now provides both libglu1 and libglu1c2. Thanks to Marcelo
       Magallon and Steve Langasek.
     - Refer to correct config file in xserver-xorg.bug.script (thanks David
       Martínez Moreno)
     - Add 030_libvgahw_gcc4_volatile_fix.diff to work around libvgahw.a gcc4
       breakages. Thanks David Martínez Moreno and Paul Hampson.
       Closes: #318218, #318231, #318271, #318405, #318430
     - dexconf fix for 3 button mouse emulation. Thanks David Martínez Moreno;
       Closes: #318092
     - Turn on SELinux support in xdm. Thanks Manoj Srivastava; Closes: #317024
       - Add libselinux1-dev to Build-Depends
     - Update Danish debconf translations. Thanks to Claus Hindsgaul;
       Closes: #318227
     - Update Czech debconf translations. Thanks to Miroslav Kure;
       Closes: #318323
     - Update Portuguese (Brazilian) debconf translations. Thanks to Andre
       Luis Lopes; Closes: #318635
     - Update German debconf translations. Thanks to Alwin Meschede;
       Closes: #318721

   * Changes by Daniel Stone:
     - Fix S/390 build by bringing MANIFEST and *.install.s390 files up to
       date.
     - Let Xdmx build on S/390 as well.  Move xdmx.install.* files to
       xdmx.install, since they were identical for each architecture.
     - Bring MANIFEST.mips{,el}.in up to date.
     - Bring xserver-xorg.install.{alpha,mips{,el}} up to date.
     - Fix mysterious breakage in the SPARC build by fixing its MANIFEST good
       and proper.
     - Drop libstdc++6-dev dependency entirely, since build-essential will
       bring that in.  Also drop libc6-dev dependency. Closes: #318353

  Changes by Eugene Konev:

     - Add patch 002a_xterm_no_overstrike_bold_fonts.diff to fix xterm bold
       fonts ugliness; Closes: #318162

 -- David Nusinow <dnusinow@debian.org>  Tue, 12 Jul 2005 16:52:39 -0400

xorg-x11 (6.8.2.dfsg.1-2) unstable; urgency=low

  Changes by David Nusinow:

     - Change x-window-system to depend on xprint
       - Change 009 patch to refer to xprint instead of xprt-xprintorg

     - Run debian/rules update-po to update translation templates

     - Drop versioned dependency on libstdc++

     - Update debian/NEWS with a few things

     - Update xlibs-static-dev package description with libXprint* libs (thanks
       Nathanael Nerode)

     - Add 104_sparc_no_mv8_flag.diff to fix a build problem on sparc (thanks
       Julien Cristau)

  Changes by Daniel Stone:

     - Fix FTBFS by only forcing BuildXprintLib building when we're not
       BuildingServersOnly (i.e. only in the normal build, not in -dbg).
     - Change NOT_BUILDING_XFREE86_X_SERVER to _XORG_ in vars.s390 (fixes FTBFS
       also).
     - Add 000_stolen_from_drm.diff from Ubuntu, with annotations, which fixes
       FTBFS when using linux-libc-headers.

 -- David Nusinow <dnusinow@debian.org>  Mon, 11 Jul 2005 20:47:31 -0400

xorg-x11 (6.8.2.dfsg.1-1) unstable; urgency=low

  Changes by David Nusinow:

    - Add missing comma to Build-Depends in debian/control. Thanks to Eugene
      Konev for catching this!

    - Change x-common to x11-common in order to reflect that this package
      provides symlinks named x11

   - Add -f to update-rc.d call in xfree86-common.postinst.in to get rid of
      error during configure stage. Thanks to Norbert Tretowski for providing
      the fix.

   - Disable acceleration on C&T 69000 by default but allow it to be overrided
     by config file. Thanks to Dan Christensen and Nathanael Nerode;
     Closes: #315315

   - Remove svn comments from debian/local xpm pixmaps to unbreak xdm. Thanks
     to Eugene Konev.

   - Disable xprt. Thanks to Eugene Konev!
     - Change x-window-system to depend on xprt-xprintorg (thanks to Drew
       Parsons); Closes: #300974

   - Change debian/po/POTFILES.in to use x11-common templates, not
     xorg-common.templates. Thanks to Eugene Konev

   - Pull the following from Ubuntu Breezy patches to allow gcc4 builds
     - 024d_radeon_fix_gcc4_build.diff (to which I incorporated a one-line fix
       from the 024a_radeon_benh_fixes.diff patch)
     - 991_ubuntu_gcc_flags.diff

    - Package name changes for the C++ ABI transition: (Thanks to Eugene Konev,
      Steve Langasek, and Daniel Stone)
      - xlibmesa-glu renamed to libglu1-xorg; Provides: changed to
        libglu1c2, libglu1c2 added to the Conflicts: and Replaces:
      - libglu1-xorg shlibs changed to libglu1-xorg | libglu1c2
      - xlibmesa-glu-dbg renamed to libglu1-xorg-dbg; xlibmesa-glu-dbg
        added to Conflicts: and Replaces:
      - xlibmesa-glu-dev renamed to libglu1-xorg-dev; depend on
        libglu1-xorg instead of xlibmesa-glu, of course, and add
        xlibmesa-glu-dev to the Conflicts/Replaces/Provides
      - Update x-window-system-core to depend on libglu1-xorg instead of
        xlibmesa-glu
      - Update x-window-system-dev to depend on libglu1-xorg-{dev,dbg}
        instead of xlibmesa-glu-{dev,dbg}
      - Drop the xlibmesa3, xlibmesa3-dbg, and xlibmesa-dev transition
        packages; these existed for the woody->sarge transition, and they
        can't possibly provide a proper transition for anything that
        relies on the C++ ABI, so better to get rid of them altogether
      - Rename all xlibmesa-glu package files accordingly

    - Remove libglu1-xorg-dev's dependency on "libstdc++5-3.3-dev |
      libstdc++-dev": this doesn't actually ensure that the correct C++
      headers are installed, and it's no longer the correct libstdc++
      version anyway.

    - Add patch 915_disable_i915_debugging.diff, to disable non-x86 debug
      statements for this chip. Thanks to Aaron M. Ucko

    - Patch Audit
      - 0000_backport_from_upstream.diff updated
        - Thomas Winischhofer's post-6.8.2 fixes to MiscPassMessage();
          Closes: #285807
      - 000_backport_from_author_xterm.diff ported (Nathanael Nerode)
        - Closes: #297430, #296592, #298551
      - 002_xdm_fixes.diff updated (Eugene Konev)
      - 003b_xfs_fixes.diff ported (Eugene Konev, Nathanael Nerode)
      - 005_rgb.txt_in_etc_X11.diff updated (Nathanael Nerode)
      - 008_fix_xgetpw_macro.diff updated (Eugene Konev)
      - 011_SECURITY_makedepend_safer.diff (Nathanael Nerode)
      - 011a_recognize_glibc_2.3.2_locale_names.diff (Nathanael Nerode)
      - 013a_xkb_symbols_euro_support.diff added (Eugene Konev)
      - 019_iso8859-15_Compose_fix.diff updated (Eugene Konev)
      - 043_ati_r128_update_chip_identification.diff added (Nathanael Nerode)
      - 047_mga_manpage_updates.diff updated
      - 055_lnx_evdev_keyboard.diff updated
      - 067_fix_X11_and_xdm_build_problems.diff ported (Eugene Konev)
      - 089_xkb_fix_symbols_pc_lt.diff got ID tags back
      - 093_xkb_fix_macintosh_problems.diff got macintosh equal key fix ported
      - 099e_xorgconf_manpage_overhaul.diff ported
      - 099h_mesa_tdfx_load_right_glide_library.diff patched to use
          libglide_h3/5 as used in unstable packages.
      - 099q_tdfx_improve_mode_rejection_diagnostics.diff added
      - 099q_xkb_tr_fix_eacute.diff removed
      - 099r_xlsfonts_do_not_spew_usage_on_connection_error.diff added
      - 099s_selinux_support.diff ported
      - 099s_xkb_tr_fix_eacute.diff added
      - 099t_xkb_remove_hidden_attributes.diff ported
      - 099u_mkdirhier_rewrite.diff ported (Eugene Konev, Nathanael Nerode)
      - 099v_fontserver_fix_SEGV.diff ported
      - 099x_xdm_support_logfile_rotation.diff ported
      - 250_m68k_build_scanpci.diff updated
      - 304_arm_Xlib.h_kludge_around_ARM_ABI_brain_damage.diff ported
      - 910_debian_Xserver_RTFF.diff updated
      - 913_debian_remove_code_ref_to_object_code_files.diff ported
        - patch to xc/programs/Xserver/hw/xfree86/drivers/rendition/vboard.c
          re-added to comply with post-sarge SC

 -- David Nusinow <dnusinow@debian.org>  Fri, 24 Jun 2005 10:24:48 -0400

xorg-x11 (6.8.2.dfsg.1-0pre1v1) experimental; urgency=low

  Changes by David Nusinow:

    - Updated packaging to be based off Ubuntu hoary packaging
      - Merge changelog from Ubuntu hoary package to this changelog
      - Change instances of "Ubuntu" to "Debian" in control file
      - Add Daniel Stone to list of Debian package authors in copyright for
        his work on this package. Update branding in general in this file.
      - Update shell-lib.sh to merge changes from current xfree tree
      - Change twm manpage to be set to twm.1x rather than twm.1, as in the
        xfree packaging
      - Re-brand XFree86 to X.Org in README
      - Re-add usr/X11R6/lib/X11/fonts/encodings/large/jisx0208.1983-0.enc.gz
        to xfonts-base.install
      - Merge xfree tree xfree86-common.init in to xorg-common.init
        - Comment out lsb stuff for now, since Debian can't guarantee it.
          Replace logging with echo's like in xfree script.
      - Re-add Branden's copyright to xfs.init
      - Merge changes from xfree tree in to xserver-common.config.in
      - Merge changes from xfree tree to scripts directory:
        - manifest-install-reconcile
        - validate-posix-sh
      - Merge changes from xfree86 tree to local directory:
        - dexconf
        - dexconf.1
        - FAQ.xhtml
          - Fix a freedesktop.org reference to X.Org
        - xterm.faq.html
        - xvfb-run
        - xdm/Xstartup
        - Xsession.d/30xorg-common_xresources
        - xdm.init
        - xdm.logrotate
        - xdm.README.Debian

    - Re-add jisx0208.1983-0.enc.gz to MANIFEST.all's list of font encodings
      until I know more about why it was removed.

    - Re-add the following to MANIFEST.[arch] and xdm.install
      - etc/X11/xdm/Xreset

    - Re-enable various modules for xlibmesa-dri-dbg.install
      - i810 and tdfx for amd64 . Apparently these were supposed to be
        re-enabled according to the changelog
      - i830 and ffb for i386
      - ffb, i810, and i830 for ia64
    - Re-enable various modules for xlibmesa-dri.install
      - i810 for amd64
      - ffb and i830 for i386
      - ffb, i810, and i830 for ia64

    - Handle xlibs-static package split
      - Add libxvmc-dev.install.hurd-i386 file which removes
        usr/X11R6/lib/libI810XvMC.a. Removing
        xlibs-static-dev.install.hurd-386.
      - Add libxxf86vm-dev.install.s390 file which removes manpages. Removing
        xlibs-static-dev.install.s390.
      - Removing xlibs-static-pic-install.[hurd-i386,netbsd-i386,s390] as the
        files which they specifically removed in the past don't appear to be
        shipped any more.

    - Merge and edit control file to refer to XSF

    - Fixes in local
      - Spelling fix in dexconf.1
      - Spelling fix and merge updates in to FAQ.xhtml
      - Merge update to lxterm, uxterm.1, xdm.options.5, XF86Config.7,
        xfs.options.5, Xsession.5, Xsession.options.5, Xwrapper.config.5
      - Re-added Xreset script in local/xdm

    - Branding edit and merges to debian/rules

    - Patch Audit
      - Edited 0000_backport_from_upstream.diff
        - Removed redundant patches that are also in 000_stolen_from_HEAD.diff
      - Edited 000_stolen_from_HEAD.diff
        - Re-diffed Xpm's create.c fix to get it to apply properly
      - Edited 002_xdm_fixes.diff, 003_linux.cf_and_xfree86.cf.diff, and
        068_fix_InstallAppDefFiles_screwage.diff to allow them to apply
        properly with no fuzz

  * Update FAQ to refer to X.Org instead of freedesktop.org where appropriate.
    (Closes: #309811)

  * Change xorg-common to x-common

  * Update lsb-base version requirement to 3.0-1

  Changes by Branden Robinson:

  * Initial release, based upon upstream CVS tag XORG-6_8_2.  See
    debian/copyright for details of material removed due to overlap with
    existing Debian packaging or license terms that fail to satisfy the DFSG.

  * Explain build-dependencies and build-conflicts in debian/control comments.

  * Update build-dependencies relative to xfree86 4.3.0.dfsg.1-12:
    + List upstream build dependencies on commands first, followed by
      upstream build depenencies on library headers, and then Debian packaging
      infrastructure dependencies.
    + Remove no-longer needed build dependencies on libfontconfig1-dev (header
      files not used), libpaperg (superseded by libpaper1, and depended upon
      by tetex-bin nowadays), linux-kernel-headers (depended on by
      build-essential package libc6-dev), bzip2 and dbs (new organization of
      source package will not require these).

  * Backport fixes from upstream CVS trunk:
    + Shut up (tons of) Imake warnings on Debian systems by testing for
      variable being defined before testing its value.  (Presumably the
      fallback definition of NothingOutsideProjectRoot in Imake.tmpl was
      intended to prevent this, but it apparently is not in effect yet
      when linux.cf is parsed.)
    + Fix CAN-2005-0605: scan.c in the Xpm library may allow attackers to
      execute arbitrary code via a negative bitmap_unit value that leads
      to a buffer overflow. (see Debian #298939)

  * Update debian/copyright to correctly document source package name, origin
    of .orig.tar.gz file, and credit David Nusinow as a package author.
    Restore removal of credits to Stephen Early, Mark Eichin, and ISHIKAWA
    Mutsumi as package authors.  Alter Debian "fallback" copyright notice to
    credit copyright from changes in 1996 to Stephen Early, in 1997 to Mark
    Eichin, and for the years since to Branden Robinson.  In the U.S., a
    written instrument is required to transfer copyright, and to the best of
    my knowledge, none of Stephen, Mark, or myself ever signed such an
    instrument.  Remove anti-publicity clause from Debian fallback copyright
    notice as it's not part of the original MIT/X11 license from the 1980s and
    has no force under U.S. copyright law (asserting copyright in something,
    even Free Software, doesn't waive a person's publicity rights anyway).
    Remove duplicate Debian copyright notice for Software in the Public
    Interest, Inc.  Merge change from Debian xfree86 SVN to stop identifying
    the Compugraphic and Adobe fonts from the Xprint server as non-DFSG-free;
    the files have been removed from the upstream archive for another reason,
    namely the existence of the xprint package.

  * Place Ubuntu package changelog entries in changelog.Ubuntu (as they do not
    actually reflect package release history as a Debian user would see it).
    Ship this changelog in /usr/share/doc/xorg-common.

  * Add debian/scripts/missing-keyword-sniffer, which identifies plain text
    files in the source package that are missing Subversion Id keywords or the
    corresponding property.

  * Rework source package to consist of an unpacked source tree, instead of
    shipping a .tar.gz inside the .orig.tar.gz.
    + Add debian/scripts/up-scripts (called automatically by dbs's "setup"
      target), which copies the source tree into build-tree using hardlinks.
    + Update debian/setperms to ensure that up-scripts is executable.
    + Update debian/vars to stop defining SOURCE_DIR variable.
    + Put debian/scripts in PATH and export it from debian/rules, so that dbs
      can find up-scripts.
    + Update target dependencies in debian/rules from "$(patched)" to "setup",
      so that we can be sure up-scripts is run.

  * Make .orig.tar.gz preparation less opaque.
    + Add prune-upstream-tree and make-orig-tar-gz phony targets to
      debian/rules.  (Note that these are not intended for ordinary package
      builds, and have to be manually invoked.)
    + Remove outdated and now-obsolete file debian/scripts/prune-non-free.
    + Add $(SOURCE_NAME) and $(UPSTREAM_VERSION) variables to debian/rules.

  * Update paths to files containg sourceless firmware in debian/copyright.

  * Grab patches from upstream CVS HEAD:
    - Add radeon(4x) manpage updates documenting VGAAccess, ReverseDDC, and
      LVDSProbePLL options.  (Benjamin Herrenschmidt)
      <URL: https://bugs.freedesktop.org/show_bug.cgi?id=2064 >.
    - Add VGAAccess option to r128 driver, based on Benjamin Herrenscmidts's
      radeon patch.  r128 should now work on PowerPCs without "UseFBDev".  To
      use this on PowerPC, make sure you set "UseFBDev" to "false".
      (Alex Deucher)
      <URL: https://bugs.freedesktop.org/show_bug.cgi?id=2089 >.

  * Document DFSG-non-freeness of PolyglotMan ("rman") in debian/copyright.

  * Update patch #058 to give Xcomposite, Xdamage, Xevie, and Xfixes their own
    copies of the config-subst script, instead of hard-coding a within-tree
    path to the copy in the Xcursor library.  (I don't know what the point of
    directing these Imakefiles over to Xcursor's copy was -- there were
    already four identical copies of config-subst in X.Org 6.8.2 anyway, so
    this decision didn't help matters much. :) ) Update the Imakefiles to look
    for config-subst in the current working directory instead of ../Xcursor.
    Convert local includes to system includes in the GLU library and X server
    so that the RENDER protocol headers can actually be found.  Define
    RenderDefines if either BuildRender or HaveRenderLibrary is true, not just
    BuildRender.  Only specify render.h and renderproto.h as targets and
    install renderproto.h as part of the SDK if we're building the extension
    and *don't* have the extension library in the build environment.  Update
    MANIFEST.*.in files to reflect the fact that render.h and renderproto.h
    are no longer installed.

  * Stop removing the debian/local/xlibmesa-drm-source directory in
    debian/rules's clean target, as nothing creates it, and nothing has since
    xfree86 4.3.0-0pre1v3.

  * Add build-dependency on render-dev (>> 1:0.9), since several files
    directly #include render.h and renderproto.h.  Version dependency since
    symbols new to renderext 0.9 are used.  Document dependency in detail in
    debian/control comments.

  * Update patch #908 to stop attempting to install the sourceless microcode
    files associated with the rendition driver, which are not part of the
    source package (see debian/copyright).  Correct
    debian/MANIFEST.{alpha,amd64,hurd-i386,i386,ia64,sparc}.in to reflect the
    absence of these files.  (Other architectures do not build the rendition
    driver.)  Thanks to Jesus Climent for spotting this problem.

 -- David Nusinow <dnusinow@debian.org>  Wed, 22 Jun 2005 11:24:38 -0400
xorg (6.8.2-77) breezy; urgency=low

  * Silence update-rc.d in xorg-common postrm.
  * Add ch(de) fallback for sg-latin1--* (closes: Ubuntu#8824).
  * Revert Wacom changes from -76.
  * Reinstate stripping of drivers.  'Whoops.'

 -- Daniel Stone <daniel.stone@ubuntu.com>  Mon, 10 Oct 2005 09:01:02 +1000

xorg (6.8.2-76) breezy; urgency=low

  * Write stanza for Wacom tablets out by default.  As this uses /dev/wacom*
    stuff, it has no effect on the rest of the planet.
  * Blacklist all HP X300 RV370s a la -69.  Sigh. (closes: Ubuntu#16628).
  * Provide di-keymap us -> layout us mapping (closes: Ubuntu#17097).
  * Revert SiS regs.map changes; outsmarted by the SiS driver, which I assumed
    was just being dumb about it (closes: Ubuntu#16722).
  * Bring in drm.h from libdrm (proper modularisation would be too invasive),
    fixing DRI on amd64 (unsigned int vs unsigned long hilarity; closes:
    Ubuntu#16656).

 -- Daniel Stone <daniel.stone@ubuntu.com>  Wed,  5 Oct 2005 19:08:27 +1000

xorg (6.8.2-75) breezy; urgency=low

  * Remove debris from -74 (cosmetic).
  * Don't add lv3:lwin_switch to XkbOptions if it's already there.
  * Migrate nodeadkeys from XkbOptions to XkbVariant.

 -- Daniel Stone <daniel.stone@ubuntu.com>  Tue,  4 Oct 2005 18:35:57 +1000

xorg (6.8.2-74) breezy; urgency=low

  * Update tdfx and mga DDX versions to match the DRI drivers.
  * Revert sis changes from -72.
  * Always write sync ranges for tdfx (closes: Ubuntu#14787).
  * Pull back i830_driver patch from HEAD to stop the video engine during
    LeaveVT.

 -- Daniel Stone <daniel.stone@ubuntu.com>  Fri, 30 Sep 2005 17:32:30 +1000

xorg (6.8.2-73) breezy; urgency=low

  * xserver-xorg dependency on xserver-xorg-input-* needs to be optionally
    removed for some architectures.  (Specifically, hppa has never delivered
    them, and that made xserver-xorg uninstallable.)

 -- LaMont Jones <lamont@ubuntu.com>  Fri, 30 Sep 2005 14:23:07 -0600

xorg (6.8.2-72) breezy; urgency=low

  * Add stanza for Wacom tablets per default in dexconf.
  * Update tdfx (closes: Ubuntu#15695), mga (closes: Ubuntu#15528), and sis
    DDX-side DRI bits to match Mesa, with mixed 32/64-bit DRI clients.
  * Only do a find if $REAL_DRIVER_DIRS is non-null, so we don't try a find
    across the root (ouch).

 -- Daniel Stone <daniel.stone@ubuntu.com>  Thu, 29 Sep 2005 11:19:23 +1000

xorg (6.8.2-71) breezy; urgency=low

  * Force 16 bit depth on savage driver.
  (Closes: #15718)

  * Implement an anti-"I LOVE TO SHOT MY FEET" check that will force users to
    input at least one resolution if it is not autodetected.
  (Closes: #16035)

 -- Fabio M. Di Nitto <fabbione@ubuntu.com>  Wed, 28 Sep 2005 13:16:34 +0200

xorg (6.8.2-70) breezy; urgency=low

  * Fix xserver-xorg Depends: on sparc.

  * Fix br-latin1 variant/model in xserver-xorg.config.in.
  (Closes: #16386)

 -- Fabio M. Di Nitto <fabbione@ubuntu.com>  Tue, 27 Sep 2005 07:42:54 +0200

xorg (6.8.2-69) breezy; urgency=low

  * Change AccelSucks/AccelLite/FullAccel behaviour: do full acceleration by
    default on RV370 chips, since they seem to largely be okay.  Only disable
    acceleration on R[CV]4xx chips, which are broken, and then disable all
    acceleration instead of accel lite, since drawing lines is just as quick
    in software as hardware, and we don't have to read back from the fb every
    time we draw a line.

 -- Daniel Stone <daniel.stone@ubuntu.com>  Tue, 20 Sep 2005 17:30:17 +1000

xorg (6.8.2-68) breezy; urgency=low

  * Always write sync ranges when using the s3 driver, as it doesn't appear to
    even have the code to do DDC (closes: Ubuntu#11328).

 -- Daniel Stone <daniel.stone@ubuntu.com>  Fri, 16 Sep 2005 17:09:12 +1000

xorg (6.8.2-67) breezy; urgency=low

  * Add special cases for French and English (UK) keyboards, so we should be
    catching all of them now (closes: Ubuntu#10511).
  * Add Slovenian keyboard mappings (closes: Ubuntu#11252).

 -- Daniel Stone <daniel.stone@ubuntu.com>  Fri, 16 Sep 2005 17:02:21 +1000

xorg (6.8.2-66) breezy; urgency=low

  * Disable font server in dexconf for mad startup time victory.

 -- Daniel Stone <daniel.stone@ubuntu.com>  Fri, 16 Sep 2005 11:25:05 +1000

xorg (6.8.2-65) breezy; urgency=low

  * Make AccelSucks cancellable by explicitly specifying Option "FullAccel"
    in xorg.conf.  If the rv370 variant is not vulnerable to dying really
    badly (which it probably isn't, by the looks), it should revert to the
    normal behaviour and only r{c,s}4xx chips affected.  Stay tuned.
  * Revert DRI protocol back to 4.x, so fglrx is all shiny again.  Note that
    this change breaks mixed 32/64-bit DRI clients.

 -- Daniel Stone <daniel.stone@ubuntu.com>  Thu, 15 Sep 2005 09:36:08 +1000

xorg (6.8.2-64) breezy; urgency=low

  * Disable screen-to-screen copies and solid fills on certain of r3xx-based
    Radeons, as MMIO acceleration is very problematic there, and we don't
    currently have CP acceleration for newer stuff (closes: Ubuntu#12950,
    Ubuntu#10234).
  * Finally fix keyboard_drv vs kbd_drv hilarity once and for all.

 -- Daniel Stone <daniel.stone@ubuntu.com>  Tue, 13 Sep 2005 10:55:39 +1000

xorg (6.8.2-63) breezy; urgency=low

  * SECURITY: CAN-2005-2495:
    Fix exploitable integer overflow in pixmap creation in software
    framebuffer cores, leading to possible arbitrary code execution with
    elevated privileges.

 -- Daniel Stone <daniel.stone@ubuntu.com>  Mon, 12 Sep 2005 21:26:12 +1000

xorg (6.8.2-62) breezy; urgency=low

  * Change 'la' (which has been repurposed from Latin American to Laotian) to
    'latam' in xserver-xorg.config.in (closes: Ubuntu#15209).

 -- Daniel Stone <daniel.stone@ubuntu.com>  Mon, 12 Sep 2005 12:41:56 +1000

xorg (6.8.2-61) breezy; urgency=low

  * Slightly invert the sense of the tests for when to write out sync ranges,
    so we don't spontaneously gain sync ranges when upgrading.
  * Update the i810 driver again, which fixes lockups when calling AdjustFrame,
    and fixes gamma in 8bpp modes.

 -- Daniel Stone <daniel.stone@ubuntu.com>  Fri,  9 Sep 2005 12:32:15 +1000

xorg (6.8.2-60) breezy; urgency=low

  * Set module list to be separated by commas and spaces, not just commas, in
    xserver-xorg.config.in.  Thanks to Colin Watson and Sébastien Bacher.

 -- Daniel Stone <daniel.stone@ubuntu.com>  Thu,  8 Sep 2005 21:48:41 +1000

xorg (6.8.2-59) breezy; urgency=low

  * Mangle our sorting of the resolution lists to make sure we don't get
    pruning of resolutions with identical horizontal parts (ie: 1920x1440
    and 1920x1200 become 1920x1440 only, now we get both listed correctly)

 -- Adam Conrad <adconrad@ubuntu.com>  Thu,  8 Sep 2005 15:07:37 +1000

xorg (6.8.2-58) breezy; urgency=low

  * Keep a hard-coded list of resolution choices in xserver-xorg.templates,
    meaning that, while resolution choices must now be synchronised in *three*
    places, we actually get it right for the general case.  Should fix this
    properly, post-preview (closes: Ubuntu#14454).

 -- Daniel Stone <daniel.stone@ubuntu.com>  Wed,  7 Sep 2005 18:55:16 +1000

xorg (6.8.2-57) breezy; urgency=low

  * Implement a slightly more robust system for finding modules so we don't
    freak out people with /usr/lib/xorg/modules: directory not found.
  * If we've seen the modules question, but it's empty, force the 'seen' flag
    to false so we take the default, which should fix things for people who've
    been upgrading through breezy.
  * Write out sync ranges if we refuse probing or end up with sync ranges that
    aren't at all DDC-tastic (closes: Ubuntu#14378).
  * Add chips and siliconmotion drivers to bad-laptop-chipsets (closes:
    Ubuntu#14714).
  * Fix xrgb reference in xbase-clients (closes: Ubuntu#13976).
  * Update xserver-xorg description so we no longer encourage people to remove
    it.
  
 -- Daniel Stone <daniel.stone@ubuntu.com>  Wed,  7 Sep 2005 12:00:06 +1000

xorg (6.8.2-56) breezy; urgency=low

  * Fix module searching in xserver-xorg.config.in (closes: Ubuntu#14430).
    + Give the genscripts target proper dependencies, also.
    + Tighten up the regex used to find modules.

 -- Daniel Stone <daniel.stone@ubuntu.com>  Thu,  1 Sep 2005 11:59:07 +1000

xorg (6.8.2-55) breezy; urgency=low

  * Update libDRI version checks in all DRI drivers, to get DRI working again
    everywhere.
  * Update SiS DRI from HEAD to catch drift in the SISDRIRec.

 -- Daniel Stone <daniel.stone@ubuntu.com>  Tue, 30 Aug 2005 08:47:42 +1000

xorg (6.8.2-54) breezy; urgency=low

  * The 'Do Androids Dream of Electric Beats?' release.
    + ... in which a once-mighty monolith is cut down to only a couple of
      servers, and a couple of metapackages.
  * Stop building libGL, as this is provided by mesa >= 6.3.1.1-0ubuntu1.
  * Update x-w-s-c's Depends to depend on libgl1-mesa for GL, and
    libgl1-mesa-dri for DRI (replacing libgl1-xorg and libgl1-xorg-dri,
    respectively).
  * More happy fun pruning of unneeded patches.
  * Update i810 driver to version from HEAD, minus VideoObjectModule changes.
    + Added Recommends: libgl1-mesa-dri (>= 6.3.1.1-0ubuntu1) to -i810, as the
      DRI<->DDX interface changed, and new DRI modules won't work with the old
      DDX.
  * Fill out xbase-clients and xutils dependencies, so we shouldn't be missing
    anything that will actually ship in breezy.
  * Stop installing libXfont in xlibs-static-dev; Build-Conflict with
    libxfont-dev.
  * Fix the ZAxisMapping default ('true' and 'false' are valid options for
    booleans; '4 5' is not).
  * Teach xserver-xorg.config.in about .so modules, and modules in
    /usr/lib/xorg/modules.
  * Change x11proto-panoramix-dev Build-Dep to -xinerama-.
  * Only seed a default of pc105 in the -z $XKBMODEL case (see -50); pc104
    defaults are seeded everywhere we use a us keymap, and abnt2 defaults are
    seeded everywhere we use a br keymap.  This reverts part of -50.
  * Change discover usage to --disable-all --enable=pci to avoid segfaults.

 -- Daniel Stone <daniel.stone@ubuntu.com>  Mon, 15 Aug 2005 20:07:27 +1000

xorg (6.8.2-53) breezy; urgency=low

  * Right, so testing in clean chroots is something I keep yelling at other
    people for not doing.  Go me.  We now have a build-dep on libgl1-mesa-dev.

 -- Adam Conrad <adconrad@ubuntu.com>  Sun, 21 Aug 2005 05:51:57 +1000

xorg (6.8.2-52) breezy; urgency=low

  * And we grew a shiny new build dependency on x11proto-gl-dev.

 -- Adam Conrad <adconrad@ubuntu.com>  Sun, 21 Aug 2005 04:14:52 +1000

xorg (6.8.2-51) breezy; urgency=low

  * Change metapackage dependencies for the xorg -> mesa transition.
    (not actually removing the libgl1-xorg packages until -52, however)

 -- Adam Conrad <adconrad@ubuntu.com>  Sun, 21 Aug 2005 02:02:00 +1000

xorg (6.8.2-50) breezy; urgency=low

  * Ensure that a default is set for
    xserver-xorg/config/inputdevice/keyboard/model in xserver-xorg.config.in

 -- Matt Zimmerman <mdz@ubuntu.com>  Tue, 16 Aug 2005 17:56:02 -0700

xorg (6.8.2-49) breezy; urgency=low

  * Update description and dependencies for xlibs-static-dev to reflect the
    package split.
  * Remove support for architectures which do not build an X server at all.
  * Kill libosmesa4 off.  The one package left using it can migrate to the
    Mesa version.  Remove libGLw also.
  * Remove MANIFESTs for alpha, arm, hurd-i386, m68k, mips, mipsel, and
    s390, as they were hopelessly out of date anyway, and
    architecture-specific patches for those architectures.
  * Remove a whole swathe of unused code from shell-lib.sh.
  * Remove unused xorgconf manpage rewrite, an xev fix, and substantial
    changes to the fonts Imakefiles.
  * Fix loading of libglide3 modules for specific chipsets (Voodoo3 and
    Voodoo5).
  * Correct DefaultFontPath.
  * Remove all old Conflicts/Replaces (pre-Warty, most of the pre-Hoary stuff
    also).  This simplifies all the package relationships *massively*, which
    will hopefully make dpkg stop segfaulting when attempting to fulfill
    libqt3-mt-dev's Build-Depends.  Yay for clean solutions.
  * Remove ancient and out-of-date NEWS file.
  * Stop building man pages for stuff we don't ship.
  * Bump xserver-xorg/autodetect_monitor priority to medium.
  * Shuffle around the XKB layout detection code to use auto_answer instead of
    db_set && db_input; move abnt2 model special-casing to the layout tree
    instead.
  * Remove libxp6-dbg from x-w-s-d dependencies (closes: Ubuntu#13252).

 -- Daniel Stone <daniel.stone@ubuntu.com>  Thu, 11 Aug 2005 11:11:34 +1000

xorg (6.8.2-48) breezy; urgency=low

  * Fix auto_answer syntax for write_files_section and write_dri_section.

 -- Colin Watson <cjwatson@ubuntu.com>  Wed, 10 Aug 2005 18:13:14 +0100

xorg (6.8.2-47) breezy; urgency=low

  * Add Pre-Depends on x-common back to xserver-xorg, so pointers to
    /usr/bin/X11/Xorg aren't broken.  Also add them to xdmx and xvfb.
  * Bump xserver-xorg-core's Replaces on xserver-xorg from -45 to -46
    (artefact of development interrupted by other uploads).
  * Make xlibs depend on xkeyboard-config.
  * Build -v4l on amd64.
  * Only run large swathes of the xserver-xorg.config.in when we're doing
    reconfig or firstinst, and add auto_answer to some bare db_inputs.

 -- Daniel Stone <daniel.stone@ubuntu.com>  Wed, 10 Aug 2005 20:43:08 +1000

xorg (6.8.2-46) breezy; urgency=low

  * Restrict arch list for -driver-v4l to architecures which build a loadable
    server.
  * Remove libglu1-mesa-dbg from x-w-s Depends, as Mesa doesn't (yet) build
    debug packages.
  * Fix all outstanding references to xlibmesa-gl (closes: Ubuntu#13270).
  * Make sure we reset default_depth in xserver-xorg.postinst.in as well.
  * Move 'Xorg' symlink from xserver-xorg to -core.
  * Reintroduce xbase-clients and xutils as metapackages.  Note that they are
    still incomplete.
  * Change DefaultFontPath to /usr/share/X11/fonts, so servers with hardcoded
    font paths like Xnest can pick fonts up properly.
  * Add symlinks into /usr/bin/X11 for Xnest and Xdmx.
  * Fix libosmesa4-xorg-dev's dependency on libgl1-xorg-dev.
  * Reinstate all amd64 packaging files -- errr ...

 -- Daniel Stone <daniel.stone@ubuntu.com>  Mon,  8 Aug 2005 12:22:11 +1000

xorg (6.8.2-45) breezy; urgency=low

  * Depend on libgl1-xorg* everywhere instead of xlibmesa-gl*.

 -- Colin Watson <cjwatson@ubuntu.com>  Tue,  9 Aug 2005 18:55:03 +0100

xorg (6.8.2-44) breezy; urgency=low

  * The 'Music Has the Right to Children' release.
  * Break out the last of the libraries -- libxkbfile, libxkbui, libdmx,
    libxxf86{dga,misc,vm}, libxtrap, libxmu, libxt, libxaw, libfs, libxpm,
    libfontenc and libxfontcache.  Only libxf86config and libxfont (these
    are harder to do with a monolithic server) and the GL stuff left.
  * Get rid of the last of the xlibmesa* braindamage:
    + xlibmesa-gl* -> libgl1-xorg, libgl1-xorg-dev, libgl1-xorg-dbg
    + xlibmesa-dri -> libgl1-xorg-dri
    + xlibosmesa* -> libosmesa4-xorg, libosmesa4-xorg-dev, libosmesa4-xorg-dbg
    + XLIBMESA_GL_SPECIAL_DEPENDS simply pruned as it was unused.
    + Drop libglu1-xorg* entirely; libGLU can be provided by Mesa.
  * Sanitise Build-Depends again.
  * Patch cleanup: remove all patches for stuff we don't ship.
  * Don't build any DMX-related sample programs in xc/programs/Xserver/hw/dmx.
  * Remove build-server hooks which are no longer relevant to us.
  * Update Canonical copyright in debian/copyright to cover 2005.
  * Protect against $2 being empty in xlibs.preinst.in, which would cause it
    to bomb when we were installing from scratch.  Don't make failures to
    remove directories hard failures.
  * Integrate patch to add rotation support to the Wacom input driver (thanks,
    Matthew Garrett).
  * Patch #064: Disable building xorgcfg and xorgconfig, by making
    BuildXFree86ConfigTools meaningful, and defining it to no.
  * Renumber 060_fix_XOrgManDefs.diff to #061, as it clashed with the external
    Xrender/Xft/Xcursor patches, and I need to edit those for offsets all the
    time (very annoying).
  * Fix mappings for Dvorak, fr-latin9, tr_f/tr_q, se_FI, se_NO, and most
    other keyboard mappings in xserver-xorg.config.in.  Add support for
    seeding the model as well as the variant, and seed the model to pc104 for
    us-layout keyboards.  This should catch most of the changes made with
    xkeyboard-config.  Seed variants for variants (e.g. us(dvorak) -> layout
    us, variant dvorak), rather than options.
  * Add v4l driver back (missing since the initial release).
  * Add missing alpine and laguna modules back to -driver-cirrus.
  * Change debconf dependencies to use ${misc:Depends} instead.
  * Re-debconf-updatepo the package.
  * Remove support for mdetect completely, as we didn't use it really, and it
    was flaky and horrible (mainly the Debconf code).  Hardcode in a default
    of /dev/input/mice and ImPS/2.

 -- Daniel Stone <daniel.stone@ubuntu.com>  Wed, 20 Jul 2005 16:38:21 +1000

xorg (6.8.2-43) breezy; urgency=low

  * 'Can I keep the baby pictures?' 'No.' 'But-' 'National security.'
  * Move xlibs.postinst.in contents to xlibs.preinst.in, averting a
    Pre-Depends: xlibs (>= 6.8.2-43) from xkeyboard-config.
  * Replace test -d's with more robust if constructs in xlibs.preinst.in,
    and only try to nuke XKB when we're upgrading from an old version.
  * Add Depends: xkeyboard-config to x-window-system.
  * Revert the C++ ABI transition for libGLU, as it only provides a C ABI;
    this parallels a change in Mesa.

 -- Daniel Stone <daniel.stone@ubuntu.com>  Fri, 15 Jul 2005 13:25:55 +1000

xorg (6.8.2-42) breezy; urgency=low

  * Don't attempt to remove /etc/X11/xkb in the xlibs postinst.
  * Move modules, etc, from xserver-xorg to -core (closes: Ubuntu#12960).
  * Add Recommends on xkeyboard-config to xserver-xorg-core, which should
    hopefully drag it in on dist-upgrades.

 -- Daniel Stone <daniel.stone@ubuntu.com>  Fri, 15 Jul 2005 09:11:22 +1000

xorg (6.8.2-40) breezy; urgency=low

  * Add Build-Depends for Xdmx: libxtst-dev.
  * Drop Build-Conflicts on old cpp-3.3.

 -- Daniel Stone <daniel.stone@ubuntu.com>  Thu, 14 Jul 2005 11:20:16 +1000

xorg (6.8.2-39) breezy; urgency=low

  * No, I don't have a clever release name for this one.
  * Drop xlibs dependency on xkeyboard-config.
  * Fix remove_conffile_prepare to actually, er, work.
  * Remove all (and I do mean all) XKB configuration files.

 -- Daniel Stone <daniel.stone@ubuntu.com>  Thu, 14 Jul 2005 00:57:36 +1000

xorg (6.8.2-38) breezy; urgency=low

  * The 'Murderous Metaphors' release.
  * Split out libxres, libxss, libxi, libxinerama, libxrandr, and libxtst.
    + Add Build-Dep for libxi-dev, for xdmx.
  * Stop building all programs except for the server; split out xbase-clients
    and xutils.
  * Change render-dev Build-Depends to x11proto-render-dev, the new package.
  * Add proper paths to xvfb-run (thanks, Sébastien Bacher).
  * Prune still more packaging files for libraries that I forgot to remove.
  * Remove XKB data from the xlibs package; keep the package itself around
    purely to remove old configuration files, as dpkg seems unable to handle
    this on its own.
  * Remove xlibs-pic, xlibs-dbg, and xlibmesa-dev, which were only needed for
    upgrades from woody.
  * Remove a whole boatload of patches for stuff we no longer build.  Yippee!
  * Move xdmx to Architecture: any (paralleling a similar change in Debian's
    xorg-x11). 
  * Add kbd_drv back to xserver-xorg-input-keyboard, and change Driver
    "keyboard" to "kbd".

 -- Daniel Stone <daniel.stone@ubuntu.com>  Tue, 12 Jul 2005 14:26:32 +1000

xorg (6.8.2-37) breezy; urgency=low

  * Architecture specifications don't work in Depends, so xserver-xorg's
    Depends had gone missing. Instead, define a special substvar
    F:XServer-XOrg-Special-Depends, and add XSERVER_XORG_SPECIAL_DEPENDS
    make variables.

 -- Colin Watson <cjwatson@ubuntu.com>  Wed, 13 Jul 2005 10:16:42 +0100

xorg (6.8.2-36) breezy; urgency=low

  * The 'Excessive Ephemera' release.
  * Break out libXevie, libXv and libXvMC.
    + Hardware support for motion compensation (i.e., libI810XvMC) has
      disappeared for the time being.  Not that anything used it anyway.
  * Break xvinfo out to a separate module.
  * Remove xlibmesa-dev package, which is only needed for upgrades from woody.
  * Remove xspecs and xlibs-static-pic dependency from x-window-system-dev.
  * Change hard = ${Source-Version} dependencies from drivers to the server
    core to a more loose dependency which needs to be manually bumped every
    time the server ABI changes incompatibly.  Which also happens to solve the
    problem of the Depends going wandering entirely.  Whoops.
  * Remove Xfixes.3x from powerpc MANIFEST.

 -- Daniel Stone <daniel.stone@ubuntu.com>  Mon, 11 Jul 2005 20:51:53 +1000

xorg (6.8.2-35) breezy; urgency=low

  * The 'largest Binary line in the west' release.
    + ... in which our hero rationalises xserver-xorg.
  * Break out Xfixes, Xdamage and Xcomposite modules to external packages.  No
    additional Build-Depends introduced.
  * Break out xcursorgen to an external package, drop Build-Depends on
    libxcursor-dev.
  * Break out cursors (from xcursorgen, installed to xlibs-data) to an
    external package.
  * Stop trying to be clever and force autodetect_* settings to true on
    reconfigure, as this is completely broken.
  * Remove sh3, sh4 and netbsd-i386 from the xserver-xorg packaging.
  * Break xserver-xorg out into xserver-xorg-core (core server and modules, no
    drivers), and:
    + Display drivers: xserver-xorg-driver-apm, xserver-xorg-driver-ark,
      xserver-xorg-driver-ati, xserver-xorg-driver-chips,
      xserver-xorg-driver-cirrus, xserver-xorg-driver-cyrix,
      xserver-xorg-driver-dummy, xserver-xorg-driver-fbdev,
      xserver-xorg-driver-glide, xserver-xorg-driver-glint,
      xserver-xorg-driver-i128, xserver-xorg-driver-i740,
      xserver-xorg-driver-i810, xserver-xorg-driver-imstt,
      xserver-xorg-driver-mga, xserver-xorg-driver-neomagic,
      xserver-xorg-driver-newport, xserver-xorg-driver-nsc,
      xserver-xorg-driver-nv, xserver-xorg-driver-rendition,
      xserver-xorg-driver-s3, xserver-xorg-driver-s3virge,
      xserver-xorg-driver-savage, xserver-xorg-driver-siliconmotion,
      xserver-xorg-driver-sis, xserver-xorg-driver-sunbw2,
      xserver-xorg-driver-suncg14, xserver-xorg-driver-suncg3,
      xserver-xorg-driver-suncg6, xserver-xorg-driver-sunffb,
      xserver-xorg-driver-sunleo, xserver-xorg-driver-suntcx,
      xserver-xorg-driver-tdfx, xserver-xorg-driver-tga,
      xserver-xorg-driver-trident, xserver-xorg-driver-tseng,
      xserver-xorg-driver-vesa, xserver-xorg-driver-vga,
      xserver-xorg-driver-via, and xserver-xorg-driver-vmware.
    + Input drivers: xserver-xorg-input-acecad, xserver-xorg-input-aiptek,
      xserver-xorg-input-calcomp, xserver-xorg-input-citron,
      xserver-xorg-input-digitaledge, xserver-xorg-input-dmc,
      xserver-xorg-input-dynapro, xserver-xorg-input-elographics,
      xserver-xorg-input-fpit, xserver-xorg-input-hyperpen,
      xserver-xorg-input-kbd, xserver-xorg-input-magellan,
      xserver-xorg-input-microtouch, xserver-xorg-input-mouse,
      xserver-xorg-input-mutouch, xserver-xorg-input-palmax,
      xserver-xorg-input-penmount, xserver-xorg-input-spaceorb,
      xserver-xorg-input-summa, xserver-xorg-input-tek4957,
      xserver-xorg-input-void, and xserver-xorg-input-wacom.
    + Configuration is still in the xserver-xorg package, but this will
      change in the future (when we all have flying cars).
  * Make autodetect_keyboard use auto_answer with a default of true for the
    first install and false otherwise, fixing broken initial installs.
  * Add xserver-xorg-dbg to the list of servers dexconf knows about.
  * Another i810 update from HEAD, which should hopefully fix Xvideo pitch
    problems harder (closes: Ubuntu#12170).
  * Remove the last remnants of rstart from the xutils packaging.
  * Remove xlibs-static-pic.NEWS, which was a) outdated, and b) misleading.
  * Make manifest-install-reconcile deal with this brave post-MANIFEST.all
    world.
  * Stop shipping README.rapidaccess, which was complete crack, and docs for
    SCO/Solaris/*BSD/Darwin/LynxOS.  Since all architectures now ship the same
    set of core xorg documentation, just have a single xserver-xorg.docs.
  * debian/rules prune: remove special-case handling for packages which aren't
    even shipped anymore.
  * Other-architecture cleanup: remove
    xlibs-static-pic.install.{s390,hurd-i386,netbsd-i386},
    xlibs-static-dev.install.hurd-i386, and xlibs-data.install.s390, since
    they were identical to the normal versions.
  * Remove debian/local/README.Debian-upgrade, since it is now so out of date
    as to be useless.
  * Cull the xmh package.
  * Remove patches #017, #086, #099a and #099c, since we no longer build libX11.
  * Remove patch #016, as we no longer build libICE.
  * Rename libglu-dev-xorg to libglu1-xorg-dev, and libglu1-dbg-xorg to
    libglu1-xorg-dbg, to sync up with Debian.
  * Remove XF86Config manpage.  XFree86 3.x is dead.  Let it go.
  * Remove lbxproxy, proxymngr and xfwp package files.
  * Remove now-redundant -DXprtServer=NO in -dbg building.
  * Move all xfree86 package changelogs to changelog.Debian.old.
  * Remove libglu1-xorg-dev's dependency on libstdc++-dev alternatives.
  * Rationalise build-deps: remove a bunch of stuff which we B-D upon, but no
    longer use.  Significantly, tetex-bin is gone; groff, libpng,
    bsdmainutils, fontconfig, libxcursor-dev, and lynx are also gone.
  * Remove 008_fix_xgetpw_macro.diff, bump B-D on x11proto-core-dev to
    6.8.99.2.  This patch was also broken in various ways, per upstream
    discussion, and we'll get a real fix via upstream, when it gets sorted
    out.
  * Drop Pre-Depends on x-common from various packages, since it was only
    complicating upgrades.
  * Don't bother with debian/imports; clean up remnants of xlibmesa-drm-source
    packaging.
  * Remove meaningless $Id$ tags -- this hasn't been from SVN for about a
    year now.
  * Remove dexlet, which was incapable of configuring xserver-xorg anyway.
    Obviously not too widely used ...
  * Stop building rstart for real, for real.

 -- Daniel Stone <daniel.stone@ubuntu.com>  Mon,  4 Jul 2005 09:25:15 +1000

xorg (6.8.2-34) breezy; urgency=low

  * Revert X{Error,Keysym}DB parts of -32; these belong in libx11-6.
  * Move xkb symlinks from -32 to xlibs, since that's where the XKB data is.
  * Change force_keyboard_redetection flag to autodetect_keyboard, to be more
    consistent.
  * Debconf cleanup: remove unused and atrophied monitor code from
    xserver-xorg.config.in, remove misleading Subversion Id lines, clean up a
    bad use of $XORG_FORCE_PROBE, and more.  Always prompt for whether or not
    to redetect video card/keyboard/monitor on reconfiguring (well, at
    priority high, anyway).
  * Make autodetect_{video_card,monitor} actually meaningful (closes:
    Ubuntu#12072).
  * Add Pre-Depends on x-common (>= 1.0) to xserver-common and xlibs.
  * Move Xorg symlink from /usr/bin/X11 to /usr/bin, as the former is becoming
    a symlink to the latter with the new x-common.  Ditto X symlink.
  * Update i810 driver to latest from HEAD (modulo DRI interface change and
    InstallVideoObjectModule) to add i945 support, further fix mode validation,
    fix up Xv support (closes: Ubuntu#12172, #11674), et al.
  * Update SiS driver from HEAD (modulo DRI interface change, etc, etc) to fix
    DRI on 610 (closes: Ubuntu#6243), add non-rectangular MergedFB layouts,
    and other such hilarity.
  * Add xfree86.lst -> xorg.lst symlink (closes: Ubuntu#12167).
  * Add patch from Owen Taylor to fix repeating Pictures in offscreen memory
    in the fb layer (closes: Ubuntu#11941).
  * Add Conflicts/Replaces on old libx11-6 from xlibs-data (closes:
    Ubuntu#12108).
  * Exclude xorg-common from possible 'smoking guns' in looking for file
    overlaps.

 -- Daniel Stone <daniel.stone@ubuntu.com>  Mon, 27 Jun 2005 19:10:24 +1000

xorg (6.8.2-33) breezy; urgency=low

  * Move pkg-config files to their proper place.  This fixes xcursor's
    FTBFS.

 -- Tollef Fog Heen <tfheen@ubuntu.com>  Thu, 30 Jun 2005 14:21:47 +0000
 
xorg (6.8.2-32) breezy; urgency=low

  * Fix XKB harder: provide xkb, XKeySymDB, XErrorDB Xsymlinks in both /usr
    and /usr/X11R6.  There seem to be things looking in both places at the
    moment
  * Add a (temporary?) symlink /usr/bin/X11/X -> /usr/X11R6/bin/X to get xinit
    working again

 -- Matt Zimmerman <mdz@ubuntu.com>  Mon, 20 Jun 2005 11:46:12 -0700

xorg (6.8.2-31) breezy; urgency=low

  * now with the right links in debian/xlibs-data.links
  * changed x-window-manager.1x.gz to x-window-manager.1.gz in 
    twm.postinst.in

 -- Oliver Grawert <ogra@ubuntu.com>  Mon, 20 Jun 2005 16:03:31 +0200

xorg (6.8.2-30) breezy; urgency=low

  * Restore debian/xlibs-data.links

 -- Matt Zimmerman <mdz@ubuntu.com>  Sun, 19 Jun 2005 13:49:47 -0700

xorg (6.8.2-29) breezy; urgency=low

  * Fix dexconf harder

 -- Matt Zimmerman <mdz@ubuntu.com>  Fri, 17 Jun 2005 17:54:14 -0700

xorg (6.8.2-28) breezy; urgency=low

  * Don't reset all debconf values when reconfiguring.  Instead, do so
    selectively based on the autodetect_* variables.  This allows
    preseeding to work with reconfiguration (for LTSP)
  * Fix typo in description of xserver-xorg/force_keyboard_detection
  * Revert an undocumented change to dexconf involving
    $MOUSE_PORT/has_multiplexed_mouse which occurred somewhere from -24 to
    -27 and caused a reference to a nonexistent "Generic Mouse"
    InputDevice to be added to the configuration (accidentally reverted
    patch from -21?)

 -- Matt Zimmerman <mdz@ubuntu.com>  Fri, 17 Jun 2005 12:10:25 -0700

xorg (6.8.2-27) breezy; urgency=low

  * Add the all-important epoch to the libxext-dev (>= 1:6.4.3-1) build-dep

 -- Adam Conrad <adconrad@ubuntu.com>  Fri, 17 Jun 2005 08:58:41 +0000

xorg (6.8.2-26) breezy; urgency=low

  * Fix FTBFS in via driver (fix 000_stolen_from_unichrome.sf.net).
  * Hack via driver to not build new XvMC support (thanks, Adam Conrad).
  * Split out libXext.
    + Add Build-Dep on libxext-dev.
  * Update Build-Dep on x11proto-core-dev to >= 6.8.99.8-1.
  * Fix accidentally reverted -23 change to mkfontdir.

 -- Daniel Stone <daniel.stone@ubuntu.com>  Fri, 17 Jun 2005 11:19:04 +1000

xorg (6.8.2-25) breezy; urgency=low

  * The 'whittling away at the beast' release.
  * Split out the rest of the protocol modules: Trap, Video, XCMisc, XExt,
    XF86BigFont, XF86DGA, XF86Misc, XF86VidMode.
    + Build-Depend on x11proto-trap-dev, x11proto-video-dev,
      x11proto-xcmisc-dev, x11proto-xext-dev, x11proto-xf86bigfont-dev,
      x11proto-xf86dga-dev, x11proto-xf86misc-dev, and
      x11proto-xf86vidmode-dev.
    + libxtrap-dev now depends on x11proto-trap-dev and x11proto-xext-dev.
    + libxv-dev and libxvmc-dev now depend on x11proto-video-dev.
    + libxext-dev now depends on x11proto-xcmisc-dev and x11proto-xext-dev.
    + libxxf86dga-dev now depends on x11proto-xf86dga-dev.
    + libxxf86misc-dev now depends on x11proto-xf86misc-dev.
    + libxxf86vm-dev now depends on x11proto-xf86vidmode-dev.
  * Split out libX11.
    + Build-Depend on libx11-dev.
  * Stop building the Rush extension entirely (libxxf86rush*).
  * Stop building libXaw version 8 altogether (libxaw8*).
  * Stop building Xprint for good (libxp*).
  * Fix twm postinst to refer to /usr/bin/twm, fix sequence of arguments.  And
    its other maintainer scripts.
  * Fix xdm postinst/prerm to refer to /usr/bin/xdm, rather than /X11.
  * Ditto xfs.  And its init script.
  * Stop building rstart for real.
  * Pass -silent to lndir, so it doesn't spew into the log quite as badly.
  * Fix mysterious vanishing of Depends lines from a lot of -dev packages.
  * Fix xbase-clients description as to where mkfontscale moved.
  * Update i810 driver from HEAD yet again, fixing 60Hz refresh rate issue
    (closes: Ubuntu#11195).
  * Add xserver-xorg/force_keyboard_detection flag (default false), that
    forces redetection of the keyboard map through the language/d-i layout ->
    XKB mapping; else, it will be preserved on reconfigures.

 -- Daniel Stone <daniel.stone@ubuntu.com>  Mon, 30 May 2005 14:11:18 +1000

xorg (6.8.2-24) breezy; urgency=low

  * debian/control: Make libglu1-xorg Conflict with libglu1c2
  * debian/libglu1-xorg.shlibs: s/libglu1/libglu1c2/ for the CXX transition

 -- Adam Conrad <adconrad@ubuntu.com>  Tue, 14 Jun 2005 13:34:35 +0000

xorg (6.8.2-23) breezy; urgency=low

  * Install mkfontdir from debian/local, with a fixed path (closes:
    Ubuntu#11545).

 -- Daniel Stone <daniel.stone@ubuntu.com>  Fri, 10 Jun 2005 18:24:36 +1000

xorg (6.8.2-22) breezy; urgency=low

  * debian/shell-lib.sh: Fix xkbcomp symlink. Ubuntu 11438.

 -- Matthias Klose <doko@ubuntu.com>  Sat,  4 Jun 2005 12:40:09 +0000

xorg (6.8.2-21) breezy; urgency=low

  * The 'whoa, useful, but what if you get out of that groove?' release.
  * Break out panoramiX, RandR, Record, Resource and ScrnSaver proto modules.
    + Build-Depend on x11proto-panoramix-dev, x11proto-randr-dev,
      x11proto-record-dev, x11proto-resource-dev, and x11proto-scrnsaver-dev.
    + Update MANIFESTs accordingly.
    + libxinerama-dev now depends on x11proto-panoramix-dev.
    + libxrandr-dev now depends on x11proto-randr-dev.
    + libxtst-dev now depends on x11proto-record-dev.
    + libxres-dev now depends on x11proto-resource-dev.
    + libxss-dev now depends on x11proto-scrnsaver-dev.
  * Break out ICE and SM library modules..
    + Build-Depend on libice-dev and libsm-dev.
  * Move all xbase-clients and xutils apps to /usr/bin.
    + Drop rstart*, which are deprecated upstream and dangerous.
    + Drop xorgcfg and xorgconfig, which will reappear in xserver-xorg at some
      later point; dpkg-reconfigure xserver-xorg should be used in preference
      to these tools.
  * Fix Generic Mouse vs Configured Mouse hilarity in Dexconf (closes:
    Ubuntu#11555).
  * Add symlink from /usr/lib/X11/xkb -> /etc/X11/xkb in xlibs-data; make
    xlibs-data Pre-Depend on x-common.
  * Fix keysym<->string semantics by backporting the rest of Markus Kuhn's
    Great Keysym Cleanup from HEAD (closes: Ubuntu#10942).
  * Make xserver-xorg Pre-Depend on x-common, since it ships a symlink in
    /usr/bin/X11 now.
  * Stop building Xprint (libxp6, libxp6-dbg, libxp-dev) altogether.
  * Enforce tight versioned depends on libxau-dev and libxdmcp-dev.
  * Remove lbxproxy, xfwp, and xfindproxy.
  * Stop building xgc.
  * Change libstdc++5-3.3-dev dependency from libglu-dev-xorg to
    libstdc++6-dev | libstdc++-dev (closes: Ubuntu#11276).

 -- Daniel Stone <daniel.stone@ubuntu.com>  Wed, 25 May 2005 09:37:15 +1000

xorg (6.8.2-20) breezy; urgency=low

  * The answer to the previous release's question:
  * Update all the MANIFESTs for Xau/Xdmcp removal.
  * Stop Xau manpages from being installed.

 -- Daniel Stone <daniel.stone@ubuntu.com>  Tue, 24 May 2005 23:08:57 +1000

xorg (6.8.2-19) breezy; urgency=low

  * The 'what could possibly go wrong?' release.
  * Remove GL element of 000_stolen_from_HEAD_includes.diff.
  * Remove /usr/include/GL/glx* symlinks from xlibmesa-gl-dev and
    libglu-dev-xorg.
  * Restore glxext.h to xlibmesa-gl-dev.

 -- Daniel Stone <daniel.stone@ubuntu.com>  Tue, 24 May 2005 11:53:41 +1000

xorg (6.8.2-18) breezy; urgency=low

  * Remove libxau* and libxdmcp* from debian/control.

 -- Daniel Stone <daniel.stone@ubuntu.com>  Tue, 24 May 2005 03:34:02 +1000

xorg (6.8.2-17) breezy; urgency=low

  * Break out Fontcache, Fonts, GL, Input and KB protocol modules.
    + Introduce Build-Depends on x11proto-{fontcache,fonts,gl,input,kb}-dev.
    + Remove files in these from tree/build in
      000_modularisation_proto_foo.diff.
    + Update MANIFESTs accordingly.
    + libxi-dev now depends on x11proto-input-dev.
    + libxkbfile-dev now depends on x11proto-kb-dev.
    + xlibmesa-gl-dev and libglu-dev-xorg now depend on x11proto-gl-dev.
  * Break out Xau and Xdmcp libraries.
    + Introduce Build-Depends on libxau-dev and libxdmcp-dev.
    + Stop these building, and remove headers, in
      000_modularisation_lib_foo.diff.
    + Remove libxau6, libxau6-dbg, and libxau-dev from this source package.
    + Remove libxdmcp6, libxdmcp6-dbg, and libxdmcp-dev from this source
      package.
    + Disable XDM authorisation, since the Wraphelp magic gets messy with an
      external libXdmcp.  It will return when libX11 and friends are built
      externally.
  * Pull new i810 driver from CVS HEAD, including gamma correction, better
    Fn-Fx display switching support (although still BIOS-crippled), support
    for i945G, ShadowFB support, DirectColor support, and the E7221 chipset.
  * Pull new sis driver from CVS HEAD, including SISCRTL extension, numerous
    fixes to display output, non-rectangular MergedFB layouts, RandR on
    MergedFB, fixes to physical alignment compensation modes, reflection
    support for Xrandr, segfault fix, and numerous other fixes.
  * Disable DPS/psres from building, and remove its packages entirely.
    + Update MANIFESTs accordingly.
    + This mirrors a change made to upstream, with no objections.
    + Remove dps* and texteroids from xbase-clients, and makepsres from
      xutils.
  * Add /usr/bin/X11/Xorg -> /usr/X11R6/bin/Xorg symlink in xserver-xorg.
  * Get rid of the Xprint init script as well as the manpage.

 -- Daniel Stone <daniel.stone@ubuntu.com>  Sat, 21 May 2005 19:33:49 +1000

xorg (6.8.2-16) breezy; urgency=low

  * Break out BigReqs, Composite, Damage, DMX, EvIE and Fixes protocol modules.
    + Introduce Build-Depends on
      x11proto-{bigreqs,composite,damage,dmx,evie,fixes}-dev.
    + Remove files in these from tree/build, per
      000_modularisation_proto_foo.diff.
    + Update MANIFESTs accordingly.
    + libxcomposite-dev now depends on x11proto-composite-dev.
    + libxdamage-dev now depends on x11proto-damage-dev.
    + libxevie-dev now depends on x11proto-evie-dev.
    + libxfixes-dev now depends on x11proto-fixes-dev.
    + libdmx-dev now depends on x11proto-dmx-dev.
    + Remove all files from the above from shipping by xorg.
  * Fix includes in r128_driver.c.
  * Delete font_update from shell-lib.sh, remove update-fonts-* from
    debian/local/ and add it to xfonts-core.  Make xutils Depend on
    xfonts-utils.
  * Remove pm-dev and proxymngr from the face of the earth.
  * Remove FAQ since it is still referring to many archaic concepts such as
    XFree86 and XF86Config-4, and many other things where the behaviour has
    changed substantially from Debian to Ubuntu.
  * Update xfs.README.Debian, twm.README.Debian, xbase-clients.README.Debian,
    xdm.README.Debian, xorg-common.README.Debian, and xutils.README.Debian to
    not refer to the FAQ.
  * Remove xserver-common.README.Debian, as it primarily contained bad advice.
  * Changes from David Nusinow:
    + Merge in changes from Debian XFree86 SVN: shell-lib.sh, xfs.init,
      xserver-common.config.in, manifest-install-reconcile, validate-posix-sh,
      dexconf, dexconf.1, xvfb-run, xdm/Xstartup,
      Xsession.d/30xorg-common_xresources, xdm.options.5, XF86Config.7,
      xfs.options.5, Xsession.5, Xsession.options.5, Xwrapper.config.5.
    + Re-add Xreset script to local/xdm, MANIFEST.*, xdm.install.
    + Spelling fixes to dexconf.1.
    + Change twm manpage to twm.1x.
    + Thanks, David!
  * Remove /usr/{bin,include,lib}/X11 from maplink() in shell-lib.sh.
  * Merge patch from Fabio to fix SPARC FTBFS by removing -mv8 argument to gcc
    sunffb's Imakefile.
  * Remove the same from xorg-common.links (closes: Ubuntu#10968).
  * Switch libglu1-xorg's Provides to libglu1c2, from libglu1.
  * Note that all uncredited merges from Debian (particularly in the
    xfree86_4.3.0-6ubuntu* days) are from Branden Robinson.

 -- Daniel Stone <daniel.stone@ubuntu.com>  Thu, 19 May 2005 01:20:44 +1000

xorg (6.8.2-15) breezy; urgency=low

  * Fix oldlibs dependencies on libglu-dev-xorg.

 -- Daniel Stone <daniel.stone@ubuntu.com>  Thu, 19 May 2005 00:58:43 +1000

xorg (6.8.2-14) breezy; urgency=low

  * Merge Fabio's changes to -11, which were lost along the way.

 -- Daniel Stone <daniel.stone@ubuntu.com>  Wed, 18 May 2005 17:38:24 +1000

xorg (6.8.2-13) breezy; urgency=low

  * Fix render-dev Build-Dep.

 -- Daniel Stone <daniel.stone@ubuntu.com>  Wed, 18 May 2005 14:03:50 +1000

xorg (6.8.2-12) breezy; urgency=low

  * Stop building Xprint server totally.
  * Change default font paths from /usr/lib/X11/fonts to /usr/share/X11/fonts
    in default xorg.conf and also in update-fonts-*, which really need to move
    to another source package.

 -- Daniel Stone <daniel.stone@ubuntu.com>  Wed, 18 May 2005 10:17:24 +1000

xorg (6.8.2-11) breezy; urgency=low

  * Death by a thousand cuts: the road to X11R7 begins here.
  * Remove all fonts and documentation packages, as these are now provided by
    external source packages.  Remove MANIFEST.all.  Never build fonts/specs
    from debian/rules.
  * Remove the x-dev package and all headers from the Xproto CVS module; this
    is now provided by x11proto-core-dev.  Build-Depend on x11proto-core-dev.
    + 000_modularisation_proto_X11.diff: new.
  * Add differences in xc/lib/X11/Key{Bind,symStr}.c to
    000_stolen_from_HEAD.diff; they are needed to reflect the cleanup done on
    keysymstr.h in HEAD.
  * Remove all traces of Xtrans from the monolithic tree and build-depend on
    xtrans-dev.
    + 000_modularisation_lib_xtrans.diff: new.
  * Merge in giant patch from HEAD to fix all includes (e.g. "X.h" ->
    <X11/X.h>).
  * Remove the xterm package, to be provided by an external source package.
  * Tweak xserver-xorg.postinst.in so we don't unconditionally write sync
    ranges when upgrading (closes: Ubuntu#8706).
  * Set the default depth to 16 when using an nVidia chipset on a laptop.
  * Don't bomb in xorg-common postinst if /usr/{bin,include,lib}/X11 aren't
    symlinks.
  * Force removal of xfree86-common init.d script if it hasn't been changed
    (closes: Ubuntu#8833).
  * Update i810 driver from HEAD to fix DDC mode validation (closes:
    Ubuntu#7878).
  * Add patch to MGA driver to prevent corruption on Mystique (closes:
    Ubuntu#10065).
  * Add patch from HEAD to fix Savage CLUT being left in 6-bit mode even in
    24-bit modes; remove blacklisting that forced Savages to 16-bit per
    default (really closes: Ubuntu#6127).
  * Only include linux/config.h in drm.h if __KERNEL__, fixing FTBFS with
    linux-libc-headers; thanks, Dave Airlie.
  * Only class tr_f and not tr (aka Turkish Q) as a non-Latin layout; change
    trfu and trqu mappings to trf and trq (closes: Ubuntu#9209).
  * gcc4 transition: change xlibmesa-glu to libglu1-xorg, ditto -dbg, and
    xlibmesa-glu-dev to libglu-dev-xorg.
  * Fix radeon_probe.h build with gcc4 (patch #024d).
  * Bump libxrender-dev Build-Dep to /usr-transitioned version; add explicit
    render-dev Build-Dep, at /usr-transitioned version; ditto libxft-dev and
    libxcursor-dev.
  * Add debian/patches/991_ubuntu_gcc_flags.diff, which fixes fbmmx's build
    with gcc4 (thanks Fabio).

 -- Daniel Stone <daniel.stone@ubuntu.com>  Wed,  6 Apr 2005 12:20:33 +1000

xorg (6.8.2-10) hoary; urgency=low

  * Include patch from Ben Herrenschmidt to fix assertion of DDC GPIO lines
    after a DDC probe had finished, which would render Apple Studio Displays
    useless.
  * Don't reset all templates when migrating from xserver-xfree86; this will
    render the template migration useless.  Don't mess with $RECONFIGURE when
    migrating from xfree86.  Set use_sync_ranges true when upgrading from
    xfree86 (closes: Ubuntu#8562, Ubuntu#8626).
  * Use debug_echo liberally in xserver-xorg.postinst.in to tell us why we're
    writing out sync ranges.

 -- Daniel Stone <daniel.stone@ubuntu.com>  Tue,  5 Apr 2005 08:38:20 +1000

xorg (6.8.2-9) hoary; urgency=low

  * Fix postinst debconf errors when using 1920x1200 (closes: Ubuntu#8433).
  * Update Croatian keymap (thanks, Vedran Miletić).
  * Select 'us,$layout' for am ar, bg, by, el, il, ir, iu, lo, mk, ml, mm, mn,
    ru, th, tj, and ua by default, with Alt+Shift switching into that keymap;
    warn when a non-Latin layout is guessed or selected.
  * Warn on the console when we're overwriting our own templates with those
    from xserver-xfree86.
  * Be slightly less enthusiastic about feeding sync ranges: only do it if
    the sync ranges entered in advanced mode were not what we picked up from
    DDC (closes: Ubuntu#8432).
  * Add 1280x800@60 to the mode list.
  * Set keyboard layout question priority to low if we're not reconfiguring or
    on the first install.
  * Change the default layout for LANG=nl* to us (closes: Ubuntu#8336).

 -- Daniel Stone <daniel.stone@ubuntu.com>  Thu, 31 Mar 2005 13:56:38 +1000

xorg (6.8.2-8) hoary; urgency=low

  * Only migrate xserver-xfree86 templates if firstinst && !reconfig (closes:
    Ubuntu#7295).

 -- Daniel Stone <daniel.stone@ubuntu.com>  Thu, 31 Mar 2005 01:25:32 +1000

xorg (6.8.2-7) hoary; urgency=low

  * Fix postinst priority handling on first install.

 -- Fabio M. Di Nitto <fabbione@ubuntu.com>  Tue, 29 Mar 2005 19:07:10 +0200

xorg (6.8.2-6) hoary; urgency=low

  * Add more resolutions:
    + 1680x1050 for Dell Inspirons (closes: Ubuntu#7181).
    + 1920x1200 and 1680x1050 for Apple LCDs, and laptop LCDs (closes:
      Ubuntu#8138).
    + 1280x800 and 1280x768 for widescreen laptops.
  * Update 000_stolen_from_HEAD_i810.diff to incorporate i830_driver.c 1.14,
    which has a very small fix to DDC code.
  * Add new Radeon PCI IDs to 000_stolen_from_HEAD.diff, thanks to Alex
    Deucher (fd.o#2827).  Adjust offsets in 024a, 024b, 025 and 042.  Drag
    back support for the RN50 (ES1000) from HEAD.
  * Work around debconf/cdebconf differences in xserver-xorg.postinst.in
    bitdepth handling code.
  * Change test for rewriting keyboard layout from 'if seen' to 'if
    reconfiguring or first installation'.
  * Change default en_CA mapping to us (closes: Ubuntu#7448), default
    sv_SE mapping to se (closes: Ubuntu#7779), default el* mapping to
    us,el with an Alt+Shift toggle (closes: Ubuntu#7656), ditto for ru*
    mapping and us,ru (closes: Ubuntu#8202), and br-abnt2--* fallback to
    br/abnt2 (closes: Ubuntu#8264).
  * Only re-detect monitor settings if we're reconfiguring or on the first
    install (closes: Ubuntu#7809).
  * Write sync ranges by default on i810-based chips (as opposed to
    i830-based) when on a laptop (closes: Ubuntu#7814).

 -- Daniel Stone <daniel.stone@ubuntu.com>  Thu, 17 Mar 2005 13:47:46 +1100

xorg (6.8.2-5.1) hoary; urgency=low

  * Kick Debconf code back to 6.8.2-2 to work around cdebconf weirdness.

 -- Daniel Stone <daniel.stone@ubuntu.com>  Thu, 17 Mar 2005 18:09:01 +1100

xorg (6.8.2-5) hoary; urgency=low

  * Change xutils Replaces on xbase-clients from 6.8.3-4 to 6.8.2-4 (thanks,
    Colin Watson).
  * Add mkfontdir.1x back to xbase-clients (fell out in -4).
  * Ensure $RECONFIGURE is set in postinst when we call xresprobeint, so the
    modes question doesn't get bumped to PRIORITY=medium when it shouldn't.
  * Add locale mapping for en_DK.UTF-8 (closes: Ubuntu#7690).
  * Add support from getting the bit depth from xresprobe if it tells us; the
    current intended use case is for Intel cards which do not support 24bpp,
    so we can fall back to 16.  Support for this was added in xresprobe
    0.4.15.
  * Make xorg-common depend on lsb-base, as it uses lsb-functions in its init
    script (closes: Ubuntu#7256).
  * Update nv driver from X.Org HEAD:
    + Fixes initialisation problems for chipsets where ChipID & 0xfff0 ==
      0x0090 (not that any of these are listed in there).
    + Fixes weird 'jagged lines' on NV34M flat panels (closes: Ubuntu#7680).
    + 'New hardware support'.
  * Add extra 1280x768 modeline; add 1280x768 to the list of whitelisted
    resolutions (closes: Ubuntu#7342).

 -- Daniel Stone <daniel.stone@ubuntu.com>  Wed, 16 Mar 2005 20:24:28 +1100

xorg (6.8.2-4) hoary; urgency=low

  * Fix additional security vulnerability in Xpm's bitmap_unit checking
    (closes: Ubuntu#7433, fdo#1920).
  * Remove mac-usb- prefix from d-i keyboard mappings before we run our
    detection routine (partially mitigates Ubuntu#7138).
  * Move mkfontscale from xbase-clients to xutils, as it does not depend on
    client-side X libraries, and mkfontdir from xutils was entirely reliant
    on mkfontscale (closes: Ubuntu#7391).
  * Add Swiss keymaps, thanks to Sylvain Pasche (closes: Ubuntu#7482).
  * Update i810 driver from HEAD, which now finally has support for validating
    modes against DDC ranges, and supports panels on pipe A (closes:
    Ubuntu#5864, Ubuntu#6973).

 -- Daniel Stone <daniel.stone@ubuntu.com>  Fri, 11 Mar 2005 12:53:55 +1100

xorg (6.8.2-3) hoary; urgency=low

  * Fix typo in libxvmc1.links (/usr/X11R6/libXvMC.so.1, indeed).
  * Ensure xserver-xorg/config/screen/modes is not asked across upgrades; only
    on first installs/reconfigurations.
  
 -- Daniel Stone <daniel.stone@ubuntu.com>  Thu,  3 Mar 2005 21:39:52 +1100

xorg (6.8.2-2) hoary; urgency=low

  * Remove level3(ralt_switch) from the US Dvorak layout, thanks Denis Barbier
    (closes: Ubuntu#5894).
  * Work out the XKB layout based on a combination of the selected
    debian-installer keymap and language, rather than purely on language.
    Don't prompt for the keymap if we can't work it out by default (priority
    medium).  Thanks to Matthias Urlichs and Matt Zimmerman.

 -- Daniel Stone <daniel.stone@ubuntu.com>  Wed,  2 Mar 2005 15:12:28 +1100

xorg (6.8.2-1) hoary; urgency=low

  * New upstream version (update from 6.8.1.904).
    + Contains AMD64 PCIE BAR fix (closes: Ubuntu#6085).
    + Remove patches which were applied upstream, reshuffle others.
    + Rename 000_stolen_from_6.8_branch_benh_ati.diff to #022 to better
      reflect its status; it did not make 6.8.2 and will probably not make
      6.8.3, either.  Update with a fix from benh to ensure that the PLL
      dividers were always taken from the BIOS if we need to use them (closes:
      Ubuntu#6223).
    + Revert RADEONSetFBLocation() breakage that crept into 6.8.2 shortly
      before release.
    + Update Via driver from unichrome.sf.net (closes: Ubuntu#6887).
    + Update i810 driver from HEAD, which fixes video artifacts among other
      things (closes: Ubuntu#5738).  CRT mode validation still broken.
  * Allow XORG_CONFIG="custom" to be passed to Debconfiscation.  Leaves
    xorg.conf alone.  Source variables from /etc/default/xorg, which doesn't
    exist by default.
  * Add some more r128 chip identifiers to our special sync range
    blacklisting.
  * Fix extraneous quoting in xvfb-run, again (closes: Ubuntu#5531).
  * Fix second TMDS head initialisation on r3xx (closes: Ubuntu#4343).
  * Ensure sync ranges are written out if we ask the user for them (closes:
    Ubuntu#6184).
  * Add 1920x1200 modes, sans sync ranges for now (closes: Ubuntu#6252).
  * Remove #031 (glxinfo_makefile) as it was incorrect, per upstream, and
    just ensure that libGLU is linked against libstdc++ instead.
  * Patches #054 and #055 (evdev keyboard/mouse): change "Device" to "Dev
    Device" in the options section.  The configuration parser thoughtfully
    puts a default of /dev/psaux for the mouse's Device, thus making it
    impossible to specify Dev Name/Dev Phys and not Device.
  * Fix numerous interactions with dpkg-reconfigure and
    xserver-xorg.config.in, so it should now just preserve configuration
    changes on upgrades, and probe and write upgrades when invoked via
    dpkg-reconfigure and the first time (closes: Ubuntu#6484).
  * Silently migrate server symlink from /usr/X11R6/bin/Xorg to
    /usr/bin/X11/Xorg, which should silence a few errors.
  * Strip .UTF-8 and @euro from the end of $LANG in xserver-xorg.config.in,
    to fix the $LANG->keyboard layout problem (closes: Ubuntu#6270).
  * Change 'xfree86' to 'xorg' in keyboard ruleset template (closes:
    Ubuntu#6477).
  * Change the default bitdepth on Savage to 24 (closes: Ubuntu#6127).
  * Ensure that we prompt at priority critical if we can't properly guess the
    keyboard layout, although we shouldn't have to guess.

 -- Daniel Stone <daniel.stone@ubuntu.com>  Sat, 12 Feb 2005 13:16:51 +1100

xorg (6.8.1-1ubuntu16) hoary; urgency=low

  * This upload re-introduces all the 6.8.1-1ubuntu13 changes reverted in
    6.8.1-1ubuntu14; the changelog entries for 14 and 15 are here for
    historical purposes only.
  * Also write sync ranges out if DDC fails completely -> no resolutions, no
    sync ranges from DDC; tidy up code so sync ranges get written unless
    either we're on a laptop with a non-blacklisted chipset, or we're on a
    CRT/desktop LCD, and DDC succeeds and provides us with a sync range, or
    the user has been asked about them (closes: Ubuntu#6184).
  * Since DDC with powerpc/ati seems to be so flaky, blacklist every ATI card
    on PowerPC in terms of writing out sync ranges (closes; Ubuntu#6117).
  * Clear out $XORGTEMPLATES on xserver-xorg.config.in if XORG_FORCE_PROBE is
    either null or "yes", as opposed to if it was non-zero.  Reverse test in
    xserver-xorg.config.in so that auto_answer will only attempt to use an
    existing answer if it's actually there.
  * Add additional backwards compatibility in terms of accepting "yes" for
    XORG_FORCE_PROBE everywhere a null is accepted.
  * If we come up with UNKNOWN as a keyboard layout, bump the question
    priority right up to critical, regardless of whether or not we're
    reconfiguring.
  * Remove extraneous quotes in xvfb-run (closes: Ubuntu#5531).
  * Remove sis_dri.so from xlibmesa-dri-dbg.install.ia64.

 -- Daniel Stone <daniel.stone@ubuntu.com>  Thu,  3 Feb 2005 16:22:30 +1100

xorg (6.8.1-1ubuntu13) hoary; urgency=low

  * Pull fix to I2C code to properly deal with waiting, which should fix DDC
    probes on a few monitors (closes: Ubuntu#6032).
  * Rewrite Debconf logic to write a new xorg.conf if it doesn't exist, and
    default to using xresprobe (use XORG_FORCE_PROBE=no to disable this
    behaviour).  If invoked via dpkg-reconfigure, write a new configuration
    file and back the old one up.  Always let the user know if we're not
    touching it (promote many messages from observe to warn).
  * Add i915_dri.so to amd64 install files.
  * Resume building tdfx_dri.so on amd64 and ia64 (stolen from HEAD);
    remove sis_dri.so from ia64 install files as it is 64-bit unclean.
  * Stop shipping tdfx_dri.so on powerpc.
  * Fix cat-walking-across-keyboard attack in dexconf; add dexconf to list of
    files which get shell-sanity-checked at build time.
  * Remove Speedo directory from list of server-side fonts, and stop shipping
    all Speedo fonts.  No-op the speedo module within #028.
  * Mirror changes to xfree86.cf in #003 to xorg.cf as well, since the former
    is deprecated; clean up LinuxDebian section in linux.cf, grooming it for
    total removal.  Get rid of DefaultGcc2{i386,AMD64,Ppc,Ppc64,Axp}Opt, since
    it was defined to the default set of arguments anyway.
  * Remove patch #913 (don't load Verite/MGA firmware), and add firmware to
    000_stolen_from_6.8_branch.diff.
  * Move *.1 manpages to *.1x, a change that got lost from xfree86->xorg.
  * Move cirrus_laguna.o, cirrus_alpine.o and riva128.o to *_drv.o.

 -- Daniel Stone <daniel.stone@ubuntu.com>  Tue,  1 Feb 2005 01:14:12 +1100

xorg (6.8.1-1ubuntu12) hoary; urgency=low

  * Resync Imakefiles for Mesa, so t_vb_cull gets built, and i915_dri is
    loadable (closes: Ubuntu#5664).
  * Also from Mesa 6.2.x branch, grab fix for lockups on Radeon M7-class chips
    (fd.o#2361).
  * Update from 6.8 branch; remove patches #096 and #601 as they were merged in
    this morning.  This release is almost entirely equivalent to 6.8.1.903
    (aka 6.8.2RC3).
  * Disable building of largely defunct XRX plugin in linux.cf.
  * Guess at a reasonable default for $DISPLAY_TYPE if xresprobe doesn't feed
    us a display type (closes: Ubuntu#5639).
  * Set $LAPTOP in xserver-xorg.postinst.in.
  * Move the test for resolutions-via-DDC-but-no-sync-ranges around in
    xserver-xorg.postinst.in, so $NRES is set when we call it (closes:
    Ubuntu#5754).
  * Write sync ranges for all r128s on powerpc (closes: Ubuntu#5940).
  * Remove speedo and v4l from the list of modules loaded per default.
  * Fix comments at the top of the config file to be more accurate (closes:
    Ubuntu#5748).
  * Don't load GLcore in the default set of modules, per Adam Jackson.
  * Add hardened Linux support via a small call in postinst.
  * Change default builder from canonical.com -> ubuntu.com.
  * Add <X11/Xlib.h> to scrnsaver.h's #includes, add libx11-dev dep to
    libxss-dev.

 -- Daniel Stone <daniel.stone@ubuntu.com>  Wed, 19 Jan 2005 18:49:04 +1100

xorg (6.8.1-1ubuntu11) hoary; urgency=low

  * dexconf: Disable UseFBDev for vga16, as a temporary-ish fix.  Add
    XORG_USE_FBDEV environment variable; set XORG_USE_FBDEV=no to force
    disabling the framebuffer when reconfiguring.
  * Move logic for when to write sync ranges from dexconf to
    xserver-xorg.postinst(.in), so we can work out when DDC did or didn't
    succeed.  Based on this, if we have a list of resolutions, are on a CRT,
    but don't have a list of sync ranges, write sync ranges out (closes:
    Ubuntu#4614).
  * Bump recommendation on xresprobe to >= 0.4.13, since the disptype stanza
    was only introduced in that release.
  * Add XORG_SYNC_RANGES environment variable; set it to yes to always get
    HorizSync/VertRefresh lines written out.
  * Special-case the tdfx driver to default to 16bpp, so we can have DRI
    enabled per default.
  * Stop blacklisting via driver for xresprobe now we have unichrome from HEAD.
  * Add id_ID -> us $LANG/xkb mapping.
  * Backport Mesa 6.2.x branch, which should stop r128+DRI hangs on start on
    powerpc, and introduces i8xx DRI suspend/resume support (closes:
    Ubuntu#4705).
  * Pull the entirety of the i8xx driver back from head; partially because of
    the above, but also because the initial partial backport broke mode
    validation on external DDC monitors.
  * Change my email address from canonical.com -> ubuntu.com.

 -- Daniel Stone <daniel.stone@ubuntu.com>  Mon, 17 Jan 2005 12:21:26 +1100

xorg (6.8.1-1ubuntu10) hoary; urgency=low

  * Change Option "HorizSync" "xx-yy" and Option "VertRefresh" "yy-zz" to
    HorizSync xx-yy and VertRefresh yy-zz in dexconf; thanks Marius Gedminas
    for the catch.
  * Disable horizontal scrolling by default on Synaptics touchpads (closes:
    Ubuntu#5014).
  * Pull i8xx/i915 driver back from HEAD, as it contains numerous improvements
    from Tungsten -- i915GM support, PanelID support, and support for custom
    video modes in the video BIOS, eliminating the need for
    855wrap/855resolution/865patch, et al (closes: Ubuntu#2827).
    + Mesa 6.2.x branch, which will allow DRI around suspend/resume (also
      fixing random video bustage after suspend/resume) on i8xx, is pending,
      and will be in the next revision.
  * Map right Apple -> Level 3 shift (AltGr) on Macintosh European layouts per
    default (closes: Ubuntu#2327).
  * dexconf: use dpkg --print-installation-architecture instead of
    dpkg-architecture, so we can do clean installs on hoary (and
    reconfigurations on the live CD) without dpkg-dev installed.
  * Add original iMacs to the list of desktop hardware which needs sync ranges
    written out, and via to the list of LVDS-driving chipsets which need sync
    ranges also (closes: Ubuntu#5085).
  * Add #099p, which changes the second level of tilde from backslash to é on
    Turkish keyboards (closes: Ubuntu#5318).
  * Backport the entire via driver from the Unichrome project.
  * Rename XORGFORCEPROBE to XORG_FORCE_PROBE; make .config.in reset all
    values to defaults if this environment variable is set (semantics note:
    change most $RECONFIGURE tests to assume first install if -z $RECONFIGURE
    || -n $XORG_FORCE_PROBE, so you get the equivalent of the first install).
  * Rename DEBUG_XFREE86_PACKAGE to DEBUG_XORG_PACKAGE, and
    DEBUG_XFREE86_DEBCONF to DEBUG_XORG_DEBCONF, but still respect old
    variables.

 -- Daniel Stone <daniel.stone@canonical.com>  Mon, 10 Jan 2005 03:23:13 +1100

xorg (6.8.1-1ubuntu9) hoary; urgency=low

  * Note: This version, and all versions since ubuntu7, are effectively
    6.8.2RC1.
  * #028: Add lib%s.so and %s_drv.so support back, as the nVidia binary driver
    installs libglx.so.  Also eliminate use of regular expressions in
    LoaderListDirs and LoaderGetCanonicalName, which should shave a bit of CPU
    time off.
  * Use xc/config/util/lndir instead of cp -al to create a shadow tree for
    building the debug server, which should make it more portable across
    multiple filesystems, as well as being a lot quicker to copy originally.
  * Update MANIFEST.hppa.in and all install files to currency (thanks, LaMont
    Jones).
  * Add xorgversion.def and Xprt.1 to MANIFEST.ia64.in, fixing FTBFS.
  * Force a tight, same-version, dependency on xlibmesa-gl from xlibosmesa4
    that cannot be satisfied by an alternative (closes: Ubuntu#5064).
  * Add XKB support for extended functions of CyMotion Master Linux and A4Tech
    KB21 keyboards (closes: Ubuntu#4245, Ubuntu#5171).
  * Add patch from Alex Deucher to hopefully resolve the problem on Radeons
    whereby initialising CRTC2 didn't set DPMS up properly, so the second head
    would come up blank until you manually forced the monitor power off and
    then on via DPMS (closes: Ubuntu#4343).
  * Merge changes from Debian XFree86 packaging since we moved to X.Org
    (current with SVN 2113; closes: Ubuntu#4343).
    + Includes shipping koi8rxterm and lxterm, with lxterm now the default
      terminal emulator in the xterm package.
  * Use $() instead of `` in xserver-xorg.postinst.in; add Canonical copyright
    attribution.

 -- Daniel Stone <daniel.stone@canonical.com>  Tue,  4 Jan 2004 10:31:21 +1100

xorg (6.8.1-1ubuntu8) hoary; urgency=low

  * Brown paper bag: change lib%s.so and %s_drv.so to lib%s.a and %s_drv.o in
    patch 028.

 -- Daniel Stone <daniel.stone@canonical.com>  Sun, 19 Dec 2004 12:53:08 +0100

xorg (6.8.1-1ubuntu7) hoary; urgency=low

  * If we're on nv/savage/trident and a laptop (i.e. likely to be using LFP),
    or we're on an older iBook with a DDC-capable LCD that doesn't have a BIOS
    table or expose sync ranges via DDC, write out HorizSync and VertRefresh
    to the config file, since both of these drivers fail to set sane sync
    ranges when taking the resolution from a BIOS table (closes:
    Ubuntu#4348, Ubuntu#4616).
    + Modified: debian/local/dexconf
  * Update 000_stolen_from_6.8_branch.diff to the latest XORG-6_8-branch, and
    merge patches 000_stolen_from_patches, 009, 022, 025, 029, 079m, 099l, 104,
    and 450 in, since they have been put in the 6.8.x branch upstream.
  * Add a 1280x800 modeline to the standard set (closes: Ubuntu#4637).
    + Modified: debian/patches/989_ubuntu_extra_modelines_from_xorg.diff.
  * Include first cut of loader speed hacks -- be far more careful (to the
    tune of ~5000 loader opens, and lots of CPU time) in FindModule.
    + New: debian/patches/028_loader_speed_hack.diff
  * Only provide xserver-xorg for -dbg, not xserver-xfree86.

 -- Daniel Stone <daniel.stone@canonical.com>  Mon, 13 Dec 2004 10:18:29 +0100

xorg (6.8.1-1ubuntu6) hoary; urgency=low

  * Remove damage.h from sparc MANIFEST.
  * Take DPMS patch from fd.o#1394 rather than #792, which should actually fix
    it for everyone (update 000_stolen_from_6.8_branch.diff).

 -- Daniel Stone <daniel.stone@canonical.com>  Wed,  8 Dec 2004 09:17:54 +0100

xorg (6.8.1-1ubuntu5) hoary; urgency=low

  * Don't probe usb, ide, and scsi buses on config (closes: Ubuntu#4396).
  * Add back MANIFEST.sparc.in changes from Fabio to let it build, which were
    mysteriously reverted from arch at some point.
  * Fix weak dependencies in libGL (closes: Ubuntu#4315).

 -- Daniel Stone <daniel.stone@canonical.com>  Mon,  6 Dec 2004 14:38:57 +0100

xorg (6.8.1-1ubuntu4) hoary; urgency=low

  * Remove debian/patches/099d*, as it broke UTF-8 locale handling and didn't
    actually fix the xterm manpage at all (closes: Ubuntu#3645).

  * Add patches stolen from the X.Org 6.8.x branch, including:
    + Perform soft resets right on non-r3xx (fd.o#988).
    + Prevent segfault in GLX on certain GL versions (fd.o#1672).
    + Fix server crash when unsetting screensaver attributes (fd.o#1695).
      (fd.o#591).
    + Prevent conflict with certain #defined constants (bool) in xf86cfg
      (fd.o#557).
    + Drag nVidia driver back from XFree86 (via X.Org HEAD) with more hardware
      support, fix for DPMS issues, PCI-Xpress support, DPMS on DVI, cursor
      fixes for NV11, proper console restoration, and Xv syncing on vblank
      (fd.o#1777).
    + Fix a stack overflow in XKB handling within libX11 (fd.o#1459).
    + Fix xmodmap stack overflow (fd.o#1818).
    + Fix from myself to fix panel size derivation when stretching is enabled
      (fd.o#1881, Ubuntu#1218).
    + Include server control keys in macintosh/us XKB definition (fd.o#1872).
    + Actually reset DPMS timer on input (fd.o#792, Ubuntu#3614).
    + Move all the fixes from #000 Fedora to this patch, as they have since
      been approved for 6.8.2.
    - New: debian/patches/000_stolen_from_6.8_branch.diff
    - Removed: debian/patches/000_stolen_from_fedora.diff
    + Large patch from Ben Herrenschmidt rejigging the detection logic for
      many ATI cards; see annotation in patch.  Note that this is not yet
      committed, so this patch is subject to change and hasn't yet been folded
      into _6.8_branch.diff.  This patch obsoletes #099m.
      - New: debian/patches/000_stolen_from_6.8_branch_benh_ati.diff
      - Updated:
      debian/patches/024_ati_r128_and_radeon_enable_build_without_vgahw.diff
      - Removed: debian/patches/099m_radeon_fwpll_support.diff

  * Remove interrupt handler completely on exit so we don't get lockups
    (closes: Ubuntu#2411).
    + New: debian/patches/025_r128_remove_interrupt_handler.diff

  * Add 1440x900 @ 100Hz modeline for 17" Apple iMacs (closes: Ubuntu#3712).
    + Updated: debian/xserver-xorg.templates,
      debian/989_ubuntu_add_extra_modelines_from_xorg.diff

  * Stop writing out HorizSync and VertRefresh lines to xorg.conf; if it can
    be detected by DDC, then let the driver do that instead of tying us to a
    specific monitor, and if we need to calculate it from the resolution, then
    it's a driver bug that needs fixing.
    + Updated: debian/local/dexconf.

  * First cut at proper ia64 control files (closes: Ubuntu#3817).
    + Updated: debian/MANIFEST.ia64.in, debian/xserver-xorg.install.ia64,
      debian/xlibmesa-dri.install.ia64, debian/xlibmesa-dri-dbg.install.ia64,
      debian/xserver-xorg.docs.ia64

  * Stop shipping damage.h, which is an old preliminary cut at the Damage
    client API; superseded by Xdamage.h.
    + Updated: MANIFEST.*.in, libxdamage-dev.install.

  * Fix link name (Xres->XRes) in libxres1.

  * Make libx11-dev Depend on libxkbfile-dev, and libxp-dev on libxau-dev, as
    they use files from these libraries.

  * Add dmxext.h and dmxproto.h to libdmx-dev.

  * Ship Xorg-debug.1 in xserver-xorg-dbg instead of Xorg-debug.1x (thanks,
    James Troup).

 -- Daniel Stone <daniel.stone@canonical.com>  Fri, 19 Nov 2004 15:23:50 +0100

xorg (6.8.1-1ubuntu3) hoary; urgency=low

  Changes by Fabio M. Di Nitto:

  * Add build-server-alone target in debian/rules.

  * Improve evdev input layer to support Option "Device" "<path_to_device>"
    directly for keyboard devices. Update patches:
    - 053_lnx_evdev.diff.
    - 054_lnx_evdev_mouse.diff.
    - 055_lnx_evdev_keyboard.diff.

  * Readd lost copyright information in patch 054_lnx_evdev_mouse.diff.

  * Add patch 020_add_sigusr2_signal_handler.diff.

  * Fix forward port of patch 092_Xserver_sunffb_xaa_extension.diff.

  * Update MANIFEST.sparc.in and *.install.sparc.

  Changes by Daniel Stone:

  * debian/patches/013_novtswitch_option.diff:
    Add -novtswitch option, which inhibits the initial switch to, and the
    final switch from, the new VT.
  * debian/patches/018_sharevts_option.diff:
    Add -sharevts option, which allows multiple X sessions to share a single
    VT.
  * Security upload (mirroring xfree86 4.3.0.dfsg.1-6ubuntu25.1):
    Properly fix CAN-2004-0687 and 0688, with xpm-sec7.diff from Mathieu
    Herrb.  New number is CAN-2004-0914.  Patch in
    debian/patches/000_stolen_from_patches.diff (taken from
    http://www.x.org/pub/X11R6.8.1/patches/).
  * debian/rules: Change default builder from fabbione to myself.

 -- Daniel Stone <daniel.stone@canonical.com>  Sun, 14 Nov 2004 13:03:44 +0100

xorg (6.8.1-1ubuntu2) hoary; urgency=low

  * Remove xlibs-dbg's dependency on libxft1-dbg, to allow it to become
    installable again.

  * Remove Xcomposite, Xdamage, Xfixes, Xevie, et al, headers from
    libxext-dev, where they most certainly did not belong.
  
  * Add missing libfoo.so.x -> libfoo.so.x.y links to libraries recently split
    from xlibs-static-dev: libxaw8, libdmx1, libxfixes3, libxinerama1,
    libxkbfile1, libxkbui1, libxcomposite1, libxdamage1, libxres1, libxvmc1,
    libxxf86dga1, libxxf86misc1, libxxf86rush1, libxxf86vm1.

  * libxevie1.install, libxevie1.links, libxevie1-dbg.install,
    libxevie1-dbg.links, libxevie-dev.install, libxevie.links:
    Add missing files.

  * Change xlibmesa-glu-dev's Depends on libstdc++5-dev to libstdc++5-3.3-dev
    (closes: Ubuntu#3483).

  * Add patch to fix unsubstituted __appmansuffix__ all through manpages.
    + debian/patches/004_imake_manpage_handling_overhaul.diff -- extended
    + debian/patches/041_make_xcursor_icondir_configurable.diff -- rediffed
  
  * debian/patches/990_ubuntu_accept_enabled_for_extensions.diff: accept
    Enabled and Disabled for the Extensions section, so what I said in my
    -announce mail actually works.

 -- Daniel Stone <daniel.stone@canonical.com>  Tue,  9 Nov 2004 22:59:11 +0100

xorg (6.8.1-1ubuntu1) hoary; urgency=low

  * Change all Conflicts/Replaces regarding to 6.8.1-0.4 to refer to
    6.8.1-0ubuntu1 instead, to get working upgrades.

 -- Daniel Stone <daniel.stone@canonical.com>  Tue,  9 Nov 2004 19:21:36 +0100

xorg (6.8.1-0ubuntu1) hoary; urgency=low

  Changes by Daniel Stone:

  * Split the following libraries out from xlibs-static-dev/xlibs-static-pic
    into their own libfooX/libfooX-dbg/libfoo-dev packages:
    libXau, libXdmcp, libFS, libXRes, libXcomposite, libXdamage, libXfixes,
    libXinerama, libXss, libXvMC (including libI810XvMC), libXxf86dga,
    libXxf86misc, libXxf86rush, libXxf86vm, libxkbfile and libxkbui.
    + Update MANIFEST.{amd64,i386,powerpc}.in.
    + Stop building liboldX altogether.

  * Move Xprint library manpages from xlibs-static-dev to libxp-dev; libxp-dev
    now declares a conflict on xlibs-static-dev (<< 6.8.1-1).

  * Re-add 099m_radeon_fwpll_support.diff, which got reverted in
    4.3.0-6ubuntu25; enables TV out (and probably better timing setup) on
    powerpc and i386.

  Changes by Fabio M. Di Nitto:

  * Ship i810 driver for amd64:
    - Add patch 601_enable_i810.diff.
    - Update MANIFEST.amd64.in.
    - Update xserver-xorg.install.amd64

  * Update debian/rules to not strip new -dbg libraries.

  * Add maintainer scripts and shlibs files to all the new libraries.

 -- Fabio M. Di Nitto <fabbione@fabbione.net>  Tue, 09 Nov 2004 16:00:29 +0100

xorg (6.8.1-0.3) hoary; urgency=low

  Changes by Daniel Stone:

  * Import patch 009_ati_r128_retry_idle_until_timeout.diff from Debian trunk
    to fix r128 code processor stalls.

  * Branding: change XFree86 to X.Org whereever possible.

  * Update copyright file.

  * Update Maintainer/Uploaders to better reflect us.
  
  Changes by Fabio M. Di Nitto:

  * Fix patch 099z_xkb_fix_rules_xfree86.diff to provide valid XML.
    The error was introduced during the massive forward port, and
    doesn't affect previous versions of XFree86.

  * Really ship libxaw8-dbg non-stripped.

  * Fix " parsing for monitor identifiers in xserver-xorg.postinst.in.
    (Closes: #2604)

  * Add patch 000_stolen_from_HEAD.diff:
    - fix dmx/config/Imakefile and install the tools required to configure the
      Xdmx server. Also update MANIFEST files to reflect the new binaries.
    - fix config/cf/linux.cf and programs/Xserver/hw/xfree86/common/Imakefile
      to use the proper XorgCustomVersion.
      Also update debian/rules to remove XFree86CustomVersion references.
    - rediff 001_kernel_version_in_banner.diff and 900_debian_config.diff.

  * Ship Xdmx server in its own package.

  * Fix dexconf header generation.

  * Fix xfree86-common config file renaming on upgrades.

  * Fix xserver-xorg config file removal on purge.

  * Perform more cleanup on obsoleted config files in xbase-clients, xdm and
    xlibs.

  * Add patch 000_stolen_from_fedora.diff to import fixes for the radeon driver
    that were causing segfaults in different setups.

 -- Fabio M. Di Nitto <fabbione@fabbione.net>  Fri, 05 Nov 2004 09:08:26 +0100

xorg (6.8.1-0.2) hoary; urgency=low

  Changes by Daniel Stone:

  * Forward port:
    000_stolen_from_linuxwacom_wacom_driver.diff.
    099l_xxf86vm_decrease_verbosity.diff.

  * Merge 990_ubuntu_noisy_xkb.diff into 003_linux.cf_and_xfree86.cf.diff.

  Changes by Fabio M. Di Nitto:

  * Fix xserver-xorg.config/postinst to not probe the system again if we are
    migrating configuration.

  * Add sis_dri debugging modules [i386].

  * Fix /etc/X11/Xresources/*xfree86-common* transition.

  * Update MANIFEST.amd64.in and related .install.amd64 files.

  * Update MANIFEST.powerpc.in and related .install.amd64 files.

  * Forward port 989_ubuntu_add_extra_modelines_from_xorg.diff

 -- Fabio M. Di Nitto <fabbione@fabbione.net>  Thu, 04 Nov 2004 09:12:44 +0100

xorg (6.8.1-0.1) hoary; urgency=low

  * Fix xorg-common postinstall script to handle fresh installs.

 -- Fabio M. Di Nitto <fabbione@fabbione.net>  Thu, 04 Nov 2004 05:30:27 +0100

xorg (6.8.1-0.0) hoary; urgency=low

  * New upstream release.
    (Closes: #1762)

  * debian/patches resync:
    + Put the following patches in stanby (temporary removed):
        000_stolen_from_author_sis_driver.diff
        000_stolen_from_sourceforge_wacom_driver.diff
        067_fix_X11_and_xdm_build_problems.diff
        600_amd64_support.diff
        901_debian_Wraphelp.c.diff
    + Remove the following patches since they are either upstream or not
      required anymore:
        000_*
        006_ati_radeon_fix_eternal_initialization.diff
        010_s3_trio64_dx_and_gx_support.diff
        013_xkb_symbols_euro_support.diff
        018_xtt_1.4.1.diff
        020_conditionalize_xie_headers.diff
        025_fix_dri_resume.diff
        027_ati_driver_message_cleanups.diff
        028_fbdev_depth24_support.diff
        030_Xserver_and_driver_region_primitive_fixups.diff
        032_xserver_manpage_fix.diff
        034_xset_manpage_update.diff
        036_fix_r200_DRI_driver_assertion_failures.diff
        037_mga_fix_unresolved_symbols.diff
        038_ICE_remove_bogus_delay.diff
        039_mkfontdir_force_correct_perms.diff
        043_ati_r128_update_chip_identification.diff
        049_Xserver_recognize_Linux_2.6_proc_bus_pci.diff
        052_glint_fix_unresolved_symbols.diff
        056_xdmcp_Wrap.h_fixes.diff
        061_savage_driver_1.1.27t.diff
        064_remove_duplicate_XShm_prototype.diff
        066_XKB_recognize_keypad_period_on_ABNT2_keyboards.diff
        071_nonexecutable_malloced_mem.diff
        074_freetype_fix_underlining.diff
        077_xdm_honor_request_port_zero.diff
        087_SECURITY_libXpm_vulnerabilities.diff
        088_fix_keyboard_rate_ioctls.diff
        093_xkb_fix_macintosh_problems.diff
        099b_Xft_FreeType_2.1.7_build_fix.diff
        099i_pro_savage_ddr_set_use_bios_to_false.diff
        101_type6_xkb_support.diff
        150_powerpc_build_nv_driver.diff
        200_alpha_xpm_get_long64.diff
        301_not_all_arm_boxes_run_netbsd.diff
        302_arm_compiler.h.diff
        451_ia64_ati_r128_and_radeon_generalize_pagesize.diff
        801_gnu_os-support_Imake.diff
        802_gnu_disable_vt_switching.diff
        804_gnu_xdm.diff
        822_gnu-freebsd_xload.diff
        911_debian_XF86Config_to_XF86Config-4.diff
        914_debian_Xserver_send_bugs_to_us.diff
    + Rename the following patches:
        - 033_no_specindex.html.diff to 033_no_html.diff
        - 099e_XF86Config_manpage_overhaul.diff to
          099e_xorgconf_manpage_overhaul.diff
    + Add patches:
        - 006_update_fonts_Imakefiles.diff to fix different encoding
          generation problems.
        - 010_donot_ship_XpConfig.diff.
        - 013_donot_install_hardcopy_in_arch_mode.diff.
        - 060_fix_XOrgManDefs.diff to fix man page generation in the
          entire X.org tree.
        - 914_make_static_libs.diff to temporary revert some upstream changes
          until further investigation will be completed.
    + Update patches:
        - 003_linux.cf_and_xfree86.cf.diff:
          . Define NothingOutsideProjectRoot if not define already.
            Shutd up tons of warning at build time.  This seems to be a side
            effect of the new Imakefiles.
          . Use external rman (see below).
          . Do not build html documentation at all.
          . Build almost all XSpecs.
          . Build internal RenderLibrary (see below).
          . Build only XPrintServer and not all the related stuff.
        - 900_debian_config.diff:
          . Do not build Xprint server.
    + All the remaining patches have been resynced to apply properly.

  * Add build dependency on rman.
    The version in Debian is more updated than the one in the tree and it
    offers the same capabilities.

  * Start cleaning debian/rules to remove references to XFree86.

  * Update SERVERDEBUG_IMAKE_DEFINES to not build Xdmx.

  * Update IMAKE_DEFINES to not install hardcopy on binary-arch target.

  * Update debian/control:
    + kill libxft1 and libxft1-dbg.
    + rename xserver-xfree86 and xserver-xfree86-dbg to xserver-xorg and
      xserver-xorg-dbg.
    + ship dummy xfree86-common, xserver-xfree86 and xserver-xfree86-dbg
      packages to ensure smooth transition.
    + rename xfree86-common to xorg-common.
    + ship the following new shared libraries:
      libxaw8, libxaw8-dbg, libxaw8-dev.

  * Update MANIFEST files for i386 and arch all.

  * Global .install .doc files updates.

  * Update copyright file to reflect new upstream.

  * Rename uxterm.1x to uxterm.1 to reflect upstream man page name schema
    changes.

  * Update all po/ dir to s/xfree86/xorg/g.

  * Fix xorg-common and xfs init scripts output redirection.
    (Closes: #2618)

  * Sanitize the following maintainer scripts:
    - libdps1.postinst.in to use register_x_lib_dir_with_ld_so.
    - libdps1.postrm.in to use deregister_x_lib_dir_with_ld_so.
    - libice6.postinst.in to safely call ldconfig.
    - libsm6.postinst.in to safely call ldconfig.
    - libx11-6.postinst.in to safely call ldconfig.
    - libxaw6.postinst.in to use register_x_lib_dir_with_ld_so.
    - libxaw6.postrm.in to use deregister_x_lib_dir_with_ld_so.
    - libxaw7.postinst.in to use register_x_lib_dir_with_ld_so.
    - libxaw7.postrm.in to use deregister_x_lib_dir_with_ld_so.
    - libxext6.postinst.in to safely call ldconfig.
    - libix6.postinst.in to safely call ldconfig.
    - libxmu6.postinst.in to safely call ldconfig.
    - libxmuu1.postinst.in to safely call ldconfig.
    - libxp6.postinst.in to safely call ldconfig.
    - libxpm4.postinst.in to safely call ldconfig.
    - libxrandr2.postinst.in to safely call ldconfig.
    - libxt6.postinst.in to safely call ldconfig.
    - libxtrap6.postinst.in to safely call ldconfig.
    - libxtst6.postinst.in to safely call ldconfig.
    - libxv1.postinst.in to safely call ldconfig.
    - twm.postinst.in call to update-alternatives to use the correct man page.
    - xlibmesa-gl.postinst.in to use register_x_lib_dir_with_ld_so.
    - xlibmesa-gl.postrm.in to use deregister_x_lib_dir_with_ld_so.
    - xlibmesa-glu.postinst.in to use register_x_lib_dir_with_ld_so.
    - xlibmesa-glu.postrm.in to use deregister_x_lib_dir_with_ld_so.
    - xlibosmesa4.postinst.in to use register_x_lib_dir_with_ld_so.
    - xlibosmesa4.postrm.in to use deregister_x_lib_dir_with_ld_so.
    - xterm.postinst.in to update-alternatives to use the correct man page.

  * Rename all XF86 vars to XORG and correct scripts to handle them properly.

  * Add xserver-xorg debconf template transition to xserver-xorg.postinst.in.

  * Perform migration of XF86Config-4 to xorg.conf.

  * Ship etc/X11/xkb/rules/xfree86{,.xml} as symlinks to
    etc/X11/xkb/rules/xorg{,.xml}.
    This will avoid breakage on custom configurartions due to upstream rename
    of the files.

 -- Fabio M. Di Nitto <fabbione@fabbione.net>  Tue, 26 Oct 2004 07:14:50 +0200

xfree86 (4.3.0.dfsg.1-6ubuntu25) warty; urgency=low

  Imported from Debian trunk:

  * Update "Further Information" section of FAQ.

  * Add FAQ entry: What are Debian's plans with respect to X.Org and
    XFree86?

  * Add FAQ entry: What are Debian's plans with respect to X.Org and
    XFree86?

  * Add FAQ entry: Sometimes I get garbage characters like 1;2c in my xterm
    windows; what's happening?

  * Update FAQ entry: My keyboard configuration worked with XFree86 4.2; why
    is it messed up now?

  * Update FAQ entry: How does the keyboard work in the X Window System?

  * Add copyright and (MIT/X11 style) license for Bitstream Type1 fonts to
    copyright file.  Thanks to Ben Harris for pointing this out.
    (Closes: #274018)

  Changes by Fabio M. Di Nitto:

  * Fix 1152x768 @ 60 Hz mode. (Closes: #2328)

  * Fix a nasty bug in frequencies detection logic to get a better
    clue if the resolution is not in the mode-list template and respect
    selection-method user value on reconfiguration.
    This fix will catch all the unknown resolutions without projecting the
    users back in time to a 640x480@60Hz view of the world, both at
    installation time and during upgrades/reconfigurations.

  Changes by Daniel Stone:

  * debian/patches/099l_xxf86vm_decrease_verbosity.diff:
    + Take patch from X.Org (http://freedesktop.org/bugzilla/show_bug.cgi?id=1552)
      and Red Hat (https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=128305)
      to decrease Xxf86vm verbosity, so the hard drive does not spin up every
      time xscreensaver activates.

 -- Fabio M. Di Nitto <fabbione@fabbione.net>  Wed, 13 Oct 2004 13:42:39 +0200

xfree86 (4.3.0.dfsg.1-6ubuntu24) warty; urgency=low

  Imported from Debian trunk:

  * Fix to FAQ xhtml formatting.

  * Make Sun keyboards load srvr_ctrl(xfree86) symbol definitions to have
    access to standard Ctrl+Alt key sequences.  (Closes: #236086)

  * Apply patch from Jan Wilhelm Stumpel to correct miscoded Unicode Plane 1
    characters in en_US.UTF-8 compose map.  (Closes: #267321)

  * Install xlibs's bug script in the binary-indep rule, not binary-arch,
    since xlibs is an architecture "all" package.  Now the script will
    actually be shipped.

  * If the restorecon command is available, restore SELinux file security
    contexts after setting up X server and ICE socket directories
    (xfree86-common) and font server socket directories (xfs) after creating
    them in the init scripts.  (Closes: #268812, #271030)

  * Fix missing-word typo in xnest's package description.  Thanks to Roland
    Stigge for catching this.  (Closes: #268997)

  * Add FAQ entry: What is the story with XFree86 3.x?

  * Apply some fixes to the XFree86 X server's ELF object loader:
    + Stop conditionally #including <sys/mman.h> since it is unconditionally
      imported earlier in the file.
    + Perform an mprotect() for AMD64 Linux systems as well as OpenBSD to
      prevent SEGVs on NX-enabled kernels.  (Closes: #277699)
    + Fix a problem with parentheses when using the preprocessor (doesn't
      affect Debian, but would cause unexpected behavior on OpenBSD).

  * Perform some cleanup work on the shared library maintainer scripts of
    libdps1, libxaw6, libxaw7, xlibmesa-gl, xlibmesa-glu, and xlibosmesa4;
    thanks to Fabio for noticing the inconsistencies.
    + Call register_x_lib_dir_with_ld_so() before invoking ldconfig in the
      post-installation scripts.
    + Perform configuration actions regardless of the value of "$1" in the
      post-installation scripts.
    + Call deregister_x_lib_dir_with_ld_so() before invoking ldconfig in the
      post-removal scripts.
    + Move the #DEBHELPER# expando later in the scripts where applicable.

  * Perform some cleanup work on the update-fonts-{alias,dir,scale} utilities
    and their manual pages.
    + Re-indent at four spaces.
    + Query terminal for its width if $COLUMNS is not set, as shell-lib.sh
      does.  Fall back to a width of 80 if stty returns garbage or nothing.
    + Rename error() to die().
    + Add usage() function and -h, --help option.
    + Use exit status 2 to indicate usage errors as opposed to operational
      failures.
    + Be more careful with quoting shell variables.
    + Add and expand comments.
    + Add SVN Id keyword.
    + Update Vim modeline.
    + Update manual pages to document changes in interface and behavior (there
      are no backwards-incomaptible changes).

  * Perform some cleanup work on the xvfb-run utility and its manual page.
    + Query terminal for its width if $COLUMNS is not set, as shell-lib.sh
      does.  Fall back to a width of 80 if stty returns garbage or nothing.
    + Add message() and error() functions.
    + Enhance usage() function to (additionally) display an error message
      consisting of the function arguments, if any.
    + Use error() and usage() instead of echo for error messages.
    + Cosmetically tidy up usage message, and correct a typo.
    + Declare locally-scoped variable in find_free_servernum().
    + Store getopt's exit status and report it in an error message if it is
      nonzero.
    + Clarify the error message if getopt rearranges the command line in a way
      we don't expect.
    + Tidy up comment, shell function, and redirection style.  Wrap long
      lines.  Quote variables that may have whitespace in them.  Update Vim
      modeline.
    + Describe effect of $COLUMNS environment variable in manpage.
    + Remove erroneous description of exit status 1, and explain why it is not
      used.
    + Add description of exit statuses 0, 4, 5, and 6.
    + Fix markup error.

  * Replace many occurences of XSI connectives in test(1) with POSIX shell
    connectives in scripts.

  * Apply patch from David Mosberger that replaces the fix for #225526 with
    one that works on systems that do not have a PCI bus numbered 0.  Thanks,
    David!  (Closes: #279436)

  * Apply patch from Richard Mortimer to fix the XFree86 X server's ELF object
    loader to set the PROT_EXEC flag on mmap()ed modules regardless of machine
    architecture.  (It was already trying to do this, but there are two
    preprocessor statements involved, and we were only patching one.)
    (Closes: #280384)

  * Add magic register poke to neomagic driver which apparently speeds up DVD
    playback operations.  Thanks to Tony Hill for finding this patch.
    Unfortunately, despite efforts to locate some, there appears to be no
    documentation of why this register poke works.  (Closes: #277038)

  * Make factual updates, clarifications, and wording corrections to the FAQ:
    + Point out that the X.Org relicensing debacle was back in 1998, not
      recent.
    + Be more clear about why OS distributors stuck with XFree86 after it was
      forked, but before it was relicensed.
    + Identify which license is referred to as the "XFree86 1.1 license".
    + Clarify the origin of the contradictory statements regarding the
      GPL-compatibility of XFree86.
    + Clarify the discussion of the "relicensing pilot project" that was
      performed on the XFree86 "auto-config" code.  The code was checked in,
      *then* relicensed without other changes.
    + Point out that most distributors have settled on X.Org's X11R6.8.1 for
      their X Window System implementation, at least for the time being.
    + Stress that XFree86 3.x is no longer supported.
    + Remove language that discusses future directions of XFree86 3.x support
      in dexconf, since it is unlikely that that work is going to happen.

  * Increase the minimum pixel clock for Matrox cards based on feedback from
    Teemu Ikonen.  (Closes: #261993)

  * Tidy up and improve fbdev driver messages, correcting spelling, adding
    information, and otherwise enhancing them.  (Closes: #275318)

  Changes by Denis Barbier and Fabio M. Di Nitto:

  * Add several multi-layout aware layouts:
    + ca (Canada) contains several variants: "fr" is meant as a replacement
      for ca_enhanced, "fr-legacy" is another variant, and "multi" is an
      implementation of CAN/CSA-Z243.200-92.  This standard requires two
      groups, so it is in fact divided into "multi" and "multi-2gr" variants.
      By default, "ca" loads both "multi" and "multi-2gr" to provide a
      full-featured keyboard.  When it is combined with other layouts, the
      simpler variant "fr" is used, but others can be explicitly specified.
      (Closes: #245371, #252068, #258575)
    + The new ca layout also fixes ISO_Level3_Shift, which was mapped to
      <RCTL> instead of <RALT>.  (Closes: #274457)
    + jp (Japan) also requires a combination of two variants.  When this is
      the only loaded layout, the full combination is used.  When this layout
      is combined with others, only the "jp106" variant is loaded.
    + hu (Hungary) layout has been simplified; some variants have been removed.
      (Closes: #263561)
    + ch (Switzerland) replaces de_CH and fr_CH.
    + mn (Mongolia) and vn (Vietnam) are simple layouts.

  * In UTF-8 compose files, replace U00xx Unicode codepoints by the
    corresponding keysyms.  Otherwise the compose character is in
    the range 0x01000000-0x010000FF which is not valid according to
    appendix A of the X11 protocol.  Even if most applications are able
    to recognize these broken characters, few of them fail, most notably
    xemacs and users are then unable to use composition when in UTF-8
    locales.  (Closes: #235574)

  * Note: the above keyboard changes are supposed to partially fix Ubuntu bugs:
    1089, 1390, 1506.

  Changes by Fabio M. Di Nitto:

  * Update wacom input driver from http://linuxwacom.sourceforge.net/ up to
    version 0.6.4:
    + Remove now obsolete patch 036_wacom_usb_tablet_update.diff
    + Add patch 000_stolen_from_sourceforge_wacom_driver.diff
    + Fix input timeout problems if the device is not connected.
      No references are available in upstream changelog, but tests do not
      show this behavior anymore. (Closes: #231837)
    + Fix compatibility with kernel 2.6 wacom driver. (Closes: #250331)
    + Add support for Cintiq boards. According to #172526 logs the patch
      has been included, reworked and cleaned by upstream a long time ago.
      No references are available in upstream changelog. (Closes: #172526)
    + A combination of new kernel, xfree86 and wacom driver appears to have
      fixed the APM resume issue as described in #80140. Tests done
      on a powerpc laptop do not show this problem anymore.
      No references are available in upstream changelog. (Closes: #80140)
    (Closes: #1117)

  * Add workaround for the UseBIOS default setting in the savage driver:
    + Add patch 099i_pro_savage_ddr_set_use_bios_to_false.diff
    + Set UseBios default to "no" for PROSAVAGE_DDR and PROSAVAGE_DDRK, as
      described here http://www.probo.com/timr/savage40.html.
    (Closes: #2111)

  * Update LANG <-> layout mappings from localization-config-0.102.

  * Set default keyboard model to pc105 for powerpc. (Closes: 1690)

 -- Fabio M. Di Nitto <fabbione@fabbione.net>  Thu, 07 Oct 2004 06:18:28 +0200

xfree86 (4.3.0.dfsg.1-6ubuntu23) warty; urgency=low

  Imported from Debian trunk:

  * Update Danish debconf template translations (thanks, Claus Hindsgaul).
    (Closes: #274101)

  * Add FAQ entry: Why does composing characters work in some applications but
    not others?

  * List /etc/X11/xkb/symbols/pc/us_intl into xlibs.install, MANIFEST
    files and xc/programs/xkbcomp/symbols/pc/Imakefile so that this keymap
    gets shipped.  (Closes: #271326, #274513, #1089)

  Changes by Fabio Massimo Di Nitto:

  * Fix Brazilian keyboard autodetection. (Closes: #1964)

  * Always ask the user what driver to use in case we detect a via chipset.
  * Probe via cards with vesa drivers.
    (Closes: #1878)

 -- Fabio M. Di Nitto <fabbione@fabbione.net>  Mon, 04 Oct 2004 09:55:01 +0200

xfree86 (4.3.0.dfsg.1-6ubuntu22) warty; urgency=low

  * Update 000_stolen_from_HEAD.diff:
    + Include Xv/framebuffer fix for xf86xv.c.
  * Update 030_Xserver_and_driver_region_primitive_fixups.diff:
    + Fix REGION_EQUAL call in nv_driver.c.
  * Update Czech debconf template translations (thanks, Miroslav Kure).
  * Apply fix for Keycodes for PrintScreen and SysRq. (Closes: #1762)

 -- Fabio M. Di Nitto <fabbione@fabbione.net>  Mon, 27 Sep 2004 07:58:55 +0200

xfree86 (4.3.0.dfsg.1-6ubuntu21) warty; urgency=low

  Changes by Fabio Massimo Di Nitto:

  * Revert debian/patches/099j_ati_r4xx_support.diff.
  * Revert debian/patches/099k_ati_use_fwpll.diff.
  * Rediff debian/patches/911_debian_XF86Config_to_XF86Config-4.diff.

  (Closes: #1605)

 -- Fabio M. Di Nitto <fabbione@fabbione.net>  Wed, 22 Sep 2004 17:10:17 +0200

xfree86 (4.3.0.dfsg.1-6ubuntu20) warty; urgency=low

  Changes by Daniel Stone:

  * debian/local/dexconf:
    + Changed 'synaptic' to 'synaptics' in mouse section. (closes: Warty#1289)
  * debian/patches/099j_ati_r4xx_support.diff:
    + Backported ATI r4xx support from X.Org HEAD.
      - fp_horz_stretch vs. fp_vert_stretch upstream bug for panel resolution
        detection fixed along the way.
  * debian/patches/099k_ati_use_fwpll.diff:
    + Option to allow FWPLL, for TV out on some ATI-based PowerPCs.
  * debian/patches/911_debian_XF86Config_to_XF86Config-4.diff:
    + Resynced per 099j's card list update to radeon.man.

  Changes by Fabio Massimo Di Nitto:

  * Fix keyboard model and variant selection for brasilian layout.

  Import from Debian:

  * Update Japanese debconf template translations (thanks, Kenshi Muto).

  * Add FAQ entry: How does the keyboard work in the X Window System?

  * Update FAQ file.

 -- Fabio M. Di Nitto <fabbione@fabbione.net>  Wed, 22 Sep 2004 08:43:22 +0200

xfree86 (4.3.0.dfsg.1-6ubuntu19) warty; urgency=low

  Imported from Debian: (Closes: #1390, #1506)

  * Grab /etc/X11/xkb/symbols/pc/us_intl from XFree86 CVS (2003-10-04).  This
    makes us_intl multi-layout aware, and binds the right Meta key to
    Mode_Switch.  (Closes: #271326, #234085)

  * Revert upstream change to altwin behavior applied in 4.3.0.dfsg.1-1.
    The Meta_* keysyms must be removed from the shift level of Alt keys when
    altwin:meta_win or altwin:left_meta_win are used; otherwise, XKB-unaware
    applications (like GNU Emacs) may believe that mod1 and mod4 are bound to
    Meta keys.

  * Fix inconsistencies in rules/xfree86* files:
    + rules/xfree86: List in $oldlayouts all layouts which are currently not
      multi-layout aware in the Debian xlibs package, including hu_US (thanks,
      Veres Lajos).  (Closes: #247463, #270810)
    + rules/xfree86: Support the lv3:ralt_switch option, which exists in
      xfree86.lst but was forgotten in this file.
    + rules/xfree86: Remove special case that causes PC keyboard models with
      the us_intl layout to load the us layout and add the us_intl layout to
      it.  (Closes: #234085)
    + rules/xfree86.{lst,xml}: Replace the options altwin:meta_super and
      altwin:meta_hyper with the correct names altwin:super_win and
      altwin:hyper_win.  (Closes: #271259)
    + rules/xfree86.{lst,xml}: Synchronize these files.

  * Add FAQ entry: My keyboard configuration worked with XFree86 4.2; why is
    it messed up now?  (Closes: #259740)

  Changes by Fabio Massimo Di Nitto:

  * Update nv driver from X.org:
    + Update MANIFEST and xserver-xfree86.install files to reflect the new
      riva128.o submodule.
    + Update 000_post430.diff:
      - Drop nv_setup.c bits.
    + Update 000_stolen_from_HEAD_nv_driver.diff:
      - Full nv driver from X.org.
      - Removed 2 references to XORG_VERSION_CURRENT since it is not defined.
    + Update 000_stolen_from_freedesktop.org.diff:
      - Add xaa bits required to compile the new nv driver.
      - Add fbdevhw bits required to compile the new nv driver.
    + Update 030_Xserver_and_driver_region_primitive_fixups.diff nv REGION_EQUAL
      to fix Xv extensions on a bunch of cards.
    + Drop 098_nv_xvideo_fullscreen_fix.diff:
      - Now included upstream.
    + Update 911_debian_XF86Config_to_XF86Config-4.diff.
    (Closes: #1492, #929, #1361, #1471)

  * Create debian/tmp/usr/X11R6/lib/X11/doc when NOT_BUILDING_XFREE86_X_SERVER
    is defined.  Fixes FTBFS on s390.

  * Add more LANG <-> Belgian keyboard maps. (Closes: #1425)

  * Stop writing Configured Mouse section if detected mouse is /dev/psaux
    (Closes: #1417)

  * Add missing 1152x864 @ 60Hz resolution <-> frequencies map.
    (Closes: #1339)

  Changes by Daniel Stone:

  * debian/patches/099i_wacom_driver_0.6.4.diff:
    + Take new version of Wacom driver from linuxwacom.sf.net, with support
      for many new tablets.
    (Closes: #1117)
  * debian/xserver-xfree86.templates:
    + Add 1600x1050 @ 75Hz, used in some HP widescreen laptops.

 -- Fabio M. Di Nitto <fabbione@fabbione.net>  Wed, 15 Sep 2004 08:35:29 +0200

xfree86 (4.3.0.dfsg.1-6ubuntu18) warty; urgency=low

  * debian/patches/000_stolen_from_freedesktop.org:
    + Moved to 000_stolen_from_x.org.
  * debian/patches/000_stolen_from_x.org:
    + Security fix for libXpm, taken from X11R6.8. CVE numbers CAN-2004-0687
      and CAN-2004-0688.

 -- Daniel Stone <daniel.stone@canonical.com>  Wed, 15 Sep 2004 10:55:28 +1000

xfree86 (4.3.0.dfsg.1-6ubuntu17) warty; urgency=low

  * Fix framebuffer detection again. (Closes #1176)
  * Import from Debian trunk:
    + cosmetic fix to debian/scripts/locale-munger
    + update FAQ.

 -- Fabio M. Di Nitto <fabbione@fabbione.net>  Tue, 14 Sep 2004 06:47:11 +0200

xfree86 (4.3.0.dfsg.1-6ubuntu16) warty; urgency=low

  * Fix framebuffer detection. (Closes #1176)
  * Add XRESPROBE_DEBUG env var check to wrap xresprobeint with set -/+x
    in xserver-xfree86.postinst.in.
  * Set XRESPROBE_DEBUG to true if DEBUG_XFREE86_PACKAGE has been defined.
  * Attempt to probe for all drivers but only if we are installing
    for the first time.
  * Add XF86FORCEPROBE env var check to force probe even on upgrades.
    NOTE: USE WITH CAUTION! IT CAN CRASH YOUR RUNNING X!!!
  * Update Italian, Danish and French debconf templates translations
    from Debian trunk.
  * Rename 989_warty_add_extra_modelines_from_xorg.diff to
    989_ubuntu_add_extra_modelines_from_xorg.diff
  * Import from Debian trunk:
    + In the Xsession script, attempt to create a file of non-zero length in
      /tmp; a full filesystem can cause mysterious X session failures.

 -- Fabio M. Di Nitto <fabbione@fabbione.net>  Mon, 13 Sep 2004 08:39:58 +0200

xfree86 (4.3.0.dfsg.1-6ubuntu15) warty; urgency=low

  * Fix botched -6ubuntu13 change.
  * debian/patches/990_ubuntu_noisy_xkb.diff:
    + Add -DNOISY to compilation of the XKB section, so we can more easily
      catch keyboard errors.

 -- Daniel Stone <daniels@debian.org>  Wed,  8 Sep 2004 11:23:02 +1000

xfree86 (4.3.0.dfsg.1-6ubuntu14) warty; urgency=low

  * Resync last bits from svn trunk up to 1793.
  * Switch to the new xfree86-common.init script.
  * Allocated 10 patch slots (989-998) for warty (debian/README).
  * Add debian/patches/989_warty_add_extra_modelines_from_xorg.diff
  * Import validate_monitor_frequency_expr and
    validate_monitor_frequency_db_input from branches/debconf-overhaul into
    our xserver-xfree86.postinst.in.
  * Add missing db_get call in xserver-xfree86.postinst.in when
    selection-method is set to Medium.
  * Import more horiz-sync/vert-refresh sets from branches/debconf-overhaul
    into our xserver-xfree86.postinst.in and xserver-xfree86.templates.
  * Improve frequency autoguessing logic to set much better sane defaults
    around and to prefer well known values over autoguessed once.
  * Import improved calculation of xserver-xfree86/config/device/use_fbdev
    answer from branches/debconf-overhaul into our xserver-xfree86.config.in.
  * Import server module selection enanchments from branches/debconf-overhaul.
  * Import new regexp for lspci from branches/debconf-overhaul to handle
    correctly presence of Class or not.
  * Stop asking questions on upgrades.

 -- Fabio M. Di Nitto <fabbione@fabbione.net>  Fri, 03 Sep 2004 07:28:01 +0200

xfree86 (4.3.0.dfsg.1-6ubuntu13) warty; urgency=low

  * Add dvorak symlink for macintosh keycode users.

 -- Daniel Stone <daniels@debian.org>  Fri,  3 Sep 2004 19:03:20 +1000

xfree86 (4.3.0.dfsg.1-6ubuntu12) warty; urgency=low

  * Always feed bus_id questions. Useful when reconfiguring.
  * Set default keyboard model to pc105 on all layout other than "us".
  * "Recommends:" hw detection tools instead of "Suggests:"
  * Turned the video driver question back on if there is no autodetection.
    DEFAULT=vesa is not enough.
  * Add defoma font patchs to dexconf output. (Closes #953)

 -- Fabio M. Di Nitto <fabbione@fabbione.net>  Wed, 01 Sep 2004 14:41:50 +0200

xfree86 (4.3.0.dfsg.1-6ubuntu11) warty; urgency=low

  * Resync changes with Debian r1777.
  * Kill debian/patches/914_novtswitch_option.diff.

 -- Fabio M. Di Nitto <fabbione@fabbione.net>  Tue, 31 Aug 2004 06:42:51 +0200

xfree86 (4.3.0.dfsg.1-6ubuntu10) warty; urgency=low

  * Resync changes with Debian r1766.
  * Rewrote xserver-xfree86 postinst logic:
    + Add dynamic template for resolution modes.
  * Fix reconfigure and upgrade problem that was mangling X config file.
  * Global debconf cleanup:
    + reenable a few questions in reconfiguration mode that were lost.

 -- Fabio M. Di Nitto <fabbione@fabbione.net>  Fri, 27 Aug 2004 12:02:48 +0200

xfree86 (4.3.0.dfsg.1-6ubuntu9) warty; urgency=low

  * Change mouse -> synaptic driver.

  * Fix libx11-6 and libxt6 preinst.in files.

 -- Fabio M. Di Nitto <fabbione@fabbione.net>  Fri, 27 Aug 2004 11:10:19 +0200

xfree86 (4.3.0.dfsg.1-6ubuntu8) warty; urgency=low

  * Re-enable horiz-sync and vert-refresh in the default config.

  * Resync with Debian (trunk) r1755.
    + Remove JEFFCRACK and re-use a more sensible variable name.

  * Move LAPTOP check from postinst to dexconf where it belongs:
    + Enable Synaptic Touchpad on laptop for real.

 -- Fabio M. Di Nitto <fabbione@fabbione.net>  Tue, 24 Aug 2004 15:46:41 +0200

xfree86 (4.3.0.dfsg.1-6ubuntu7) warty; urgency=low

  The "ThomB0T was kinda upset" upload.

  Changes by Fabio M. Di Nitto:

  * Fix dexconf to survive xresprobe crack.
  * Ban via driver from autoprobe.
  * Do NOT probe again on upgrades.
  * Lower "No X Server detected" priority.
  * Be sure to ask all questions on reconfiguration.
  * Bump dependencies on xserver-common to ubuntu7. ubuntu6 is doomed.

  Changes by Daniel Stone:

  * debian/patches/914_novtswitch_option.diff:
    + Add option to prevent VT switch away from the current VT.
  * debian/local/Xsession.options:
    + Add use-session-dbus, so D-BUS can start its session bus.

 -- Fabio M. Di Nitto <fabbione@fabbione.net>  Fri, 20 Aug 2004 11:15:23 +0200

xfree86 (4.3.0.dfsg.1-6ubuntu6) warty; urgency=low

  * Bump dependencies on xserver-common to ensure better autoreconfigure
    features.

 -- Fabio M. Di Nitto <fabbione@fabbione.net>  Thu, 19 Aug 2004 15:32:29 +0200

xfree86 (4.3.0.dfsg.1-6ubuntu5) warty; urgency=low

  Changes by Fabio M. Di Nitto and Daniel Stone:
  
  * Stop Suggesting read-edid, and replace it with xresprobe.
  * Resync with Debian r1736.
  * xserver-xfree86{,-dbg} now Suggests laptop-detect.
  * Re-enable use of mdetect as a possible backup for /dev/input/mice.
  * Add LANG to X keyboard layout mapping to xserver-xfree86.config.in
    inspired by Konstantinos Margaritis
  * Attempt to detect the keyboard layout from $LANG
  * Select always the first video card if more than one is present in the
    machine. discover is supposed to give us the best one available.
  * Lower "Use Kernel Frambuffer" priority to medium.
  * Do not ask for video card driver. If we cannot autodetect, we
    switch automatically to a sane default.
  * Rewrote the monitor detection section based on Daniel Stone
    xresprobe package.
  * Add synaptic touchpad mouse entry if we are on laptop.
  * Add JEFFCRACK in dexconf.

 -- Fabio M. Di Nitto <fabbione@fabbione.net>  Thu, 19 Aug 2004 14:55:20 +0200

xfree86 (4.3.0.dfsg.1-6ubuntu4) warty; urgency=low

  * Resync with Debian r1730.

 -- Fabio M. Di Nitto <fabbione@fabbione.net>  Wed, 11 Aug 2004 13:50:08 +0200

xfree86 (4.3.0.dfsg.1-6ubuntu3) warty; urgency=low

  Warty specific changes:

  * Disable mouse autodetection and default to /dev/input/mice.

  * Do not ask if your monitor is LCD. Default to Medium covers all cases.

 -- Fabio M. Di Nitto <fabbione@fabbione.net>  Sat, 31 Jul 2004 11:27:21 +0200

xfree86 (4.3.0.dfsg.1-6ubuntu2) warty; urgency=low

  Warty specific changes:

  * Fix infinite loop when mdetect returns no output, by setting the default
    for xserver-xfree86/autodetect_mouse outside the loop.
    (debian/xserver-xfree86.config)

 -- Colin Watson <cjwatson@flatline.org.uk>  Fri, 30 Jul 2004 16:44:26 +0100

xfree86 (4.3.0.dfsg.1-6ubuntu1) warty; urgency=low

  Warty specific changes:

  * Change Build-Deps to libstdc++5-3.3-dev instead of
    libstdc++5-dev | libstdc++-dev.

  * Force the following parameters in debian/rules:
    + OFFICIAL_BUILD:="yes"
    + BUILDER_EMAIL_ADDR:=fabbione@fabbione.net
    + IMAKE_DEFINES s/Debian/Ubuntu

  * Switch defaults to always attempt autodetection.
    (debian/xserver-xfree86.config)

  * Always ask for X keyboard layout while we wait for automagic to be
    in place. (debian/xserver-xfree86.config)

  * Add notes on part of the code where we need autodetection improvements.
    (debian/xserver-xfree86.config)

  * Switch default monitor selection method to "Medium" in case autodetection
    fails. (debian/xserver-xfree86.config)

  * Enable 1024x768 in DEFAULT_MODES. Anybody using 800x600 on a desktop?
    (debian/xserver-xfree86.config)

  * Make xbase-clients declare that it replaces xutils (<< 4.3.0.dfsg.1-6ubuntu1)
    and viceversa. See below.

  * Change default "your monitor's best video mode" down to 1024x768 @ 60Hz
    from 1280x960 @ 60Hz. Let's try to not fry old laptops.
    (xserver-xfree86.templates xserver-xfree86/config/monitor/mode-list)

  * Redirect all buildlogs and installogs in logs/.

  * Upload urgency set to medium due to fix for stable-release-critical bugs
    (#285133 and #285150; see below).

  * Make keypad delete key <KPDL> generate KP_Separator, not comma, in
    Brazilian XKB layouts (thanks, Rafael Ávila de Espíndola).
    (Closes: #286667)

  Changes by Branden Robinson:

  * Update Turkish debconf template translations (thanks, Recai Oktas).
    (Closes: #256360)

  * Grab latest version of XTerm (#191) from Thomas Dickey's website.

  * Add FAQ entry: Why is xterm using the "fixed" font for everything,
    disregarding the font configuration from the X resource database?
    (Closes: #254650)

  * Update hyperlink to Debian X FAQ in NEWS file.  Thanks to Calum Mackay for
    pointing this out.

  * Make libxpm-dev rather than xlibs-static-dev provide libxpm4-dev.
    Thanks to Daniel Schelper for pointing this out.  (Closes: #256420)

  * Move atobm and its manpage from xutils to xbase-clients; this shuts up
    dangling symlink warning mails from cron on systems with xutils installed
    but not xbase-clients.  Make xbase-clients declare that it replaces xutils
    (<< 4.3.0.dfsg.1-7).  (Closes: #200061)

  * Invert the sense of a test in debian/rules; this results in xlibmesa-dri's
    bug script actually being shipped.  D'oh!

  * Make xbase-clients depend on xlibs and explain why in the package's
    extended description.  Thanks to Andreas Metzler for catching this.
    (Closes: #257023)

  * Update FAQ entry "How do I run an X client as root when the X session
    is run by a user?" to document existence of sux.

  * Update Glide3 library support for amd64 and ia64 thanks to Guillem Jover.
    Increment versioned build-dependency on libglide3 to >= 2002.04.10-7, and
    require this library for building on amd64 and ia64.  Edit patch #003 to
    enable compilation of tdfx DRI Mesa module on amd64 and ia64.  Shut up cpp
    warnings when generating Makefiles by defining a default value for
    HasGlide3 in xfree86.cf ("NO").  Resync patches #004, #048, #103, #150,
    #250, #500, and #600.  Ship tdfx DRI Mesa module in xlibmesa-dri for amd64
    and ia64, and unstripped version of same in xlibmesa-dri-dbg.
    (Closes: #255270)

  * Fix up Glide3 library support in various respects.  Stop shipping tdfx DRI
    Mesa module on powerpc until it stops being useless (i.e., until
    libglide3-dev is available on that architecture).  Move xlibmesa-gl's
    suggestion of the libglide3 package (and explanation thereof) to the
    xlibmesa-dri package.

  * Add FAQ entry: I'm having trouble getting dual-head support to work on my
    ATI Radeon card.  Can you help?  (Closes: #236197)

  * Update FAQ to include hyperlink to the upstream source for the XTerm FAQ.

  * Grab latest version of XTerm (#192) from Thomas Dickey's website.
    According to the upstream changelog, this release addresses several Debian
    bugs.
    + Change resource settings for color4 and color12; add some discussion in
      XTerm-col.ad.  (Closes: #255070)
    + Add a note in xterm manpage regarding possible conflict between resource
      settings for xterm.vt100.font and xterm.vt100.utf8Fonts.font.
      (See #254650.)
    + Add case to uxterm to accommodate locales ending with "@euro", e.g.,
      fr_FR.UTF-8@euro (report/analysis by Matthieu Lagouge).
      (Closes: #255197)
    + Save the fontnames for bold fonts that are derived from normal fonts, or
      from the boldFont resource, so the same value is restored when switching
      with the VT Fonts menu.  (Closes: #256086)
    + Fix typo in manpage's description of character classes.
      (Closes: #257073)
    + Modify terminfo to accommodate luit, which relies on G1 being used via
      an ISO-2022 escape sequence (analysis by Juliusz Chrobocek).
      (See #254316; in Debian, this is actually an ncurses-base bug.)

  * Update XTerm FAQ to latest version (1.84) from Thomas Dickey's website.

  * Grab from XFree86 CVS (no later than 2003-11-10) several fixes to the
    RandR extension manual page and server-side implementation.
    + Remove reference to non-existent Xrender(3) man page (reported to
      webmaster).  [David Dawes]
    + Fix manual pages typos (Bugzilla #316, Jens Schweikhardt).  [Matthieu
      Herrb]
    + Removed Copyright sign from man pages as this causes some formatters to
      choke (Egbert Eich).
    + Fixed rounding of refresh rate in RandR, updated Xrandr man page
      (BugzillaR #527, Egbert Eich).
    + Fix RandR initialization problem when default screen resolution is
      different from the virtual resolution. (Bugzilla #853, Bob Paauwe).
      [Alan Hourihane]
    + The call to xf86RandRSetMode() from xf86RandRCreateScreenResources()
      doesn't appear to be necessary.  Removing it restores the documented
      ViewPort behaviour when RandR is enabled (David Dawes).
    + Warning fix [Marc Aurele La France]
    + C-style comments were being stripped by preprocessing.  [David Dawes]
    (Closes: #256297)

  * Fix bug in COMPOUND_TEXT translation of the GBK character encoding
    (thanks, Su Yong).  (Closes: #255224)

  * Fix missing element of Debian X FAQ conversion to XHTML; correct
    s390-specific version of xfree86-common dh_installdocs file to recognize
    that the FAQ is already gzipped.

  * Move BDF font character set conversion files from xfonts-base package to
    xutils (these files are used and needed by the ucs2any tool in the latter
    package, and not by anything else).  Update MANIFEST and .install files
    accordingly.  Make xutils declare that it replaces xfonts-base (<<
    4.3.0.dfsg.1-7).

  * Rewrite and greatly enhance manifest-install-reconcile tool to be able to
    check against lists of known false positives and false negatives on a
    per-architecture basis.  Ship these lists, add a usage message to
    manifest-install-reconcile, and document use of the script in the README
    file.

  * Grab from XFree86 CVS (no later than 2003-12-18) fixes to the ja_JP.UTF-8,
    ko_KR.UTF-8, and zh_TW.UTF-8 XLC_LOCALE files to prefer ISO
    10646-1-encoded fonts less strongly.  Add zh_CN.UTF-8 XLC_LOCALE file.
    Update MANIFEST and .install files accordingly.  (Closes: #255701)

  * Provide local, hacked version of debconf-updatepo (in debian/scripts) that
    doesn't destroy the comment and header block of debian/po/templates.pot.
    Add "pristine" comment and header file in debian/po, add debian/rules
    targets to handle PO and POT file updates using our local script, and
    document the recommended procedure in debian/README.  Hopefully the real
    debconf-updatepo will be fixed soon.

  * Update debian/po/*.{po,pot} files to update comment header and get effects
    of a debconf-updatepo bugfix which misidentified template types in some
    situations.

  * Update Czech debconf template translations (thanks, Miroslav Kure).
    (Closes: #260868)

  * Update German debconf template translations (thanks, Florian Ernst and
    Alwin Meschede).  (Closes: #261239)

  * Update Dutch debconf template translations (thanks, Bart Cornelis).
    (Closes: #261337)

  * Update Brazilian Portuguese debconf template translations (thanks, André
    Luís Lopes). (Closes: #261389)

  * Apply patch from Thomas Dickey to fix Imake's CppRawFileTarget() so that
    it no longer tempts cpp into corrupting manpages.  Thanks, Thomas!
    (Closes: #259996)

  * Update hurd-i386 support.
    + Update gnu.cf to declare platform support for groff, libpng, and PAM
      libraries in parity with Linux; also specify correct path to cpp
      executable.
    + Tell XTerm's Imakefile that openpty() needs -lutil on GNUArchitecture
      (patch #803).
    + Disable special hostname registration code for __GNU__ in xdm (patch
      #804).
    + Update MANIFEST.hurd-i386.in in light of updates to build configuration.
    + Remove MANFIEST.hurd-i386.all; it is no longer needed.
    + Update mir-false-negatives and mir-false-positives to reflect changes in
      MANIFEST files.
    (Thanks, Michael Banck!)

  * Grab from XFree86 CVS (2003-05-29) a fix for a SEGV in libX11's lcPrTxt()
    function, which caused application crashes when, e.g., pasting text into
    XTerm.  Also remove patch #051 in favor of identical fix committed to
    XFree86 CVS on 2003-04-03.  Thanks to Thomas Dickey for tracking this
    bug, and fix, down.  (Closes: #250655)

  * Expand, correct, and tidy up the setxkbmap(1x), xkbcomp(1x), xkbevd(1x),
    and xkbprint(1x) manpages; also correct typos in xkbcomp's README.config
    file (patch #051).  (Closes: #255371)

  * Perform major stylistic fixes to the XF86Config-4(5x) manpage, greatly
    expand its cross-reference section to mention all shipped section 4x
    manpages (e.g. radeon(4x)), and fix some typos (patch #099e).
    (Closes: #257440)

  * Update manpage cross-references to refer to XF86Config-4(5x) instead of
    XF86Config(5x), and add brief explanatory note to top of XF86Config-4(5x)
    (patch #911).

  * Update FAQ to split off some of existing entry "Why are some fonts (or
    graphical rulers) sized incorrectly?" into new question "How do I set the
    DPI (dots-per-inch) value used by the X server?".

  * Grab fix from XFree86 CVS (2003-05-07) to bounds problems in *scanf(),
    snprintf() and strncpy() calls in lbxproxy, makepsres, and xedit.

  * Tighten regex in patch-audit rule so messages like "patching file
    xc/doc/man/Xt/XtOffset.man" are not false positives.

  * Grab from XFree86 CVS (2003-05-29) a boatload of typographical fixes to
    manual pages.  Resync and make further corrections to manpages in patches
    #026 (appres, ico) and #051 (setxkbmap, xkbcomp, xkbevd, xkbprint).
    Resync patches #032, #099e, #911.

  * Grab from XFree86 CVS (2003-07-16) more updates to the nv driver.  Fixes
    several bugs as well as adding support for several chipsets, including
    GeForce FX 5600SE, GeForce FX Go5600, GeForce FX Go5650, Quadro FX Go700,
    GeForce FX Go5100, GeForce FX 5900 Ultra, GeForce FX 5900, Quadro FX 3000,
    and the "mystery" TNT2 card with a PCI model ID of 0x002a.  Extend
    reversion of REGION_EQUAL macro implementation to nv driver in patch #030.
    Resync patch #911.

  * Grab from XFree86 CVS (2003-07-07) more updates to the trident driver,
    placing them in their own patch file.  Fixes several bugs and adds support
    for TV chipsets VT1621 and CH7005.  Drop trident driver patches in
    #000_stolen_from_HEAD in favor of new patch file.  Extend reversion of
    REGION_EQUAL macro implementation to trident driver in patch #030.  Resync
    patch #911.

  * Change Catalan debconf template translations to use the characters "LATIN
    SMALL LETTER L" and "MIDDLE DOT" instead of "LATIN SMALL LETTER L WITH
    MIDDLE DOT" so that the file can be successfully transcoded to ISO
    8859-15, shutting up hateful noise from one of the programs called by
    dh_installdebconf (thanks, Guillem Jover).

  * Grab from XFree86 CVS (2003-10-02) several updates to the mouse input
    driver, fixing bugs and adding support for the Kensington
    "ValuMouseScroll" protocol.  Grab an additional fix from XFree86 CVS
    (2003-12-08) for mouse wheel misbehavior on PowerPC.  Resync patches #040
    and #097.  Add "ValuMouseScroll" to the list of supported serial mouse
    protocols in xserver-xfree86's configuration script.

  * Grab from XFree86 CVS (2003-10-02) several bugfixes to xedit, including a
    fix for a SEGV in Lisp_New().  Move existing xedit patches from XFree86
    CVS to their own patch file.  (Closes: #257835)

  * Major housecleaning of X11's locale support (patch #011a).
    + Add all locales supported by version 2.3.2 of the GNU C Library except
      zh_CN.GB18030, sq_AL.ISO-8859-1, and tg_TJ.KOI8-T.  X has no support for
      the GB18030 and KOI8-T character sets, and glibc appears to disagree
      with most of the world about which character set Albanians use (see, for
      example, iso_8859-2(7)).  This baka gaijin has learned his lesson about
      trying to report l10n bugs in glibc, so I'll let someone else do the
      jousting.  :-P
    + Synchronize compose.dir with locale.dir wherever possible (i.e.,
      wherever compose tables exist) so that as many supported locales as
      possible get a Compose map.  Comment out references to compose tables
      that don't actually exist.
    + Disable support for iu_CA.NUNACOM-8.  X11 doesn't have any support for
      the NUNACOM-8 character set.  (iu_CA.UTF-8 is still supported.)
    + Disable support for locales that are neither supported by the GNU C
      Library, nor use standard ISO 639 language or 3166 territory codes.
      This includes Esperanto (eo_EO, eo_XX), and what I presume is
      Pennsylvania "Dutch" (pd_DE, pd_US).
    + Turn off intrusion of Nynorsk into Nyanja's ISO 639 space.  (Nynorsk is
      nn, not ny.)
    + Retain support for a3 as an alias for az (Azerbaijani), though I'm
      dubious about it.
    + Turn off support for the bogus (and ancient) FreeBSD-ism of using
      "lt_LN.ISO8859-1" as a "generic" Latin-1 locale.
    + Remove bogus "ee" locales for Estonian (et).
    + Remove ISO 8859-15 support for languages that don't use that character
      set according to glibc.
    + Alias "fi" and "fi_FI" to use ISO 8859-1, not ISO 8859-15, for
      compatiblity with glibc (thanks, Jukka Suomela).  (Closes: #266834)
    + Remove @euro modifier support from locales that don't use that currency
      (i.e., countries not in the Euro zone).
    + Ensure we support the @euro modifier for all locales that use it
      (according to glibc), even if the codeset is explicitly specified.  See
      Debian #208137.
    + Rewrite some comments to be in grammatical English.
    + Add locale-munger script, which I used to gather the information that
      drove these changes.
    + Resync patch #096.
    + Fix a few Debian bugs in the process:
      - en_GB.ISO-8859-15 is now supported.  (Closes: #122039)
      - et_EE.ISO-8859-15 is now supported.  (Closes: #258223)
      - sv_SE.ISO-8859-15 is now supported.  (Closes: #243237)

  * Apply patch to savage driver to turn off RandR extension when driver's
    "Rotate" option is used, preventing screen garbling (patch #099f; thanks,
    Jorg Schuler).  Update manpage to document this fact.  Resync patch #911.
    (Closes: #258986)

  * Fix wrong comment character in Debian customizations to XTerm application
    defaults file.  (Closes: #252274)

  * Grab from freedesktop.org CVS a fix for SEGVs in the chips driver when the
    current mode wasn't valid.  Thanks to Ryan Underwood for identifying and
    testing this fix.  Resync patches #044 and #045.  (Closes: #260753)

  * Make keypad delete key <KPDL> generate KP_Separator, not KP_Decimal, in
    Polish XKB layouts (thanks, Emil Novak).  (Closes: #261163)

  * Grab latest version of Thomas Winischhofer's SiS driver for the XFree86 X
    server from his website as of 2004-08-20.  Resync patch #911.
    + Circumvent unresolved symbol complaints by explicitly loading the "glx"
      module when DRI is used.  (Closes: #254601)

  * Fix up the Mesa DRI tdfx module so that it really does use only libglide3,
    not libglide3-dev (#099h).  Open the actual libglide shared library we
    need, not the symbolic link used at compile time, which may not be
    installed on non-development systems.  When opening chipset-specific glide
    libraries, use the filenames actually in use by the current version of the
    libglide3 package.  Thanks to Guillem Jover for this patch.
    (Closes: #260099)

  * Update "Why does the X server take up so much memory?" FAQ entry with
    information from Albert Cahalan about how I/O is charged to processes in
    the procps utilities (he says it actually isn't).  Also add description of
    xrestop package and utility.

  * Overhaul dexconf.
    + Drop support for XFree86 3.x X server format.
    + Drop support for -f, --format and -s, --stdout options.
    + Use exec and open file descriptor 4 for output, instead of repetitiously
      redirecting standard output to a file explicitly all the time.  We can't
      use fd 3 since debconf uses it.
    + Use here documents a little more, and printf a little less.
    + Put blank lines between XF86Config-4 sections so that the file is easier
      to read.
    + Overwrite the destination file instead of "mv"ing or "cp"ing it; this
      way it is never unlinked.  (The maintainer scripts implement enough
      paranoia already.)
    + Tidy up shell style.
    + Modernize dexconf(1) manual page to undocument obsolete options, replace
      the "FUTURE DIRECTIONS" section with "HISTORY", correct and update
      "DIAGNOSTICS" section, provide more cross-references, and put a newline
      at the end of every sentence in the document source (per the GNU Roff
      texinfo documentation).
    + Use -o instead of -s and redirection when invoking dexconf from
      xserver-xfree86's postinst script, since the -s option is no longer
      supported.
    + WARNING: xserver-xfree86{,-dbg} 4.3.0.dfsg.1-[56] are not compatible with
      this version of xserver-common, or planned future versions, due to the
      above-mentioned removal of dexconf's -s option.  At the same time,
      saying xserver-common 4.3.0.dfsg.1-7 conflicts: xserver-xfree86
      (<< 4.3.0.dfsg.1-7) and xserver-xfree86-dbg (<< 4.3.0.dfsg.1-7) is
      excessive because 4.3.0.dfsg.1-4 and earlier will work.  I have heard
      that stating such a conflict can make things difficult for apt's
      problem resolver (or even impossible, if in conjunction with enough
      other versioned dependency or conflicts), so the risk seems greater than
      the reward.  It's too bad we don't have a way to conflict on ranges that
      aren't bounded on either zero or infinity.  Given that 4.3.0.dfsg.1-[56]
      have never appeared even in sarge, I'm making this judgement call.  Any
      bugs about this will be closed with this changelog entry included,
      unless you can rebut my premises; i.e., "I am Jason Gunthorpe and I
      declare that apt can eat a stack of versioned conflicts like this for
      breakfast and still see the One True Upgrade Path!", or "You silly
      person, of *course* dpkg and apt accept 'Conflicts: (4.3.0.dfsg.1-4 <<)
      xserver-xfree86 (<< 4.3.0.dfsg.1-7)'!"

  Changes by Fabio M. Di Nitto and Branden Robinson:

  * Support building only the parts of the source tree needed by
    architecture-specific packages.
    + Modify Debian Imake configuration to support building with fonts and
      specs docs turned off (patch #003).  Resynchronize GNU/Hurd,
      GNU/FreeBSD, and GNU/NetBSD Imake configurations with Debian
      configuration (patches #800, #820, #842, #900).  Resync diffs in patches
      #004, #099c, #600.
    + Modify Imakefiles to build and install the font utilities even if the
      fonts themselves are not being shipped (patch #095).
    + Make the "build" target a dummy target, replacing it with
      "build-arch-only" and "build-all" targets.  Target-specific variable
      values are used to invoke a "real-build" target, turning off the
      building of fonts and "specs docs" as needed.
    + Add comments to rules file, update $(stampdir_targets) and .PHONY
      target.
    + Split MANIFEST files into arch-specific and arch-independent parts.
      Update the README to explain how these files work now and how to update
      them.
    + Ship the XTerm control sequences document only in the xspecs package.
    Consequences:
    + Reduce the disk space required to build the package by ~520MB when the
      "binary-arch" target is used (e.g., by "dpkg-buildpackage -B".)
    + Reduce the build time by 20 to 30 percent when the "binary-arch" target
      is used (ccache users might see even more improvement).
    + Make the buildd admins hate us less.

  * Rewrite migration of app-defaults (in libxt6) and xkb (in libx11-6)
    directories.
    + Enhance the shell libary with new functions:
      - Implement check_symlink() and change check_symlinks_and_warn() and
        check_symlinks_and_bomb() to use it.
      - Implement make_symlink_sane().  Ensure that the specified symbolic
        link symlink exists, and points to the specified target.  If symlink
        does not exist, create it and point it at target.  If symlink exists
        but is not a symbolic link, back it up.  If symlink exists, is a
        symbolic link, but points to the wrong location, fix it.  If symlink
        exists, is a symbolic link, and already points to target, do nothing.
        This function wouldn't be needed if ln had an -I, --idempotent option.
      - Implement migrate_dir_to_symlink().  Per Debian Policy section 6.5.4,
        "A directory will never be replaced by a symbolic link to a directory
        or vice versa; instead, the existing state (symlink or not) will be
        left alone and dpkg will follow the symlink if there is one."  We have
        to do it ourselves.  This function moves the contents of old_location,
        a directory, into new_location, a directory, then makes old_location a
        symbolic link to new_location.  old_location need not exist, but if it
        does, it must be a directory (or a symlink to a directory).  If it is
        not, it is backed up.  If new_location exists already and is not a
        directory, it is backed up.
    + Add config scripts for libx11-6 and libxt6, which detect if
      /usr/X11R6/lib/X11/{app-defaults,xkb} is a directory but not a symlink,
      and use debconf to prompt the user (at low priority) whether the
      directories should be moved.  If the user says no, abort the script.  If
      the user says yes (default), start the migration with
      migrate_dir_to_symlink().
    + Update preinst scripts to use debconf as the configs script do; this is
      unusual but necessary because if we're going to do the migration we need
      to start before any other packages (which may use the old directories)
      are unpacked.
    + In the preinst scripts, call check_symlink(), and if that fails, call
      make_symlink_sane().  Stop calling check_symlinks_and_warn().
    + Update postinst scripts to indicate that migration is completed.
    + Update postrm scripts to run migration in reverse if it had been started
      and the package installation or upgrade is aborted.
    + We keep shipping /etc/X11/{app-defaults,xkb} symlinks as part of the
      package payloads, because manipulating them in the preinst isn't enough
      -- dpkg will remove "disappearing" files from the system *after* the
      preinst runs but before the postinst does, leaving a window for packages
      using the legacy paths to unpack to the old location with no symlink to
      redirect them, which is precisely what we don't want (see section 6.5 of
      the Debian Policy Manual).

  * Make xserver-xfree86 config script's validate_monitor_frequency_db_input()
    function more strict, so it doesn't regard open-ended ranges like "40-" as
    valid.

  * Fix some lingering references to an unreleased version of xserver-common
    in the debian/control file; bump the versioning up to the subsequent
    package release.

  Changes by Robert Millan:

  * Get glxinfo to link properly with g++ (instead of adding -lstdc++).

  Changes by Fabio M. Di Nitto:

  * Fix default drivers lists in xserver-xfree86.config.in. The via driver is
    only available for hurd-i386 and i386.

  * Fix bug in xserver-xfree86 configuration script where failure of
    autodetection would cause the script to think it had detected one X server
    or XFree86 video driver instead ($(echo "" | wc -l) is "1", not "0").

  * Add French and Danish translation of "Generic Monitor" to
    xserver-xfree86.config.in.  Thanks to Christian Perrier and Anders Dybdal.

  * Add Danish translation of "Generic Video Card" to
    xserver-xfree86.config.in.  Thanks to Anders Dybdal.

  Changes by Denis Barbier:

  * Grab from XFree86 CVS (no later than 2003-12-18) several fixes to XKB:
    + Fix for XKB map 'altwin' to avoid one keysym to more than one modifier
      mapping (Ivan Pascal).  This really fixes the Alt-Tab issue.
      (Closes: #256706)
    + Fix xmodmap's output of the modifiers map to not display BadKey when
      the first column keysym is empty (Ivan Pascal).
    + The "modifier_add none" construct was introduced by Ivan Pascal some
      times ago, but it was not documented in the changelog and a piece was
      missing to enable this feature.  No keymaps currently use this feature,
      but users may find it useful with broken keymaps.

 -- Branden Robinson <branden@debian.org>  Wed,  1 Sep 2004 04:42:22 -0500

  Older changelog entries can be found in changelog.Debian.old.
  Releases previous to this fixed the following security issues (details in
  changelog.Debian.old): CAN-2004-0419, CAN-2004-0083, CAN-2004-0084,
  CAN-2004-0106, CAN-2003-0690, CAN-2003-0730, CAN-2003-0690, CAN-2003-0063,
  CAN-2003-0071, CAN-2004-0093, CAN-2004-0094, CAN-2004-0093, CAN-2004-0094.

xfree86 (4.3.0.dfsg.1-6) unstable; urgency=low

  Changes by Branden Robinson:

  * Apply patch by David S. Miller via Ben Collins to add RENDER and X
    Acceleration Architecture (XAA) support to the Sun FFB driver, and use FB
    framebuffer layer instead of MFB and CFB.  (Closes: #245246)

  * Convert Debian X FAQ from plain text to XHTML.  Thanks to Andreas Metzler
    for doing most of the hard work of conversion.  Make several minor updates
    to FAQ text.  Use lynx to convert FAQ to plain text format for shipping in
    package.  Ship both plain text and XHTML form of FAQ in xfree86-common.
    Add build-dependency on lynx.  Update xfree-common's doc-base information
    to include (X)HTML form of FAQ document.

  * Update XTerm FAQ to latest version from Thomas Dickey's website.

  * Revert to using lynx instead of html2text for converting XTerm FAQ from
    HTML to plain text.  Drop build-dependency on html2text.  Ship
    (compressed) plain text version of XTerm FAQ as
    /usr/share/doc/xterm/xterm.faq.gz, not
    /usr/share/doc/xterm/xterm.faq.text.gz.  Update xterm's doc-base
    information accordingly.

  * Update Danish debconf template translations (thanks, Claus Hindsgaul).
    (Closes: #255184)

  * Enhance xlibs package's bug script to report compiled XKB data for X
    server, if possible.

  * Add "How to Use this Document" and "Acknowledgements" sections to FAQ.

  * Update FAQ entries:
      + What is the X Window System?
      + What is XFree86?

  * Add FAQ entries:
      + What is the story with XFree86 being forked?
      + What is the story with XFree86's license?
      + What is freedesktop.org?
      + What is X.Org?  (Thanks to Steve Swales for his explanations of the
        X.Org organization's history and expected future.)

  * Update Japanese debconf template translations (thanks, Kenshi Muto).
    (Closes: #256099)

  * Grab OS/2 updates from XFree86 CVS as of 2003-03-24 to ease pending
    merges.  Resync patch #802.

  * Grab from XFree86 CVS (2003-06-04) client- and server-side implementation
    of MiscExtPassMessage() addition to XF86Misc extension (primarily to ease
    pending merges).  Resync patch #802.  Add NEWS file to xlibs-static-pic
    package to note API change.

  * Grab from XFree86 CVS (2003-06-11) support for the keypad equal key on
    Macintosh keyboards.  Resync patch #066.

  * Grab from XFree86 CVS (2003-08-22) a fix for the problem some window
    managers have seeing Alt key release events (commonly known as the
    "Alt-Tab problem").  (Closes: #254973)

  * Fix miscellaneous Macintosh XKB data problems:
    + The keypad equal key (<KPEQ>) should map to the "KP_Equal" keysym, not
      "equal".
    + Fix typo that kept the right Alt key from working.

  * Fix xdm and xfs's init and postinst scripts in several respects.
    + Don't remove the "daemon not stopped" flag file in the postinst; we want
      to leave it there so it is seen by the next invocation of the init
      script (which is already written to remove it when needed).
    + Correct init scripts' notion of the name of the "daemon not stopped"
      flag file (completes change begun in 4.3.0.dfsg.1-1).
    + Use --name instead of --exec argument to start-stop-daemon when stopping
      a daemon that was not stopped across an upgrade (see #256790).
    + Fix misleading wording (and misleading variable name) in xdm postinst
      when refusing to start the daemon.

  Changes by Fabio Massimo Di Nitto:

  * Update French debconf template translations (thanks, Christian Perrier).
    (Closes: #255464)

  * Update Brazilian Portuguese debconf template translations (thanks, André
    Luís Lopes). (Closes: #255963)

 -- Fabio M. Di Nitto <fabbione@fabbione.net>  Wed, 07 Jul 2004 16:14:19 +0200

xfree86 (4.3.0.dfsg.1-5) unstable; urgency=low

  Changes by Branden Robinson:

  * Re-run debconf-updatepo to get templates.pot and po files in sync with
    debconf template changes in 4.3.0.dfsg.1-3.

  * Update Greek debconf template translations (thanks, Konstantinos
    Margaritis).  (Closes: #251509)

  * Grab updates to XKB data from XFree86 CVS, mostly from 2003-05, with a
    couple of later updates (none later than 2003-12-18).  Remove supserseded
    portion of patch #013.  Adjust offsets in patch #084.  Update MANIFEST
    files and ship new chicony, ibm/thinkpad, and omnibook XKB geometry files.
    + Small fixes in keyboard maps:
      - add an explicit type declaration in level3(ralt_switch)
          (Bugzilla #225, Siamus S Ciardhuain);
      - fix wrong group number in Russian keyboard map (Ivan Pascal).
    + Add missing letters to Ukrainian phonetic keyboard map (Andriy Rysin).
    + Add workaround for problems that arise when in multi-layout map
      different modifier keysyms share the same key (Ivan Pascal).
    + Small fix for Italian keyboard map (Sebastiano Vigna).
    + Update Tamil keyboard map (Thuraiappah Vaseeharan).
    + Fixes and updates for XKB keyboard maps:
      - add asciitilde to Swedish 'nodeadkeys' map (Bugzilla #291).
      - add map for true Romanian keyboard (Bugzilla #300, Manfred Pohler).
      - add EuroSign to "us_intl" keyboard map (Bugzilla #309, Paul Bolle).
      - fix some keys in Armenian 'phonetic' layout (Bugzilla #313, Ani).
      - add some geometry files (Alexander Pohoyda).
      - some cosmetic changes.
    + Fixes for XKB keyboard maps:
      - fix Meta, Super, Hyper keysyms interpretation
    + Fixes and updates for XKB keyboard maps:
      - Add to 'us' keymap backslash key that can be rewritten in other
        layouts (Bugzilla #976, B?rre Gaup).  (Closes: #237583)

  * Grab latest version of XTerm (#190) from Thomas Dickey's website.  Check
    for license contamination from XFree86 CVS, and document findings in patch
    annotation (short story: there is none).  Resync patch #907.
    + Fix problem responding to session management events, e.g., which would
      make logging out very slow (patch by Eddy De Greef, Debian #233883).
      (Closes: #233883)
    + Do not call xim_real_init() if openIm resource is false (Debian #249025).
      (Closes: #249025)

  * Update Czech debconf template translations (thanks, Miroslav Kure).
    (Closes: #251681)

  * Attempt to mitigate serious DRI performance problems on Rage 128 chips by
    retrying CCE idle commands until the timeout is reached (thanks, Daniel
    Jacobowitz!).  (Closes: #223089)

  * Grab missing part of updated XVideo (Xv) server-side implementation from
    XFree86 CVS as of 2003-04-30.  Update module loader to export the new
    symbols xf86XVCopyYUV12ToPacked and xf86XVCopyPacked to drivers.  Thanks
    to Michel Dänzer for diagnosing the problem.  (Closes: #251307)

  * Add -s, --stdout option to dexconf, and document this new option in its
    manpage.  This option instructs dexconf to write the generated
    configuration file to standard output.

  * Modify xvfb-run to create a temporary directory (respecting $TMPDIR) in
    addition to a temporary file for the X authority file; this way we do not
    have to worry about whether xauth(1x) manages the authority file in a
    secure fashion.  Also, if the user specifies an authority file to use, do
    not create it or remove it.  Document these changes in behavior in
    xvfb-run's manual page.

  * Modify Xsession to always append to the error file, closing a temporary
    file race condition window if it has to fall back to using tempfile(1) to
    create an X session error file.  Because it always appends now, log the
    fact that the session has started, the username, and the date to the X
    session error file once it is successfully opened.  Document this change
    in behavior in Xsession(5).

  * Update Xsession(5) manpage to document the file specifications of the X
    session "scriptlets" that are shipped by default.  Make other cosmetic and
    stylistic improvements.

  * Reduce susceptibility of tempfile(1)-using maintainer scripts to temporary
    file race conditions by only appending to temporary files created by
    tempfile, instead of recreating them with the shell redirection operator.
    Make xserver-xfree86 postinst script use new --stdout option of dexconf,
    and increase versioned dependency of xserver-xfree86 and
    xserver-xfree86-dbg on xserver-common accordingly.  (Thanks to Andrew
    Suffield for pointing out this problem.)

  * Fix XFree86 X server's PCI bus support code to be able to cope with both
    Linux 2.4 and Linux 2.6 styles of organization for /proc/bus/pci, checking
    for the 2.6 style first (thanks, Daniel Seyffer and Ciaran McCreesh).
    (Closes: #225526)

  * Modify xserver-xfree86's config script to be more paranoid and mistrustful
    of Discover.  Store standard error from checking for the installed version
    of Discover instead of discarding it, and if this fails, report Discover's
    error output to the user and trap the failure instead of permitting it to
    break us.  (Thanks to Kevin B. McCarty for identifying the cause of these
    mysterious failures; see #251690 and #252348.  Thanks also to the libcurl2
    maintainer for the reminder that "The issue isn't whether you're
    paranoid...The issue is whether you're paranoid *enough*." [Max Peltier])
    (Closes: #149586)

  * Expand patch #104 to prevent 64-bit addressing modes from being used when
    they should not be on UltraSPARC Linux.

  * Enhance xserver-xfree86's config script to be able to handle the new
    output format of lspci, which reports the PCI domain information as well.
    Retain support for the older lspci format, and if the output format isn't
    recognized at all, issue a warning and do not set a default answer for the
    BusID debconf question.  (Closes: #251568)

  * Update xserver-xfree86's config script and debconf templates file to
    support "1280x1024 @ 60Hz" in the list of modes the user can select to
    configure the monitor characteristics using the "medium method".

  * Fix and enhance Bus ID validation code in xserver-xfree86's config script
    to recognize all bus types and corresponding ID formats supported by
    XFree86 (ISA, PCI, SBUS).  Update template descriptions accordingly.
    (Closes: #251808)

  * Add "bug" script for xlibmesa-dri package to attempt to automatically
    gather useful information when people report problems with DRI/3D
    acceleration.  Ship this script in the xlibmesa-dri package where
    reportbug will find it.  Thanks to Michel Dänzer for his suggestions.

  * Fix bug in sessreg such that it assumes hostnames in utmp entries are
    unique in the last four characters.  Rectify this problem by hashing the
    entire hostname field from the utmp entry, so that we can tell unlike
    hostnames apart with much greater reliability.  There is still a
    possiblility of one hash collision in 2^32.  Apply patch by Maximiliano
    Curia and Damián Viano, using a public-domain hash algorithm by Bob
    Jenkins.  Thanks also to Margarita Manterola for helping to steer this
    ship into port.  (Closes: #229785)

  * Fix problem with numbers and symbols being un-typable in the Lithuanian
    keymap (patch by Mantas Kriaučiūnas via Vytautas Lukenskas).
    (Closes: #247387)

  * Fix a few problems with the U.K. Macintosh keyboard layout:
    + Map <TLDE> key to "section, plusminus".
    + Map <LSGT> key to "quoteleft, asciitilde".
    + Map AltGr+<AE02> to "EuroSign".
    + Include group(switch) symbols so that the already-defined mapping
      of AltGr+<AE03) to "numbersign" can be used.
    (Closes: #201737)

  * Implement XkbOption "compose:caps" (make the Caps Lock key a compose key,
    a.k.a. Multi_key), courtesy of Andrew Suffield.  (Closes: #251310)

  * Update Catalan debconf template translations (thanks, Ivan Vilata i
    Balaguer).  (Closes: #253484)

 -- Fabio M. Di Nitto <fabbione@fabbione.net>  Wed, 16 Jun 2004 07:29:04 +0200

xfree86 (4.3.0.dfsg.1-4) unstable; urgency=medium

  * The "thanks for the 'testing'" release.

  Changes by Branden Robinson:

  * Fix hang in xserver-xfree86 config script by telling grep what file to
    search.

 -- Branden Robinson <branden@debian.org>  Fri, 28 May 2004 21:49:53 -0500

xfree86 (4.3.0.dfsg.1-3) unstable; urgency=low

  Changes by Branden Robinson:

  * Fix breakage of NumLock under XKB, caused by crack-addled patch that
    warped the XKB types/basic file 7 years backwards in time.
    (Closes: #251119)

  * Rework xserver-xfree86/config/device/driver debconf logic.
    + Attempt to populate driver choices by scanning filesystem first.
    + observe() if we do not find any.
    + Set default driver on an architecture-specific basis.  Use vga for
      alpha; vesa for amd64, hurd-i386, and i386; and fbdev for everyone else,
      except mips and mipsel boxen that report themselves as "SGI Ind*"
      machines via /proc/cpuinfo, for which we default to newport.
      (Closes: #226193, #249614)

  * Update xserver-xfree86/config/device/bus_id logic.
    + Add comments describing why we don't default to a blank answer all the
      time.
    + Use "1" as the default answer on systems that identify themselves as
      "SGI Indigo2" machines via /proc/cpuinfo.
    + Update template description to tell SGI Indigo2 XL users to specify "1"
      for the BusID.

  * Move XDeviceTimeCoord(3x) manpage from libx11-dev to libxi-dev, where it
    belongs.  Make libxi-dev conflict/replace libx11-dev (<< 4.3.0.dfsg.1-3)
    so that upgrades proceed smoothly.  Thanks to Stephen Kitt for identifying
    this problem.  (Closes: #233839)

 -- Fabio M. Di Nitto <fabbione@fabbione.net>  Fri, 28 May 2004 19:41:04 +0200

xfree86 (4.3.0.dfsg.1-2) unstable; urgency=low

  Changes by Branden Robinson:

  * Fix 30xfree86-common_xresources Xsession script to check for existence of
    xrdb command before attempting to execute it, and warn if it is not found
    (thanks, Ryan Murray).  (Closes: #242485)

  * Fix shell scriptlets in Xsession.d to use shell's && and || operators
    instead of test(1)'s -a and -o operators, since the former is
    POSIX-compliant and the latter is not.

  * Add support for the AMD64 architecture (thanks, Andreas Jochens!).
    (Closes: #240889)

  * Grab updated list of PCI IDs from XFree86 CVS as of 2003-10-30.  Remove
    superseded parts of patches #030a, #030b, #099.

  * Grab updated XFree86 X server I2C code from XFree86 CVS as of 2003-08-29.
    Implements and exposes xf86I2CGetScreenBuses() function.

  * Grab updated XVideo (Xv) server-side implementation from XFree86 CVS as of
    2003-04-30.
    + Initialise v4l's XVideo adaptors last (Marc La France).
    + Reduce cut&paste effects by adding more helpers to Xv (derived from
      #5645, Björn Augustsson, Marc La France).
    + XvExtension driver cleanups (Marc La France).
    + Fix precision problems in xf86XVClipVideoHelper (Marc La France).

  * Backport XFree86 X server ATI driver (including Rage 128 and Radeon
    sub-drivers) from XFree86 CVS as of 2004-02-11.  Drop superseded patches
    #030[a-h], #048, #049, #085, and #099.  Add patch #030 which fixes driver
    to work with not-backported overhaul of X server's region macros.  Resync
    patches #022, #024, #025, #027, #069, #079, #450, #451, and #600.
    + adds support for Radeon IGP320; Radeon IGP330/340/350; Radeon 7000 IGP;
      Radeon 9100; Radeon 9500; Radeon 9000 IGP; Radeon 9200; Radeon Mobility
      M9+; Radeon 9600; Radeon 9800; Radeon 9800XT
    + add display bandwidth calculation routine to Radeon driver to fix
      flickering/tearing display problem (Closes: #218169)
    + fixes Radeon register initialization for RGB offset to fix the
      "milky-screen" problem (Closes: #234025)
    + radeon driver now supports "ForceMinDotClockOption" (Closes: #240581)

  * Grab from XFree86 CVS (2003-11-23) a fix to a problem resolving hostnames
    of indirect entries in xdm's Xaccess file.  Resync patch #002.
    (Closes: #245044)

  * Update (from XFree86 CVS, 2003-12-18) the XFree86 X server's PCI bus
    handling code and device recognition databases from CVS.  Resync patch
    #452.  Delete superseded patch #453.
    + Simplify internal interfaces in the PCI code and remove the Xserver's
      interference with normal PCMCIA operation (Marc La France).
    + Fixed typo in getPciBiosTypes() (Bugzilla #382,  Jakub Bogusz).
    + Change DEVID macro to work around glitch in SCO's C compiler (Marc La
      France).
    + Fixed support for 64bit PCI bus on 32bit systems (Egbert Eich).
    + Be a little more precise about differentiating between active and
      inactive non-video PCI resources (Marc La France).
    + Fix bug in detection of multi-function PCI devices (Marc La France, in
      partial resolution of Bugzilla #574).
    + Rip out incorrect limits on the number of PCI buses an ix86 chipset can
      handle and implement an improved solution for avoiding "phantom" PCI
      buses (Marc La France, Bugzilla #604).

  * Add dependencies on libxext-dev, libxi-dev, and xlibs-static-dev to
    libx11-dev, and explain why in the latter's extended description.  Thanks
    to Filip Van Raemdonck for noticing this problem.  (Closes: #247525)

  * Backport XFre86 X server VIA driver from XFree86 CVS HEAD as of
    2004-02-12.  This driver adds support for the VIA CLE266 and related
    northbridge integrated chipsets, typically found in VIA EPIA-M Mini-ITX
    systems.  Add patch #048 (not from XFree86 CVS) to enable the driver in
    the build.  (Thanks, Adam Conrad!)

  * Add package infrastructure in debian/ directory for the new VIA
    driver.  (Thanks, Adam Conrad!)
    + Add "via" to DRIVER_LIST for hurd-i386 and i386 in
      xserver-xfree86.config.in.
    + Add /usr/X11R6/lib/{modules/drivers/via_drv.o,man/man4/via.4x}
      to xserver-xfree86.install.{hurd-,}i386 and MANIFEST.{hurd-,}i386.

  * Grab latest version of Thomas Winischhofer's SiS driver for the XFree86 X
    server from his website as of 2004-05-10.
    + display should no longer "melt" on SiS 630ST (Closes: #245249)
    + SiS 330 (Xabre) support improved and should no longer hang system
      (Closes: #246087)

  * Stop shipping the "Xterm Control Sequences" document in the xspecs
    package; ship it only in xterm.  Add HTML version of this document to the
    xterm package.  Update xterm's extended description to mention the
    availability of this document.

  * Grab latest version of XTerm from Thomas Dickey's website.  Revert
    inconsequential changes merged from XFree86 CVS after 2004-02-13 that
    could conceivably be under the XFree86 1.1 license's terms.
    + When deriving bold fontname from normal fontname, use the normal font's
      average width to avoid for example selecting 7x13bold from an 8x13
      normal font.  (Closes: #107769)
    + Modify xtermAddInput() to use the complete set of default keyboard
      translations so that one can use shifted pageup, wheel mouse, etc.,
      while the mouse pointer is over the scrollbar.  (Closes: #178812)
    + Improve description of utf8 resource in manpage.  (Closes: #179407)
    + Correct comment in terminfo file regarding modifier used for kDC.
      (Closes: #189764)
    + Correct typo in example for character classes in xterm manpage.
      (Closes: #198910)
    + Add translation to ASCII of commonly-used characters that groff
      translates to Unicode, when the font in use does not provide the
      corresponding glyphs.  (Closes: #219551)
    + Add a limit check to ScrnTstWrapped() (XFree86 Bugzilla #981).
      (Closes: #222530)
    + Modify uxterm script to interpret help and version options so xterm does
      not always create a window when the user requests this information.
      (Closes: #223926)
    + Modify initialization of terminal colors, e.g., mouse pointer and text
      cursor, to treat XtDefaultForeground and XtDefaultBackground values as
      the actual foreground and background colors of the terminal rather than
      white and black.  (Closes: #241717)

  * XTerm's manual page now accurately documents the default set of VT
    terminal colors used in the XTerm-color app-defaults file.  (Upstream
    adopted Debian's changes.)  (Closes: #247705)

  * Stop using an Xaw7 gradient for the backgrounds of the xterm menus; it
    produces an unappealing effect if the menus are configured to use a larger
    font than the stock configuration (also, xterm has added items to some
    menus since I last calculated the gradient size and I can't be bothered to
    do it again).

  * If the X server is capable of color and has more than 8 planes of color
    depth available, set the menu colors to gray15 on antique white, and
    customize the appearance VT widget's scrollbar.  Otherwise, do not eat up
    precious entries in the color palette.

  * Define the "xterm-debian" terminal type in the termcap and terminfo files
    as an alias for "xterm-new" instead of "xterm-xfree86", reflecting
    upstream change.

  * Update references to Debian Policy Manual to cite the correct section for
    backspace key handling.

  * Ship the new README.i18n document in /usr/share/doc/xterm.

  * Grab a couple of minor documentation-related fixes from XFree86 CVS.
    + There's no config/util/rman.man (Peter Stromberg). [Matthieu Herrb]
      From XFree86 CVS 2003-04-07.  Delete superseded patch #006.
    + One xieperf reference left over.  Noticed by ISHIKAWA Mutsumi. Thanks.
      [Matthieu Herrb]  From XFree86 CVS 2003-04-14.

  * Grab a fix to the XFree86 X server chips driver from XFree86 CVS
    2003-04-04.
    + Fixed DPMS problem on C&T 69000 due to incorrect LCD flag (Bugz: 101,
      Egbert Eich).

  * Grab updates to XKB documentation and code from XFree86 CVS.
    + Fix typo in XKB README.config file.  (Egbert Eich, 2003-04-07)
    + Fix xkbcomp crash with some combinations of layouts in a multi-layout
      keyboard map (Ivan Pascal).  (2003-04-19)

  * Grab updates to XKB data from XFree86 CVS, none later than 2003-04-30.
    Resync offsets in patches #082 and #084.  Update MANIFEST files and
    xlibs.install to recognize and ship new XKB symbols files hr_US, th_pat,
    and th_tis.
    + Add Thai (Pattachote) and Thai (TIS-820.2538) keymap support as layouts
      "th_pat" and "th_tis", respectively.  [Theppitak Karoonboonyanan, Visanu
      Euarchukiati, Supphachoke Santiwichaya, David Dawes]
    + Fix a typo that causes the 'yu' keymap to emit a lower case 'L' in both
      shift states (#A.1675, Nikola Smolenski). [David Dawes]
    + Add xkb symbols layout for BTC 5090 internet keyboard (Bugz: 57, Jack
      Angel). [Egbert Eich]
    + Add keys missed in multi-layout keyboard maps: LSGT key in [...]
      'old','phonetic' variants in Armenian map (Ivan Pascal).
    + Update Italian keyboard map (Bugzilla #109, Sebastiano Vigna). [Ivan
      Pascal]
    + Fix the <KPDL> mapping for the hr XKB map, and add an hr_US map
      (#A.1726, Vlatko Kosturjak). [David Dawes]
    + Keyboard maps cleanups, including:
      - fix incorrect aliases in a keycodes file.
      - remove unneeded type declarations.
      - remove ThirdLevel modifier key descriptions in maps and replace them
        with references to a common one in 'level3' file.
      - some cosmetic changes.
      (Ivan Pascal). [David Dawes]

  * Apply Michel Dänzer's fix for Radeon driver trying forever to initialize
    card if card's firmware is not loaded.  Add patch #006.  Resync patches
    #024, #079.  (Closes: #246901)

  * Add Turkish debconf template translations (thanks, Osman Yüksel).
    (Closes: #248144)

  * Adjust package relationships of libxrandr2 and libxrandr2-dbg so that they
    no longer conflict with and replace xlibs (<< 4.3.0); there are no file
    overlaps in these cases (though there are with libxrandr-dev), so such
    declarations are spurious.  (Closes: #248539)

  * Handle failure of "which" command when processing arguments to Xsession,
    so that the script is not aborted prematurely (thanks, Oliver Bausinger).
    (Closes: #248632)

  * Update ARM support patch #315 to add #define guards against more instances
    of x86 and legacy VGA I/O code (thanks, Wookey).  (Closes: #234808)

  * Add dependency of libxp-dev on xlibs-static-dev, since the former's
    Print.h #includes the latter's Xauth.h (thanks, Matt Kraai).
    (Closes: #249738)

  * Remove spurious sourcing of debconf confmodule from maintainer scripts
    that do not actually need it (thanks, LaMont Jones).  (Closes: #250061)

  Changes by Fabio Massimo Di Nitto:

  * Update xutils's package description to refer to bdftruncate and ucs2any
    programs by their correct names.

 -- Fabio M. Di Nitto <fabbione@fabbione.net>  Tue, 25 May 2004 22:11:46 +0200

xfree86 (4.3.0.dfsg.1-1) unstable; urgency=low

  Changes by Branden Robinson and Fabio Massimo di Nitto:

  * Re-generate .orig tar archive to eliminate files containing object code
    with no corresponding source (none of which are actually needed or used by
    XFree86 at run time).  Add these files to the prune-non-free script.
    Update patch #025 to stop patching one of the affected files and add patch
    #913 to remove all references to the affected files inside the code
    required to build.  Update MANIFEST and xserver-xfree86.install files for
    alpha, hurd-i386, i386, ia64 and sparc accordingly. Thanks to Nathanael
    Nerode for his assistance with this issue.  (Closes: #242865)

  * Fix SEGV when attempting to use GLX extension on SPARC due to failure of
    extension to initialize a Mesa context; patch by Ferris McCormick,
    backported from XFree86 CVS 2003-12-08 by Christian Guggenberger,
    and updated to build on non-SPARC architectures by Fabio M. Di Nitto.
    (Closes: #241331)

  Changes by Fabio Massimo di Nitto:

  * Quote menu items in Debian menu files (quiets Lintian warning).

  Changes by Branden Robinson:

  * The tar achive within the .orig tar archive (stored this way due to the
    requirements of dbs) has been re-packed using gzip instead of bzip2.  This
    increases the size of the .orig tar archive by 10MB (a 21% increase), but
    speeds unpacking of the stored tar achive from 2m49s to 39s on a 400MHz
    PowerPC 750 (G3) processor with 512MB of RAM.

  * Add FAQ entry about the <LSGT> key problem.  Edit news item about the
    <LSGT> problem to tidy up the wording a little and direct people to the
    FAQ for more information.

  * Make xev flush standard output after processing each event, since its
    exit(0) is unreachable code (thanks, Bill Currie).  (Closes: #238638)

  * Fix compilation of a.out object loader on uClibc (and possibly other
    non-GNU-libc systems) in XFree86 X server by including correct header file
    for ntohl() prototype (thanks, Erik Andersen).  (Closes: #216806)

  * Restore original xdm behavior of interpreting an XDMCP request port of
    zero (the default) as an instruction not to open a port at all.
    Equivalent code was apparently accidentally deleted in upstream CVS
    (thanks, Jeff King).  [SECURITY FIX] (CAN-2004-0419) (Closes: #239341)

  * Fix cosmetic formatting error in dexconf manpage.

  * Improve logging of xdm's script handling in session.c.
    + Make execution of the session program an informational log message (with
      LogInfo()), not a Debug() message.
    + Ensure that source()d scripts (Xreset, Xsetup, Xstartup) can be
      fopen()ed before invoking runAndWait() on them.  If they can, LogInfo()
      the fact.  If they cannot, LogInfo() that, too, and use _SysErrorMsg()
      to report why fopen() failed.  (Closes: #219311)
    + Make source() complain using Debug() when it is given a null pointer in
      its file argument.
    + For clarity, make source() return from only one location.

  * Clean up debian/rules's "not building" logic.
    + Rename NOT_BUILDING_XF86_SERVER to NOT_BUILDING_XFREE86_X_SERVER.
    + Use NOT_BUILDING_XFREE86_X_SERVER, not NOT_BUILDING_X_SERVER, to control
      whether build-tree/xc-xserver-xfree86-dbg is populated and built.  This
      should speed up builds on the s390 architecture.
    + Drop now-unused NOT_BUILDING_X_SERVER variable entirely.

  * Stop shipping the generated files encodings.dir, fonts.cache-1, fonts.dir,
    and fonts.scale in the xfonts-scalable package.  (Closes: #238555)

  * If defoma-app and fontconfig's defoma script are available, invoke
    "defoma-app update fontconfig" on package configuration and removal;
    otherwise, use fc-cache as before.  (Closes: #238797)

  * Stop setting the debconf-configured default amount of video RAM to 8MB for
    users of the i810 driver; in XFree86 4.3.0, the i810 driver defaults to
    8MB internally, and the i830 driver defaults to 32MB if DRI is enabled,
    and 8MB otherwise.  (Closes: #238340)

  * If using Discover 1.x to scan for hardware in the XFree86 X server
    packages' config scripts, pass the discover command the
    "--disable=serial,parallel" option to avoid long delays on some systems.
    We're certain to not find a VGA device on those buses anyway.  Also,
    discard standard error output from discover 1.x.  (Closes: #237046)

  * If using Discover 2.x to scan for hardware in the XFree86 X server
    packages' config scripts, invoke the discover command such that an
    abnormal exit on its part does not crash the script.

  * Grab fixes to the X server's DIX events processing from XFree86 CVS
    (none later than 2004-01-23).
    + Fix a potential hang in Xinerama caused by an uninitialized
      sprite.hotShape. [Mark Vojkovich]
    + Build fix for when XKB is disabled but XINPUT isn't.  Reported by Paul
      Jarc. [Marc Aurele La France]
    + Fix a crash when xkb is disabled. [Matthieu Herrb] (Closes: #238407)

  * Apply patch by Emmanuel Thomé and Ole Rohne to enable resume from suspend
    level S3 on Dell D600 and D800 laptops; when the VT is re-entered, the
    Radeon chipset's memory size is queried, and if zero is returned, the
    chipset is re-POSTed via the int10 interface.  (Closes: #234575)

  * Implement IsolateDevice and SingleCard layout options for XF86Config, and
    -isolateDevice command-line flag for XFree86 X server.  Useful for
    multi-card setups where different X servers run on each card (thanks,
    Andreas Schuldei).  (Closes: #207543)

  * Correct the package description of libx11-6-dbg to accurately identify the
    location of Xlib's loadable modules (thanks, Chung-chieh Shan).
    (Closes: #239988)

  * Fix the latin(type3) PC keyboard map to override the AB10 key definition
    inherited from the basic layout, mapping the key to "minus, underscore"
    rather than "slash, question".  This enables the al (Albanian), hr
    (Croatian), pl2 (Polish QWERTZ), si (Slovenian), and yu (Yugoslavian)
    layouts to inherit this key mapping (though al overrides it).  Thanks to
    Josip Rodin for reporting this bug and testing the fix.  (Closes: #236604)

  * Update libxmuu-dev's package description to explain why it does not ship
    header files.

  * German keyboards using the "nodeadkeys" variant should produce an
    apostrophe, not an acute accent, when <AE12> is pressed.  This change is
    also consistent with the existing xc/programs/xkbcomp/symbols/de file
    (thanks, Andreas Metzler).  (Closes: #241127)

  * Demote x-window-system-dev's priority to "extra" since it depends on
    library -dbg packages, which are themselves of extra priority (see Debian
    Policy section 2.5).

  * Add Fabio Massimo Di Nitto to list of package uploaders.

  * Fix update-fonts-scale to not attempt to manipulate temporary files that
    do not exist.  (Closes: #243000)

  * Enhance update-fonts-scale in several small ways:
    + Improve comments.
    + Update copyright notice.
    + On startup, query the terminal with stty if $COLUMNS is not set.
    + Send all diagnostic messages to standard error output in message()
      function.
    + Add observe() function for debugging diagnostics.
    + Rename error() to die() and update invocations of it accordingly.
    + Quote shell variables more religiously when expanding them.
    + Use consistent syntax style.
    + Update Vim modeline.

  * Improve update-fonts-scale(8) manual page:
    + Update copyright notice.
    + Fix minor wording issues.
    + Add "ENVIRONMENT" section documenting effects of $COLUMNS and $DEBUG.
    + Add a preface to the "DIAGNOSTICS" section.
    + Document the new "index references nonexistent font file" diagnostic.

  * Update xdm.options(5) and xfs.options(5) manual pages to instruct the user
    to use the invoke-rc.d command instead of invoking packages' init scripts
    directly.

  * Improve xfs package's maintainer scripts:
    + Always start the daemon on package install (as opposed to upgrade).
      (Closes: #241539)
    + Replace xfs "upgrade" flag file with two distinct ones, "install" and
      "daemon-not-stopped".  Create install flag file when preinst script is
      invoked with "install" argument; remove in postinst, and in postrm when
      invoked with "abort-install" or "abort-upgrade" argument.  Create
      "daemon-not-stopped" flag file in prerm script if the daemon is not
      stopped with invoke-rc.d; remove in postinst, and in postrm when invoked
      with "abort-upgrade" argument.
    + Duplicate the postinst's daemon logic in the postrm when invoked with
      the "abort-upgrade" argument; this way the daemon is restarted if it was
      stopped for upgrade, but the upgrade failed.
    + Pass package name literally to update-rc.d and invoke-rc.d; quiets
      lintian warning.
    + Call db_stop before update-rc.d; if the latter spews to stdout, it can
      confuse debconf.
    + Use shell's && and || operators instead of test(1)'s -a and -o
      operators, since the former is POSIX-compliant and the latter is not.

  * Disable RandR extension support in siliconmotion driver when the driver's
    "Rotate" option is used (thanks, Jim Paris).  (Closes: #241286)

  * Implement XkbOption "grp:sclk_toggle" (pressing Scroll Lock toggles the
    key group), courtesy of Michal Kaspar.  (Closes: #242209)

  * Provide instructions on how to read the FAQ in every README.Debian file.

  * Add dependency of libxtst-dev on libxi-dev; XTest.h #includes XInput.h for
    a structure definition, though objects that link against libXtst don't
    necessarily link against libXi (thanks, Glenn Maynard).  (Closes: #242830)

  * Update list of available video drivers on each architecture in
    xserver-xfree86's config script.

  * Migrate users of the GPM repeater (/dev/gpmdata) to the IntelliMouse
    protocol and make this the only protocol supported in debconf for that
    mouse port.  Document and justify migration in NEWS file.
    (Closes: #233933)

  * Tidy up relationships with now-vanished xlib6g and xlib6g-dev packages.
    This enables people to keep the versions of these packages that were
    harmless pseudopackages on the system.
    + Version xfree86-common's and xutils's replacement of xlib6g-dev at <<
      4.0 (xlib6g-dev shipped no files after that).
    + Version xlibs's conflict with and replacement of xlib6g and xlib6g-dev
      at << 4.0.  (Closes: #233818)
    + Version xlibs-static-dev's conflict with and replacement of xlib6g-dev
      at << 4.0.

  * Re-order diagnostic output of xserver-xfree86 bug script to be skimmable
    more quickly (in Branden's opinion, anyway).

  * Fix dexconf to not write an empty line to the end of generated
    XF86Config{,-4} files.

  * Rename shell-lib.sh's safe_debconf() function to run(); there's no reason
    to imply it's useful only for debconf commands.  Update all script
    invocations of safe_debconf() to run().

  * Source the debconf confmodule *before* setting variables local to
    maintainer scripts; the way confmodule works causes the values of any
    unexported variables already set to be lost (continuation of incomplete or
    regressed fix from 4.2.1-10).

  * Fix up xfree86-common postinst and postrm scripts in minor ways.
    + Pass package name literally to update-rc.d and invoke-rc.d; quiets
      lintian warning.
    + Use shell's && and || operators instead of test(1)'s -a and -o
      operators, since the former is POSIX-compliant and the latter is not.

  * Improve xdm package's maintainer scripts:
    + Add capability to start the daemon on package install, controlled by the
      "start-on-install" flag in /etc/X11/xdm/xdm.options (which defaults
      off).  Update xdm.options(5) manpage to document this option and explain
      why it defaults off.
    + Replace "upgrade" flag file with two distinct ones, "install" and
      "daemon-not-stopped".  Create install flag file when preinst script is
      invoked with "install" argument; remove in postinst, and in postrm when
      invoked with "abort-install" or "abort-upgrade" argument.  Create
      "daemon-not-stopped" flag file in prerm script if the daemon is not
      stopped with invoke-rc.d; remove in postinst, and in postrm when invoked
      with "abort-upgrade" argument.
    + Make the logic deciding whether or not to start the daemon more
      sophisticated.  After determining the user's intentions via the
      xdm.options file, check to see if the daemon is already running, and
      record its pid.  If it isn't, check xdm's Xservers file to see if we
      would be starting an X server on the current display.  If either of
      these is the case, refuse to start the daemon and issue a warning
      message explaining why.
    + Duplicate relevant logic from the postinst script logic in the postrm
      when invoked with the "abort-upgrade" argument; this way the daemon is
      restarted if it was stopped for upgrade, but the upgrade failed.
    + Pass package name literally to update-rc.d and invoke-rc.d; quiets
      lintian warning.
    + Call db_stop before update-rc.d; if the latter spews to stdout, it can
      confuse debconf.
    + Use shell's && and || operators instead of test(1)'s -a and -o
      operators, since the former is POSIX-compliant and the latter is not.

  * Migrate xdm's PAM configuration to the New World Order.  (Closes: #231589)
    + Use @include common-{auth,account,session,password} to load pam_unix.so
      instead of doing so directly.
    + Load pam_nologin.so as a requisite auth module.
    + Load pam_limits.so as a required session module.
    + Make xdm depend on libpam-modules and libpam-runtime (>= 0.76-13.1).

  * Fix problem with DVI displays connected to ATI Radeon 9200 cards not
    initializing properly every other time the X server is started (patch by
    Hui Yu of ATI, from XFree86 Bugzilla #673).  (Closes: #243575)

  * Fix problem with shift key misbehaving when caps lock active on PC
    keyboards using the Dvorak layout: don't define such keyboards as
    four-level (patch by Ivan Pascal, from XFree86 CVS 2003-04-19 via Denis
    Barbier).  (Closes: #242987)

  * Apply backport by David Mosberger of PCI support in XFree86 CVS (no code
    more recent than 2003-10-30) for the ZX1 IA-64 chipset.  (Closes: #238276)

  * Fix typo in sun rules file for XKB: provide separate "type6" and
    "type6_euro" model definitions, instead of defining "type6" twice (thanks,
    Denis Barbier).

  * Rewrite prune-non-free script, and move it to debian/scripts directory.

  * Fix typo in example XKB option in Danish translation of
    xserver-xfree86/config/inputdevice/keyboard/options template (thanks,
    Denis Barbier).

  * Fix _XimProtoCreateIC() to call _XimUnregisterFilter() on errors creating
    the input context.  Prevents a SEGV in the ximcp Xlib module (thanks,
    Chung-chieh Shan).  (Closes: #239991)

  * Add XKB support for Compaq Evo laptop multimedia keys (patch by Egbert
    Eich, from XFree86 CVS 2003-09-08).  (Closes: #222804)

  * Fix the altwin:meta_win and altwin:left_meta_win XKB options to not
    override current definitions of Alt keys or the Mod1 modifier map (thanks,
    Denis Barbier).  (Closes: #234081)

  * Fix AT keyboard rate I/O controls by operating on the actual console file
    descriptor, not on file descriptor zero (thanks, Keith Packard).
    Suppresses warning messages from Linux 2.6.  (Closes: #224909)

 -- Fabio M. Di Nitto <fabbione@fabbione.net>  Wed, 28 Apr 2004 18:55:17 +0200

xfree86 (4.3.0-7) unstable; urgency=medium

  * Urgency due to fix for FTBFS.  Yes -- I too am begging for it to stop.

  * Fix default library build defines to not build the (X)Render, Xft, Xft1,
    or Xcursor libraries if BuildLibraries is not "YES".  This prevents
    gratuitous library builds when, e.g., BuildServersOnly is set to YES.
    Clarify and improve related patch annotation.  Also, fix the Imake
    configuration for Debian GNU/Linux, the Hurd, and GNU/FreeBSD to not force
    BuildXft1Library to YES unconditionally.  These changes resolve a FTBFS in
    environments where libxext-dev is not installed, since the Xft1 library
    was getting gratuitously built during the debugging server build, and
    couldn't find the Xext library to link against.  As a minor bonus, this
    should speed the build up a little, since a library that isn't needed is
    no longer being built.

 -- Branden Robinson <branden@debian.org>  Wed, 17 Mar 2004 13:13:31 -0500

xfree86 (4.3.0-6) unstable; urgency=medium

  * Urgency due to fix for FTBFS on SPARC.

  * Fix build-server rule to copy a hardlinked source tree for the debugging
    server build exactly as the normal build rule does; the clever tricks
    undertaken to conserve inodes did not work properly (thanks, Daniel
    Jacobowitz).
    - debian/rules

  * Fix build-server's stamp rule to depend on patch-audit's stamp rule, not
    patch-audit itself (thanks, Daniel Jacobowitz).
    - debian/rules

  * Fix yet another incorrect usage of printf.  Aggressive line-wrapping at 80
    columns considered harmful!
    - debian/xlibs.bug

  * Flesh out elographics driver manpage, courtesy of Lee Maguire.
    (Closes: #236388)
    - debian/patches/075_elographics_improve_manpage.diff

  * Update examples and information in xdm's Xservers file to give sysadmins
    more detailed and accurate advice, and to use XFree86 4.x's "-depth"
    option in the examples instead of XFree86 3.x's "-bpp" option.  Thanks to
    Frank Murphy for pointing out how long in the tooth this information had
    become.  (Closes: #237878)
    - debian/patches/905_debian_xdm.diff

  * Drop xlibs's conflicts/replaces relationship with xlib6 (the old,
    no-longer-maintained, security-hole-ridden libc5 version of the X
    libraries from XFree86 3.3.6), because it is spurious.  There is no file
    overlap and no particular reason to force xlib6 off the system, apart from
    the sheer insanity of keeping libraries with known security holes on the
    system.  However, that's the user's decision.  (Closes: #236780)
    - debian/control

  * Revert patch applied in 4.3.0-3 to enhance the sunffb driver;
    unfortunately, it does not build.  (Closes: #236705)
    + Apply patch by David S. Miller to implement XAA and Render support in
      the sunffb driver.
    - debian/patches/073_sunffb_xaa_render_fb_support.diff: deleted

  * Fix IGNORE_MANFIEST_CHANGES logic to properly distinguish diff's exit
    codes, and work as intended.  Thanks to Daniel Schepler for bringing this
    problem to my attention.  (Closes: #238080)
    - debian/rules

 -- Branden Robinson <branden@debian.org>  Tue, 16 Mar 2004 15:44:17 -0500

xfree86 (4.3.0-5) unstable; urgency=medium

  * Urgency due to fix for FTBFS on some architectures.

  * Fix more non-idiomatic and incorrect usages of printf.
    - debian/xlibs.bug
    - debian/xserver-xfree86.bug

  * Update Danish debconf template translations (thanks, Claus Hindsgaul).
    (Closes: #235853)
    - debian/po/da.po

  * Revert changeset from upstream CVS HEAD that didn't compile (fixes FTBFS
    on hurd-i386, i386, and ia64).
      + For drivers that support 'Option "dri"' have the driver request
        loading the dri module when this option is true.  This brings
        it in to line with how other things are handled.  Other drivers
        that have DRI support need to have the "dri" option added (David
        Dawes).
    - debian/patches/000_stolen_from_HEAD_i830_driver.diff

 -- Branden Robinson <branden@debian.org>  Thu,  4 Mar 2004 23:08:44 -0500

xfree86 (4.3.0-4) unstable; urgency=medium

  * Urgency due to fix for grave bug which prevents packages from installing
    on systems where shells other than bash, ksh, or posh are used for
    /bin/sh.

  * Fix missing non-breaking spaces (thanks, Christian Perrier).
    - debian/po/fr.po

  * Stop attempting to chmod X session error file if it is a symbolic link
    (see #234788).
    - debian/local/Xsession

  * Grab from upstream CVS HEAD several updates to the en_US.UTF-8 Compose
    file.
      + Add convenient ways to enter "double quote" and "cedilla" with the
        en_US.UTF-8 compose rules (Alexandre Oliva).  (Closes: #234355)
      + Add some missing dead-key compose sequences for Vietnamese (#5981, Le
        Hong Boi).
      + Update Compose file for en_US.UTF-8 locale (Bugzilla #1053, Matthew
        Fischer) and fix wrong comment signs there (Ivan Pascal).
      + Fix some rules in en_US.UTF-8 Compose file (Bugzilla #1071, Matthew
        Fischer).
    - debian/patches/000_stolen_from_HEAD.diff

  * Invoke printf with only one format string argument.
    - debian/xserver-xfree86.bug

  * Add script to help package maintainers validate shell scripts against
    POSIX-compatible shell interpreters.
    - debian/scripts/validate-posix-sh

  * Fix non-POSIX-compliant syntax when placing a here document inside a shell
    expansion (thanks to Colin Watson for ruling out a bug in in some shell
    interpreters).  (Closes: #235687)
    - debian/shell-lib.sh

  * Grab from upstream CVS HEAD some fixes to the i810 driver's i830 support.
      + For drivers that support 'Option "dri"' have the driver request
        loading the dri module when this option is true.  This brings
        it in to line with how other things are handled.  Other drivers
        that have DRI support need to have the "dri" option added (David
        Dawes).
      + Update manpage to clarify that XVideo is only enabled by default when
        the configurations supports it.  (David Dawes)
      + Add a "VBERestore" option for the i830 part of the i810 driver, to
        allow the VBE restore bug workaround to be disabled.  This is needed
        for correct text mode restoration on some 830M-based machines
        (David Dawes, reported by Martin van Es).
      + Turn off the GetDisplayInfo BIOS call by default and add an option
        to turn it back on in the i810 driver. This fixes some lockup
        problems found with some Dell BIOS' (Alan Hourihane, Alain Poirier).
        (Closes: #226430)
    - debian/patches/000_stolen_from_HEAD_i830_driver.diff

 -- Branden Robinson <branden@debian.org>  Thu,  4 Mar 2004 09:21:36 -0500

xfree86 (4.3.0-3) unstable; urgency=medium

  * Urgency due to fix for serious bug which frustrates removal of library
    packages.

  * Fix missing line-continuation character.  (Closes: #233674)
    - debian/xdm.config.in

  * Fix typos.
    - debian/NEWS

  * Grab from upstream CVS HEAD a patch to define the <LSGT> key on Belgian
    keyboard maps (per request from Wouter Verhelst).  (Closes: #233734)
    - debian/patches/000_stolen_from_HEAD.diff

  * Fix missing-word typo in xserver-xfree86/config/modules description.
    Re-ran debconf-updatepo.  Translators: this will mark your translations as
    fuzzy, but should be a false positive, as the literal meaning of the
    template description has not changed.
    - debian/xserver-xfree86.templates, debian/po/{ca.po,cs.po,da.po,de.po,
      el.po,es.po,fr.po,gl.po,it.po,ja.po,nl.po,pl.po,pt_BR.po,ru.po,sv.po,
      templates.pot}

  * Fix typo in libxmuu-dev's dependencies (thanks, Petr Salinger).
    - debian/control

  * Fix missing second argument to fgrep in deregister_x_lib_dir_with_ld_so(),
    which can cause it to block, attempting to read from standard input; also
    drop -q from fgrep's option list, since we actually want to do something
    with its output; finally, rework the file replacement logic so that we are
    indifferent to whether or not there are any lines in /etc/ld.so.conf that
    do not match /usr/X11R6/lib, and we do not replace the file if we're not
    actually changing it (thanks, Filip Van Raemdonck and Andreas Metzler).
    (Closes: #233645)
    - debian/shell-lib.sh

  * Guard against potentially empty second argument to fgrep in
    find_culprits().  Reimplement the long error message that accompanies the
    discovery of obsolete or Policy-violating packages with file overlaps as a
    here document (since it is a pain to reflow the message every time the
    indentation level is changed).  Use warn() instead of die() in
    check_symlinks_and_bomb() when problems are found, so that multiple
    problems can be identified at the same time, and find_culprits() can be
    run (find_culprits() was previously unreachable).  Call die() after
    find_culprits() returns.
    - debian/shell-lib.sh

  * Add script to help package maintainers identify available patch numbers.
    - debian/scripts/find-avail-patch-number

  * Define <KPPT> keycode in abnt2 section of XKB xfree86 keycodes file;
    enables numeric keypad period key for Brazilian ABNT2 keyboards (thanks,
    Michael Loos!).  (Closes: #233621)

  * Apply patch by David S. Miller to implement support for RGB->BGR
    colorspace conversion in the X server's fb layer.
    - debian/patches/072_Xserver_fb_convert_RGB_to_BGR.diff

  * Apply patch by David S. Miller to implement XAA and Render support in the
    sunffb driver.
    - debian/patches/073_sunffb_xaa_render_fb_support.diff

  * Fix bug in x86 CPU detection code from Mesa 5.1 that prevented DRI 3D
    hardware acceleration from working (patch from Mesa CVS, courtesy of
    Aurelien Jarno).  (Closes: #229984)
    - debian/patches/000_stolen_from_Mesa_CVS.diff

  * Update xserver-xfree86/config/inputdevice/keyboard/model template
    description to include discussion of the distinction between 101/104-key
    PC keyboards, and their 102/105-key counterparts, and warn of the
    consequences if 102/105-key keyboards are misconfigured as 101/104-key
    models.  Re-run debconf-updatepo.  Add news entry with a similar warning.
    - debian/NEWS
    - debian/po/ca.po
    - debian/po/cs.po
    - debian/po/da.po
    - debian/po/de.po
    - debian/po/el.po
    - debian/po/es.po
    - debian/po/fr.po
    - debian/po/gl.po
    - debian/po/it.po
    - debian/po/ja.po
    - debian/po/nl.po
    - debian/po/pl.po
    - debian/po/pt_BR.po
    - debian/po/ru.po
    - debian/po/sv.po
    - debian/po/templates.pot
    - debian/xserver-xfree86.templates

  * Make build rule idempotent by having ln and gzip overwrite their
    destinations (based on a patch by Eduard Bloch).  (Closes: #215793)
    - debian/rules

  * Fix underlining of TrueType fonts with patch from the After X-TT Project
    (thanks to Sean Neakums for the pointer).  (Closes: #233948)
    - debian/patches/074_freetype_fix_underlining.diff

  * Update Japanese debconf template translations (thanks, Kenshi Muto).
    Re-run debconf-updatepo.  (Closes: #234049)
    - debian/po/ja.po

  * Update Brazilian Portuguese translations (thanks, André Luís Lopes).
    Re-run debconf-updatepo.  (Closes: #234060)
    - debian/po/pt_BR.po

  * Correct minor factual error about DEC VT terminal keyboards (thanks, James
    Cameron!).
    - debian/local/FAQ

  * Enhance bug-reporting assistance script for XFree86 X server packages.
      + Report on state of X server symlink and XF86Config-4 file with respect
        to corresponding roster and checksum files.
      + Report failure of various tests (for existence of XF86Config-4 file,
        for availability of lspci command, and so forth); this makes it easier
        to distinguish these diagnostics from a report whose submitter elided
        the information.
      + Show most recently modified XFree86 X server log file instead of
        hard-coding "XFree86.0.log".
      + Add Vim modeline.
    - debian/xserver-xfree86.bug

  * Add bug-reporting assistance script for xlibs package; since xlibs now
    contains nothing except for XKB configuration data, all bugs properly
    filed against this package will be keyboard configuration problems, so
    gather and report corresponding keyboard data from XFree86 X server
    logfiles on the system if any.
    - debian/xlibs.bug: new file
    - debian/rules: ship bug script as part of xlibs package

  * Add support for R_ALPHA_SREL32 relocations in XFree86 X server's ELF
    object loader; fixes "Elf_RelocateEntry() Unsupported relocation type 10"
    warnings on Alpha; see #234073 (thanks, Falk Hueffner!).
    - debian/patches/202_alpha_elfloader_support_R_ALPHA_SREL32.diff: new file
    - debian/patches/303_arm_cache_flush.diff: resynced

  * Update French translations (thanks, Christian Perrier and
    debian-l10n-french!).   Re-run debconf-updatepo.  (Closes: #234903)
    - debian/po/fr.po

  * Remove extraneous #undef from lnx_io.c and lnx_kbd.c.
    - debian/patches/050_fix_lnx_io_kbd_rate_fix.diff
    - debian/patches/055_lnx_evdev_keyboard.diff: resync

 -- Branden Robinson <branden@debian.org>  Fri, 27 Feb 2004 15:07:25 -0500

xfree86 (4.3.0-2) unstable; urgency=low

  * The "It's like I have a shotgun in my mouth, I've got my finger on the
    trigger, and I like the taste of the gunmetal." release.

  * Set the f---ing distribution to unstable instead of experimental.

 -- Branden Robinson <branden@debian.org>  Wed, 18 Feb 2004 00:28:20 -0500

xfree86 (4.3.0-1) experimental; urgency=low

  * Grab fixes to upstream CVS xf-4_3-branch since last pull.
    - debian/patches/000_post430.diff:
      + (xc/lib/freetype2/Imakefile):
          Include backwards compatibility API for renamed stream functions in
          Freetype2 library.
      + (xc/programs/Xserver/hw/xfree86/drivers/i810/i830_driver.c):
          1011. Build fix for the i810 driver when XF86DRI isn't defined
                (#6006, Matthias Scheler).
      + (xc/extras/freetype2/src/sfnt/ttcmap.c.save,
         xc/extras/freetype2/src/truetype/ttdriver.c.save,
         xc/extras/freetype2/src/type1/t1driver.c.save,
         xc/extras/freetype2/src/winfonts/winfnt.c.save):
          Remove extra files that shouldn't be there (Bang Jun-Young).
      + (xc/lib/font/fontfile/dirfile.c):
          1012. Fix font alias overrun. [SECURITY FIX] (CAN-2004-0083)
      + (xc/config/cf/Imake.tmpl):
          Make sure a default for HasShadowPasswd gets defined.
      + (xc/lib/font/fontfile/dirfile.c,
         xc/lib/font/fontfile/encparse.c,
         xc/lib/font/fontfile/fontfile.c):
          1013. Some more font path checks. [SECURITY FIX] (CAN-2004-0084,
          CAN-2004-0106)
    - debian/patches/000_stolen_from_HEAD_doc_extensions_fix.diff: resync
    - debian/patches/000_stolen_from_HEAD_i830_driver.diff: resync
    - debian/patches/041_make_xcursor_icondir_configurable.diff: resync

  * Fix syntax error in build-server (thanks, David Schmitt).
    (Closes: #225408)
    - debian/rules

  * Add new target to rules file, "patch-audit", upon which build targets
    depend.  This target ensures that the patches to the upstream source
    applied cleanly (no offsets, no fuzz).
    - debian/README: document new patch-audit target
    - debian/rules: implement new patch-audit target

  * Use hardlinks instead of symlinks when copying build tree for debugging
    server build in build-server target (thanks, David Schmitt).
    - debian/rules

  * Search for external Xrender and Xft libraries in /usr/lib instead of
    /usr/X11R6/lib when symlinking them to the local exports directory for
    build purposes.  Update build-dependencies on these libraries' -dev
    packages to ensure their files are where we expect them.
    [ISHIKAWA Mutsumi]
    - debian/rules:
      + symlink libXrender.* from /usr/lib instead of /usr/X11R6/lib
      + symlink libXft.* from /usr/lib instead of /usr/X11R6/lib
    - debian/control:
      + update build-dependency from libxft2-dev to libxft-dev (>= 2.1.2)
      + update build-dependency from libxrender-dev to libxrender-dev
        (>= 0.8.3)

  * Stop short-circuiting past update of debconf choices information for
    share/default-x-display-manager template if either the existing owners or
    choices information are null -- doing so was causing some people not to be
    prompted to set their default X display manager when they should have
    been.  Improve debugging output.  (Closes: #226292)
    - debian/xdm.config.in
    - debian/xdm.{postinst,postrm,prerm}.in: add observe() calls to default
      display manager file updates

  * Add new Debian X FAQ entry, "Why are some fonts (or graphical rulers)
    sized incorrectly?", based on text submitted by Eduard Bloch (thanks,
    Eduard!).  (Closes: #227217)
    - debian/local/FAQ

  * Move rstard.real executable from /etc/X11/rstart to /usr/X11R6/bin.
    (Closes: #143825)
    - debian/patches/000_stolen_from_HEAD.diff:
      (xc/programs/rstart/Imakefile):
      + [Fix] Missing depend target [Marc Aurele La France]
      + Allow rstartd.real to be installed into a location other than LIBDIR
        (#6034, Luke Mewburn).
    - debian/patches/912_debian_rstart.real_location.diff:
      (xc/programs/rstart/Imakefile): use BINDIR instead of MYLIBDIR when
      dealing with RSERVERNAME
    - debian/MANIFEST.*: note new location
    - debian/NEWS: a conffile is being removed on upgrade, so inform users of
      this fact in the unlikely event they customized this ELF executable
    - debian/xutils.install*: ship file from its new location
    - debian/xutils.{postinst,preinst,prerm}.in: prepare, roll back, and
      commit removal of conffile as needed

  * Add Greek debconf template translations (thanks, Konstantinos Margaritis).
    Re-run debconf-updatepo.  (Closes: #227616)
    - debian/po/el.po: new
    - debian/po/{templates.pot,*.po}: cosmetic updates made by
      debconf-updatepo

  * Fix initialisation of some DRI parameters for RV280 chips (and possibly
    others with the R200 3D core). (Closes: #225759)
    [Michel Dänzer]
    - debian/patches/030b_radeon_rv280_support.diff
    - debian/patches/451_ia64_radeon_pagesize.diff: adjust offsets

  * Update build-dependencies; kernel-headers-2.4 (virtual package) becomes
    linux-kernel-headers (real package) and "libpng12-0-dev | libpng-dev"
    becomes "libpng12-dev | libpng-dev" (libpng12-0-dev is no more).
    - debian/control

  * Make x-window-system depend on xprt-xprintorg instead of xprt until
    XFree86 gets a fixed XPRINT server.  (Closes: #209352)
    - debian/control

  * Acknowledge the long-awaited unscrewing of GNU CPP's -traditional support.
    Remove build-dependency on cpp-3.2 (cpp is build-essential); add
    build-conflict on cpp-3.3 prior to 1:3.3.3ds1-0pre1; generalize
    xbase-clients's, xdm's, and xutils's dependencies from cpp-3.2 to cpp; and
    add conflict for each of these packages with versions of cpp-3.3 prior to
    1:3.3.3ds1-0pre1.  Remove patch that defines CppCmd to be cpp-3.2.
    - debian/control
    - debian/patches/003a_damn_cpp_3.3_to_hell.diff: deleted

  * Grab from upstream CVS HEAD a patch to the DIX layer to work around
    spurious repeated keyboard events during sync grabs when using the XKB
    extension (thanks to Mark Histed for the tip).  (Closes: #142569)
    - debian/patches/000_stolen_from_HEAD.diff

  * Grab (from upstream Mesa 5.1) a patch which re-implements the x86 CPU
    detection code, which should rectify problems with spurious detection and
    attempted usage of 3Dnow! extensions on Pentium 4 processors (thanks, Petr
    Sebor).  (Closes: #215831)
    - debian/patches/000_stolen_from_Mesa_5.1.diff

  * Update German debconf template translations (thanks, Alwin Meschede).
    Re-run debconf-updatepo.  (Closes: #228704)
    - debian/po/de.po
    - debian/po/{templates.pot,*.po}: cosmetic updates made by
      debconf-updatepo

  * Fix some bit rot in patch to xdm's session.c file; upstream has changed
    StartClient() to use a locally-scoped variable called pamh which is
    initialized to the return of thepamh(), instead of calling thepamh() every
    time the PAM handle is needed.
    - debian/patches/002_xdm_fixes.diff

  * Drop xlibs-static-dev's (exact versioned) dependency on xlibs, since I
    cannot think of a justification for it.  XKB data is not needed to compile
    objects that use XKB extension libraries, there is nothing else in xlibs,
    xlibs-static-dev still depends on -dev packages necessary to link objects
    using the libraries in this package, there is no shared counterpart for
    the libraries in this package upon which to declare an exact versioned
    dependency, and xlibs-static-dev is Architecture: any while xlibs is
    Architecture: all -- this renders binary-only NMUs of xfree86 impossible.
    Thanks to Colin Watson for bringing this issue up on debian-policy.
    - debian/control

  * Create the /etc/X11 directory in the xserver-common and xserver-xfree86
    package preinst scripts if the directory does not already exist.  These
    scripts may need to create files (or symlinks) in these directories,
    xfree86-common may not have been unpacked yet, and Pre-Depending on it is
    too heavyweight a solution.  Also, reduce the amount of hard-coding of the
    /etc/X11 directory, moving it into a shell variable instead.  Finally,
    remove the /etc/X11 directory on package purge if it is empty (it is
    not in dpkg's file list, as these packages do not ship it).  Thanks to
    Joey Hess for finding this problem.  (Closes: #228810)
    - debian/xserver-common.{config,preinst,postinst,postrm}.in
    - debian/xserver-xfree86.{config,preinst,postinst,prerm,postrm}.in

  * Add versioned build-dependency on linux-kernel-headers (>=
    2.5.999-test7-bk-15) for SPARC only; previous versions of
    linux-kernel-headers have a bug that causes XFree86 builds to fail on that
    architecture.
    - debian/control

  * Fix Xv support in r128 driver to work in conjuction with an earlier patch
    to let the driver permit framebuffer pitches in multiples of 8 bytes,
    which enabled support for some models of Rage 128, but broke video in
    depth 24 (thanks, Michel Dänzer and Dagfinn Ilmari Mannsåker).
    (Closes: #148775)
    - debian/patches/022_r128_driver_pitch_tweak.diff

  * Add recognition of two models of Radeon Mobility 9200 ("M9+") as
    RV280-based chipsets (and as Mobility products).
    - debian/patches/099_ati_recognize_more_RV280_models.diff

  * Attempt again to fix the problem with Xlib not finding the Xcursor library
    to dynamically open it.  Dynamic loading of Xcursor by Xlib wasn't working
    when an external Xcursor library was available during the build; Xlib was
    being told that the name of the Xcursor object was "Xcursor.so.", because
    SOXCURSORREV was only defined in xc/lib/Xcursor/Imakefile, which is not
    used when an external Xcursor library is used.
    - debian/patches/099c_support_loadable_external_Xcursor_lib.diff

  * Add Czech debconf template translations (thanks, Miroslav Kure).  Re-run
    debconf-updatepo.  (Closes: #231531)
    - debian/po/cs.po: new

  * Revert reordering of xfs's default font catalogue (and default font path
    element order in XFree86 X server configuration files written by dexconf)
    performed in 4.2.1-6.  Low-resolution character-cell fonts (such as those
    used by terminal emulators) come first, followed by unscaled 100dpi and
    75dpi bitmap fonts, followed by Type1 fonts (after the unscaled bitmap
    fonts, because the type1 rasterizer in X is not very good), CID, and
    Speedo fonts, and finally scaled 100dpi and 75dpi fonts.  Attempting to
    follow the advice in README.fonts just doesn't work too well for us.
    (Closes: #199111)
    - debian/local/dexconf
    - debian/patches/906_debian_xfs.diff

  * Update Danish debconf template translations (thanks, Claus Hindsgaul).
    - debian/po/da.po

  * Make xlibmesa-dri-dbg conflict with and replace xlibmesa3-gl-dbg (>=
    4.2.1-13) due to file overlaps with unstripped DRI modules.
    - debian/control

  * Make libxv-dev conflict with and replace xlibs-dev (<< 4.3.0) due to file
    overlap with Xv header files, static library, and manpages.
    - debian/control

 -- Branden Robinson <branden@debian.org>  Tue, 17 Feb 2004 12:58:28 -0500

xfree86 (4.3.0-0pre1v5) experimental; urgency=low

  * Grab fixes to upstream CVS xf-4_3-branch since last pull.
    - debian/patches/000_post430.diff:
      + (xc/programs/Xserver/hw/xfree86/doc/sgml/LICENSE.sgml,
         xc/programs/xdm/{genauth.c,prngc.c}):
          Grab licenses clarifications from trunk. (Matthieu Herrb)
      + (xc/programs/Xserver/hw/xfree86/doc/LICENSE):
          update formatted docs (Matthieu Herrb)
      + (xc/programs/Xserver/hw/xfree86/drivers/i810/{common.h,i810.h,
        i810.man,i830.h,i830_cursor.c,i830_dri.c,i830_dri.h,i830_driver.c,
        i830_memory.c,i830_video.c}):
          Fix some i830+ VT switch/exit crashes (David Dawes, Egbert Eich).
    - debian/patches/002_xdm_fixes.diff: resynced
    - debian/patches/056_i810_make_i830_usable.diff: resynced

  * Update Debian copyright file to resync with update to upstream LICENSE
    file (new BSD-style licenses from Theodore Ts'o, Theo de Raadt, and
    Damien Miller).
    - debian/copyright

  * Undocument the restriction on loading both freetype and xtt modules in
    the XFree86 X server's debconf questions, since this restriction no longer
    exists in XFree86 4.3.  Enable the xtt module by default.
    - debian/xserver-xfree86.templates

  * Update xlibs and xlibs-data's package descriptions to clarify that X
    Keyboard Extension (XKB) data is in xlibs, but other
    architecture-independent data is in xlibs-data.  The XKB data has not
    moved because dpkg supports no mechanism for migrating conffiles between
    packages, and it is unacceptable for people to be spuriously shown dpkg's
    changed-conffile prompt dozens of times when upgrading from versions of
    xlibs prior to 4.3.0.
    - debian/control

  * Correct mispelling of forthcoming package name in xlibs's shlibs file; the
    package containing libXmuu.so.1 will be called "libxmuu1", not "libxmuu6".
    - debian/xlibs.shlibs

  * Move correction of old /usr/X11R6/lib/X11/locale symlink problem from
    xlibs package to xlibs-data, and convert from simple remove-in-preinst
    approach to prepare-preinst/commit-postinst/rollback-postrm model.
    Correct mis-self-identification of xlibs-data's maintainer scripts (caused
    by sloppy cut-and-pasting), correct and update their copyright
    information, and use debhelper to ship the
    /usr/X11R6/lib/X11/icons/default directory instead of creating it behind
    the packaging system's back in xlibs-data's postinst.
    - debian/xlibs-data.dirs
    - debian/xlibs-data.postinst.in
    - debian/xlibs-data.postrm.in
    - debian/xlibs-data.preinst.in
    - debian/xlibs-data.prerm.in
    - debian/xlibs.preinst.in

  * Patch Xlib (CrGlCur.c) to search harder for an Xcursor library.  Not
    everybody has symlinks on their system for compile-time linking of objects
    with libXcursor.  Attempt to find "libXcursor.so.1" first, then (per the
    existing code), fall back to "libXcursor.so" and finally "libXcursor".
    (Closes: #204358)
    - debian/patches/099a_improve_search_for_libXcursor.diff

  * Update the extended descriptions of packages that depend on cpp-3.2 to
    explain why they use cpp in general, and why cpp-3.2 in particular.
    - debian/control

  * Move unstripped versions of the Mesa DRI modules from the (renamed)
    xlibmesa3-gl-dbg package to the new package xlibmesa-dri-dbg.
    - debian/control
    - debian/xlibmesa-dri-dbg.install.alpha
    - debian/xlibmesa-dri-dbg.install.i386
    - debian/xlibmesa-dri-dbg.install.ia64
    - debian/xlibmesa-dri-dbg.install.powerpc
    - debian/xlibmesa-dri-dbg.install.sparc

  * Grab latest fixes to upstream CVS xf-4_3-branch.
    - debian/patches/000_post430.diff:
      (xc/programs/Xserver/hw/xfree86/os-support/xf86drm.h):
        1009. Fix DRM_CAS on ia64 as used by the DRI (Bugzilla #778, John
              Dennis). (Alan Hourihane)
    - debian/patches/453_ia64_fix_radeon_dri_deadlock.diff: deleted;
        superseded by upstream patch

  * Fix building against 2.6.x kernel headers by adding '#define rate period'
    where needed. [Fabio Massimo Di Nitto, Daniel Stone]
    - debian/patches/000_stolen_from_HEAD.diff

  * Stop shipping render and renderproto.h in xlibs-dev.
    - debian/xlibs-dev.install
    - debian/xlibs-dev.install.hurd-i386
    - debian/xlibs-dev.install.s390

  * Make i830 driver automatically reserve the amount of memory specified in
    'Option "VideoRAM"', eliminating the need for an external program. Grab a
    couple of other small fixes from HEAD, and integrate this with patch #056.
    - debian/patches/000_stolen_from_HEAD_i830_driver.diff: new
    - debian/patches/056_i810_make_i830_usable.diff: deleted
    [Daniel Stone]

  * Add package relationships with xlibs-data and xutils where needed, and
    explain them in packages' extended descriptions.
    - debian/control:
      + xbase-clients depends on xlibs-data: the bitmap, editres, viewres,
        xbiff, xcalc, xconsole, xditview, xedit, xf86cfg, xman, xsetroot, and
        xsm programs use bitmap images provided by the xlibs-data package.
      + xmh depends on xlibs-data: the xmh program uses bitmap images provided
        by the xlibs-data package.
      + xterm recommends xutils: the uxterm command requires the luit program
        from the xutils package.
      + xterm depends on xlibs-data: the xterm program uses bitmap images
        provided by the xlibs-data package.
      + xutils suggests xlibs-data: the luit program requires locale
        information from the xlibs-data package (add luit to list of programs
        in xutils's extended description while we're at it).

  * In maintainer scripts, query the terminal to establish a default number of
    columns to use for displaying messages to the user.  This is used only as
    a fallback in the event the COLUMNS variable is not set.  Change from
    using fold to format messages to fmt, so we can get indentation on wrapped
    lines, making them easier to read.  Remove unused message_nonl() function.
    - debian/shell-lib.sh

  * Move correction of old /usr/X11R6/lib/X11/locale symlink problem from
    xlibs package to xlibs-data, and convert from simple remove-in-preinst
    approach to prepare-preinst/commit-postinst/rollback-postrm model.
    Correct mis-self-identification of xlibs-data's maintainer scripts (caused
    by sloppy cut-and-pasting), correct and update their copyright
    information, and use debhelper to ship the
    /usr/X11R6/lib/X11/icons/default directory instead of creating it behind
    the packaging system's back in xlibs-data's postinst.
    - debian/xlibs-data.dirs
    - debian/xlibs-data.postinst.in
    - debian/xlibs-data.postrm.in
    - debian/xlibs-data.preinst.in
    - debian/xlibs-data.prerm.in
    - debian/xlibs.preinst.in

  * Split xlibs package into one package per shared library, keeping only the
    XKB data files in xlibs (see above).  The XRX plugin
    (/usr/X11R6/lib/libxrx.so.6.3) and its manpage are being dropped entirely.
    - debian/xlibs.install: stop shipping everything but the XKB data
    - debian/xlibs.{dirs,links,postinst.in,postrm.in,preinst.in,shlibs,
      shlibs.dummy}: deleted
    - debian/rules: eliminate special dh_shlibdeps handling for xlibs package;
      add special dh_shlibdeps handling for libdps1 and libx11-6 (see below)
    - debian/scripts/manifest-install-reconcile: add libxrx shared library and
      object to list of files expected to be unshipped
    - debian/shell-lib.sh: define new functions to aid maintainer scripts of
      new libraries
      + register_x_lib_dir_with_ld_so(): add /usr/X11R6/lib to /etc/ld.so.conf
        if needed
      + deregister_x_lib_dir_with_ld_so(): remove /usr/X11R6/lib from
        /etc/ld.so.conf when no shared libraries left in directory
    - debian/{libice6,libsm6,libx11-6,libxext6,libxft1,libxi6,libxmu6,
      libxmuu1,libxp6,libxpm4,libxrandr2,libxt6,libxtrap6,libxtst6,
      libxv1}.install: new; ship shared library
    - debian/{libice6,libsm6,libx11-6,libxext6,libxft1,libxi6,libxmu6,
      libxmuu1,libxp6,libxpm4,libxrandr2,libxt6,libxtrap6,libxtst6,
      libxv1}.links: new; ship SONAME symlinks to shared libraries
    - debian/{libice6,libsm6,libx11-6,libxext6,libxft1,libxi6,libxmu6,
      libxmuu1,libxp6,libxpm4,libxrandr2,libxt6,libxtrap6,libxtst6,
      libxv1}.shlibs: new; provide shlibs file, specifying alternative
      versioned dependencies on older versions of xlibs (except in the case of
      libxv1, for which a shared version did not exist in XFree86 prior to
      4.3)
    - debian/{libdps1,libx11-6}.shlibs.local: add special local shlibs files
      for use during the package build so that libdps1 and libx11-6 do not get
      spurious self-dependencies; libdps1 ships three related shared
      libraries, and libx11-6 ships loadable modules for Xlib that reference
      symbols in Xlib -- both of these cases confuse dpkg-shlibdeps (via
      dh_shlibdeps)
    - debian/{libice6,libsm6,libx11-6,libxext6,libxft1,libxi6,libxmu6,
      libxmuu1,libxp6,libxpm4,libxrandr2,libxt6,libxtrap6,libxtst6,
      libxv1}.{postinst,postrm}: new; call register_x_lib_dir_with_ld_so(),
      deregister_x_lib_dir_with_ld_so(), and ldconfig as appropriate
    - debian/{libx11-6,libxt6}.{preinst,postinst,postrm}: migrate
      /usr/X11R6/lib/X11/{app-defaults,xkb} prepare/commit/rollback handling
      from xlibs maintainer scripts, now deceased
    - debian/libx11-6.links: migrated from xlibs.links for
      /usr/X11R6/lib/X11/xkb symlink
    - debian/libxt6.dirs: migrated from xlibs.dirs for /etc/X11/app-defaults
      directory
    - debian/libxt6.links: migrated from xlibs.links for
      /usr/X11R6/lib/X11/app-defaults symlink
    - debian/control: update package data to reflect split
      + add stanzas for new packages libice6, libsm6, libx11-6, libxext6,
        libxft1, libxi6, libxmu6, libxmuu1, libxp6, libxpm4, libxrandr2,
        libxt6, libxtrap6, libxtst6, xlibs-data
      + libx11-6 depends on xfree86-common (>> 4.3.0) and xlibs-data; needs
        xlibs-data for locale data and X error and keysym databases
      + xlibs is now a transitional package depending on the packages into
        which it split
      + sanitize xlibs's conflicts and replaces relationships by removing
        versioned conflicts on withdrawn packages (except where they continue
        to be Provided by still-existing packages)
      + xlibs is now an architecture-independent package
      + xlibs no longer provides libxpm4
      + rewrite xlibs's short and extended descriptions

  * Split xlibs-dbg package into one package per shared library.
    - debian/xlibs-dbg.install: deleted
    - debian/xlibs-dbg.links: deleted
    - debian/{libice6-dbg,libsm6-dbg,libx11-6-dbg,libxext6-dbg,libxft1-dbg,
      libxi6-dbg,libxmu6-dbg,libxmuu1-dbg,libxp6-dbg,libxpm4-dbg,
      libxrandr2-dbg,libxt6-dbg,libxtrap6-dbg,libxtst6-dbg,
      libxv1-dbg}.install: new; populated from xlibs-dbg.install
    - debian/{libice6-dbg,libsm6-dbg,libx11-6-dbg,libxext6-dbg,libxft1-dbg,
      libxi6-dbg,libxmu6-dbg,libxmuu1-dbg,libxp6-dbg,libxpm4-dbg,
      libxrandr2-dbg,libxt6-dbg,libxtrap6-dbg,libxtst6-dbg,
      libxv1-dbg}.links: new; populated from xlibs-dbg.links
    - debian/control: update package data to reflect split
      + add stanzas for new packages libice6-dbg, libsm6-dbg, libx11-6-dbg,
        libxext6-dbg, libxft1-dbg, libxi6-dbg, libxmu6-dbg, libxmuu1-dbg,
        libxp6-dbg, libxpm4-dbg, libxrandr2-dbg, libxt6-dbg, libxtrap6-dbg,
        libxtst6-dbg, libxv1-dbg
      + xlibs-dbg is now a pseudopackage depending on the packages into which
        it split
      + update x-window-system-dev to depend on the packages split from
        xlibs-dbg instead of xlibs-dbg itself
    - debian/rules:
      + don't dh_strip new -dbg packages
      + let dh_strip have its wicked way with xlibs-dbg, which no longer has a
        payload

  * Split xlibs-dev package into one package per shared library, plus separate
    packages for Proxy Management protocol headers (pm-dev), X protocol
    headers (x-dev), and libraries that exist only in static form
    (xlibs-static-dev).  Note that there is no libxft1-dev package; this is
    deliberate.  libxft1 is obsolete and libxft2 (packaged separately from
    XFree86) should be used instead.
    - debian/xlibs-dev.install: deleted
    - debian/xlibs-dev.links: deleted
    - debian/{libice-dev,libsm-dev,libx11-dev,libxext-dev,libxi-dev,
      libxmu-dev,libxmuu-dev,libxp-dev,libxpm-dev,libxrandr-dev,libxt-dev,
      libxtrap-dev,libxtst-dev,libxv-dev,pm-dev,x-dev,
      xlibs-static-dev}.install: new; populated from xlibs-dev.install
    - debian/{libice-dev,libsm-dev,libx11-dev,libxext-dev,libxi-dev,
      libxmu-dev,libxmuu-dev,libxp-dev,libxpm-dev,libxrandr-dev,libxt-dev,
      libxtrap-dev,libxtst-dev,libxv-dev}.install: new; populated from
      xlibs-dev.links
    - debian/control: update package data to reflect split
      + add stanzas for new packages libice-dev, libsm-dev, libx11-dev,
        libxext-dev, libxi-dev, libxmu-dev, libxmuu-dev, libxp-dev,
        libxpm-dev, libxrandr-dev, libxt-dev, libxtrap-dev, libxtst-dev,
        libxv-dev, pm-dev, x-dev, xlibs-static-dev
      + update dependencies for existing -dev packages libdps-dev,
        libxaw6-dev, libxaw7-dev, xlibmesa-gl-dev, xlibosmesa-dev
      + update dependencies for xlibs-static-pic based on actual linkage of
        the libraries within it
      + simplify xlibs-static-pic's extended description to refer to
        xlibs-static-dev for details
      + xlibs-dev is now a pseudopackage depending on the packages into which
        it split
      + update x-window-system-dev to depend on the packages split from
        xlibs-dev instead of xlibs-dev itself

  * The above package splits collectively resolve a request in the Debian Bug
    Tracking System to do so.  (Closes: #172550)

  * debian/patches/099b_Xft_FreeType_2.1.7_build_fix.diff:
    + Patch XFree86's internal copies of the Xft library to enable building
      against FreeType 2.1.7; fixes FTBFS.

  * Remove ${shlibs:Depends} substvar from dependencies of library -dbg
    packages; -dbg packages already declare an exact versioned dependency on
    their non-debugging counterparts, and using this substvar can lead to
    duplicate package relationships and lintian warnings.

  * Fix incorrect symlink to Xrender.h during package build. [ISHIKAWA
    Mutsumi]
    - debian/rules

  * Update libdps1's extended description to clarify the state of server-side
    DPS implementations, and stop referring to a package that is no longer
    shipped in Debian.  (Closes: #138883)
    - debian/control

  * Make x-window-system-dev depend on xlibmesa-gl-dbg and xlibmesa-glu-dbg,
    not xlibmesa3-gl-dbg and xlibmesa3-glu-dbg.
    - debian/control

  * Make the xlibmesa3 pseudopackage "Architecture: any" instead of
    "Architecture: all", because its dependencies vary depending on what
    architecture it is compiled for (thanks to F:Xlibmesa-gl-Depends).
    - debian/control

  * Fix encoding of Catalan translations file to not use a codepoint that is
    undefined in ISO 8859-15, which prevents the file from being transcoded
    from UTF-8 to ISO 8859-15 (thanks, Denis Barbier).  (Closes: #223024)
    - debian/po/ca.po

 -- Branden Robinson <branden@debian.org>  Fri,  5 Dec 2003 21:18:07 -0500

xfree86 (4.3.0-0pre1v4) experimental; urgency=low

  * Add missing symbolic links for libXTrap. [ISHIKAWA Mutsumi]
    - debian/xlibs-dev.links: add libXTrap link
    - debian/xlibs-dbg.links: add libXTrap link

  * Restore m68k package support.  Thanks, Adam Conrad!
    - {MANIFEST,xserver-xfree86.docs,xserver-xfree86.install,
       xutils.install}.m68k: added

  * Add missing libXv to xlibs-dbg. [ISHIKAWA Mutsumi]
    - debian/xlibs-dbg.install: add libXv.so.1.0
    - debian/xlibs-dbg.links: add libXv link

  * Grab latest fixes to upstream CVS xf-4_3-branch.
    - debian/patches/000_post430.diff:
      + (xc/programs/xdm/genauth.c):
          Build fixes (Branden Robinson, Matthieu Herrb).
      + (xc/programs/xdm/session.c):
          Use pam_strerror() to print an error message after pam_setcred()
          fails, C style unification (Branden Robinson).
      + (xc/programs/xdm/prngc.c):
          improve portability:
          - use the already defined X_NO_SYS_UN symbol for sys/un.h inclusion
          - don't use struct sockaddr_storage
    - debian/patches/002_xdm_fixes.diff:
      + resynchronize and drop patches applied upstream
      + fix for exciting new build failure in genauth.c
      + more stylistic cleanups to session.c
    - debian/patches/067_fix_X11_and_xdm_build_problems.diff: drop patches
      applied upstream

  * Add s390-specific debhelper install file for xlibs-static-pic, since s390
    doesn't compile the libxf86config object.
    - debian/xlibs-static-pic.install.s390: added

  * Add s390-specific debhelper install file for xlibs-data, since for some
    reason upstream decided s390 doesn't need the cursor themes.  s390 doesn't
    ship xf86cfg's bitmaps and pixmaps, either.
    - debian/xlibs-data.install.s390: added

  * Grab fixes to upstream CVS xf-4_3-branch since last pull.
    - debian/patches/000_post430.diff:
      + (xc/programs/Xserver/hw/xfree86/common/xf86Mode.c):
          1004. Fixed erronous freeing of DisplayModeRec in xf86DeleteMode()
                when deleting the modePool in xf86PruneDriverModes() the
                'prev' member has a different meaning for modePool modes than
                for ScrnInfoPtr->modes modes where it creates a doubly linked
                list (Bugzilla #678, Juergen Keil).
      + (xc/programs/mkfontscale/mkfontscale.c):
          1005. Close freetype fontfile filehandle in mkfontscale, this
                prevents problems from limitation of simultaniously open files
                (Bugzilla #676, Jun-ichiro itojun Hagino).
      + (xc/lib/X11/imDefIm.c):
          [undocumented] Call _XimShutdown(), not XimShutdown(), in
          _XimProtoOpenIM().
      + (xc/programs/Xserver/hw/xfree86/os-support/xf86_libc.h):
          1007. Fixing crash on ia64 because of wrong setjmp buffer alignment
                (Bugzilla #596, John Dennis).
      + (xc/config/cf/X11.tmpl):
          1008. Fixed definititon of UseInstalledOnCrossCompile so that it
                never is undefined (Harlod L. Hunt II).
    - debian/patches/000_stolen_from_HEAD_doc_extensions_fix.diff,
      debian/patches/057_X11.tmpl_warning_fix.diff,
      debian/patches/058_external_XrenderXftXcursor_X11.tmpl.diff: resynced
        offsets

  * Provide xlibs-pic pseudopackage to smooth upgrades from Debian 3.0
    systems.
    - debian/control:
      + add versioning of (<< 4.3.0) to xlibs-static-pic's conflicts and
        replaces relationships on xlibs-pic
      + xlibs-static-pic no longer provides xlibs-pic (dpkg does not support
        versioned provides)
      + resurrect xlibs-pic as an empty architecture-all pseudopackage in the
        oldlibs section which depends on xlibs-static-pic

  * Add s390-specific debhelper docs file for xfree86-common, since upstream
    doesn't ship the README.dps, RELNOTES, or Versions files when
    BuildXF86Server is switched off.  Grab these documents from the build-tree
    directory instead.
    - debian/xfree86-common.docs.s390: added

  * Fix regular DRI deadlocks on ia64; patch by John Dennis. [Daniel Stone]
    - debian/patches/453_ia64_fix_radeon_dri_deadlock.diff: added

  * Change xlibs package's shlibs file to specify alternatives for xlibs
    itself, using the names of the packages that xlibs will split into.  This
    should allow for more in the way of partial upgrades and a smoother
    transition for packages depending on the libraries in xlibs.
    - debian/xlibs.shlibs

  * Rename "stolen from HEAD" XTerm patch to not include the version number of
    XTerm in its name.
    - debian/patches/000_stolen_from_HEAD_xterm.diff: renamed from
      debian/patches/000_stolen_from_HEAD_xterm_177.diff

  * Enable building of scanpci utility for m68k architecture, and ship the
    executable and its manual page in the xutils package for m68k.
    - debian/patches/250_m68k_build_scanpci.diff: patch xfree86.cf to not
      exclude scanpci from building if Mc68020Architecture is defined
    - debian/MANIFEST.m68k: add scanpci and its manpage
    - debian/xutils.install.m68k: deleted; m68k can now use the generic
      xutils.install file

  * Give patch #453 a more accurate name, since the patch is not
    video-chipset-specific in any way (and has to do specifically with the
    DRM: Direct Rendering Manager).
    - debian/patches/453_ia64_fix_drm_deadlock.diff: renamed from
      debian/patches/453_ia64_fix_radeon_dri_deadlock.diff

  * Install the xmodmap.std file using dh_installexamples instead of placing
    it into /usr/X11R6/lib/X11/etc, a directory which contains no other files.
    Xmodmap is really old tech these days, too.
    - debian/xbase-clients.examples: add line
    - debian/xbase-clients.install: drop line

  * Apply patch to resolve problems with corruption when using XVideo on
    NVidia chipsets in fullscreen mode on a flat panel at high resolutions.
    (Closes: #215997)
    - debian/patches/098_nv_xvideo_fullscreen_fix.diff: new

  * Recognize the Radeon 9200 SE (RV280 5964) as any other RV280 chip; also,
    fix detection of RV280 5962 and 5963 chips by the ATI driver.
    (Closes: #216896)
    - debian/patches/099_ati_recognize_radeon_9200_se.diff: new

  * Fix build error when XF86DRI macro is undefined.  The "pI830" variable
    introduced in patch 056 is used unconditionaly, but only declared when
    XF86DRI macro is defined.  I could only reproduce this error in weird
    conditions on which the XF86DRI macro was undefined (probably due to wrong
    configuration in gnu.cf (GNU/Hurd)).  In any case, the bug is fixed now.
    [Robert Millan]
    - debian/patches/056_i810_make_i830_usable.diff

 -- Branden Robinson <branden@debian.org>  Wed, 22 Oct 2003 00:13:12 -0500

xfree86 (4.3.0-0pre1v3) experimental; urgency=high

  * Update pam_setcred() security fix to xdm to use pam_error and
    pam_strerror().
    - debian/patches/002_xdm_fixes.diff

  * Drop xlibmesa-drm-source package.
    - debian/MANIFEST.*: remove usr/src/xlibmesa-drm.tar.gz from list
    - debian/control: drop control stanza for package
    - debian/local/xlibmesa-drm-source: delete package infrastructure
      directory
    - debian/rules: stop constructing package
    - debian/xlibmesa-drm-src.install: deleted

  * SECURITY: Fix overflows in the test for integer overflows. Reported by
    Paul Anderson.
    - debian/patches/000_post430.diff

  * Apply more fixes for libraries' weak shared object dependencies.
    [ISHIKAWA Mutsumi]
    - debian/patches/063_fix_weak_deps.diff:
      + define SharedXvReqs in xc/config/cf/lnxLib.tmpl
      + add MathLibrary to SharedDPSTKReqs #define in xc/config/cf/lnxLib.tmpl
      + add MathLibrary to REQUIREDLIBS in xc/lib/GL/mesa/src/OSmesa/Imakefile
      + (cleanup) replace $(EXTENSIONLIB) $(XONLYLIB) with $(XLIB) in
        Shared*Reqs #defines in xc/config/cf/lnxLib.tmpl

 -- Branden Robinson <branden@debian.org>  Sat, 27 Sep 2003 03:43:37 -0500

xfree86 (4.3.0-0pre1v2) experimental; urgency=low

  * debian/patches/911_debian_XF86Config_to_XF86Config-4.diff: merge this
    (forgotten?) patch from the trunk and resync with 4.3.0 and current
    patches

  * Fix libxaa bug that could result in NULL pointers being passed to drivers,
    and thus complete machine death (thanks, Thomas Winischhofer).
    + debian/patches/000_stolen_from_HEAD.diff: new stanza, per Thomas

  * Address xlibmesa* package upgrade issues from woody and 4.2.1 packages in
    sarge/sid.
    + debian/scripts/vars.{alpha,i386,ia64,powerpc,sparc}:
        - add xlibmesa-dri to dependencies of x-window-system-core on
          architectures where xlibmesa-dri exists
        - add new variable, XLIBMESA_GL_SPECIAL_DEPENDS, which adds xlibmesa-dri
          to dependencies of xlibmesa on architectures where xlibmesa-dri exists
    + debian/rules:
        - pass expansion of XLIBMESA_GL_SPECIAL_DEPENDS to dpkg-gencontrol
        - report expansion of XLIBMESA_GL_SPECIAL_DEPENDS in "environment"
          target to aid debugging
    + debian/control:
        - change Architecture: of xlibmesa-dri from "any" to only those
          architectures which actually ship this package (alpha, i386, ia64,
          powerpc, sparc)
        - xlibmesa-dri conflicts/replaces xlibmesa3-gl and non-pseudo versions of
          xlibmesa3 (this was effectively a package split on 5 architectures)
        - tweak xlibmesa-dri's description to mention the Linux kernel
          specifically (poor unloved Hurd and *BSD folks get no respect, I tell
          you)
        - xlibmesa-gl conflicts/replaces xlibmesa3-gl and non-pseudo versions of
          xlibmesa3
        - xlibmesa-gl-dbg conflicts/replaces xlibmesa3-gl-dbg and non-psuedo
          versions of xlibmesa3-dbg
        - xlibmesa-gl-dev conflicts/replaces non-pseudo versions of xlibmesa-dev
        - update xlibmesa-gl-dev's description to refer to itself correctly
        - xlibmesa-glu conflicts/replaces xlibmesa3-glu and non-pseudo versions
          of xlibmesa3
        - xlibmesa-glu-dbg conflicts/replaces xlibmesa3-glu-dbg and non-psuedo
          versions of xlibmesa3-dbg
        - xlibmesa-glu-dev conflicts/replaces non-pseudo versions of xlibmesa-dev
        - update xlibmesa-glu-dev's description to refer to itself correctly
        - add xlibmesa3, xlibmesa3-dbg, and xlibmesa-dev pseudopackages (merged
          from trunk and updated) to smooth upgrades from woody
        - rename xlibmesa-drm-src to xlibmesa-drm-source, for consistency with
          other kernel module source packages, and make modules built with it
          depend on xlibmesa-dri (thanks, David B. Harris)
    + debian/local/xlibmesa-drm-source/debian/buildpkg
        - replace entirely bogus reference to /usr/src/modules/device3dfx

  * debian/xserver-xfree86.install.*: ship keyboard(4x) manpage (thanks,
    Michel Dänzer)

  * Grab all fixes to xf-4_3-branch since 4.3.0 was tagged.
    - debian/patches/000_post430.diff: fixes of interest include:
      + fix R300 PLL value (Enrik Berkhan)
      + Fix for possible buffer overflow in _XlcLocaleDirName().  privilegied
        binaries ignore the XLOCALEDIR environment variable and are not
        vulnerable.
      + Resync with the trunk's setjmp & libc5 changes.
      + Another setjmp fix
      + Fix typo that caused incorrect initialization of xkb memory (John
        Heasley).
      + int10 fix for all ix86 non-Linux systems (Marc La France).
      + Another int10 fix.  This time for adapters found at PCI:0:0:0.  This
        fix is particularly important for ZX1-based systems (Marc La France).
      + Fix bug in mode validation that occurs when the XF86Config doesn't
        specify any mode or virtual resolution information (Marc La France).
      + Now ShadowComposite correctly clips the refresh box. Fix server crash
        when using render outside of the visible screen with shadowfb.
      + fix XFree86ManVersionString in the case of a release.
      + Fix programming error in ix86 motherboard chipset determination
        (Marc La France).
      + Fix to prevent PCI and CardBus resets when switching out of the
        server's virtual console (Marc La France).
      + Fix infinite loop that occurs on systems whose PCI configuration space
        doesn't advertise a host bridge (Marc La France).  (Closes: #207460)
      + Workaround for broken devices that don't implement the header type
        field in their PCI configuration space (Marc La France).
      + Fix lockup on server reset in radeon driver (Michel Dänzer, Keith
        Whitwell).
      + Set Mesa hooks to flush vertices on state changes in Radeon 3D drivers
        (Keith Whitwell).
      + Check for NULL tObj in the i830 3D driver's TexEnv function.  This
        fixes a FlightGear crash (Keith Whitwell).
      + Fix double free bug when a Mac-specific font fails to load with
        Freetype.
      + Prevent a SIGFPE with the glint/pm3 driver when attempting to display
        an XVideo image less than 8 pixels wide (Måns Rullgård).
      + Fix a SEGV that can happen with Riva128 cards (Mark Vojkovich).
      + Fix SiliconMotion driver for mode switching and SEGV problem when
        initializing Xv functionality (Bugzilla #50, Alan Hourihane).
      + Fix a problem with savage driver when UseBIOS is off, such that the
        performance drops dramatically. Now the performance matches or
        exceeds that of the option UseBIOS (Alan Hourihane).
      + Typo fix in radeon driver cursor code, fixes the primary head
        switching off when the cursor moves to the secondary head on dualhead
        cards (Michel Dänzer)
      + i810/815 depth buffer needs to be a multiple of the tile size.  This
        fixes 3D corruption near the bottom of the screen at 800x600@16bpp
        (Bugzilla #283, Dave Airlie).
      + Fixed Imakefiles so the driver SDK builds again (Sven Luther).
      + Fix XDMCP queries when using getifaddrs() (Bugzilla #277, Joel Ray
        Holveck)
      + Fix repeated image problem when using a vesa video mode before
        starting the Xserver on the S3 Trio3D cards (Alan Hourihane).
      + Fix for a crash if a scalable font has a bitmap entry in fonts.dir
        (#5687, Bugzilla #332, Juliusz Chroboczek).
      + Fix for xfs crashes in Freetype backend (Bugzilla #242, Juliusz
        Chroboczek).
      + Pull twm fixes (signal handler, empty windows menu) from -current.
      + Fix calculation of CRTC2 frame offset with page flipping in radeon
        driver (Michel Daenzer)
      + Fix an XAA pixmap cache server crash that can happen in some cases
        when the off-screen memory is heavily fragmented (David Dawes, based
        on #5752, Koike Kazuhiko, Chisato Yamauchi).
      + Fixed a crash when _XIMProtoOpenIM(), hich is called through XOpenIM()
        API when protocol IM is being set up,  fails (Bugzilla #618, Hisashi
        MIYASHITA).
      + Don't call FBIOPAN_DISPLAY ioctl with arguments that will cause a
        confusing if harmless error (Michel Dänzer)
      + Fixes for potential integer overflows in font libraries. (blexim,
        Matthieu Herrb).
      + for integer overflow tests, use SIZE_MAX which is more standard than
        SIZE_T_MAX, and default to ULONG_MAX for the case of LP64 systems.
        Based on reports by Matthias Scheler and Alan Coopersmith (Bugzilla
        #646).
      + Many fixes to xdm:
        - use better pseudo-random generators to generate magic cookies,
          including EGD-like prng daemons support.
        - add support for LISTEN keyworkd in Xaccess
        - deal with small memory leaks
        - use SIOCGLIFCONF to query network interfaces where available
        - fix XDMCP bug that could cause localhost entries in /etc/X0.hosts
          to be lost
        - add xdm /dev/random handling for Solaris
        - fix XDMCP queries on systems using getifaddrs().
        (Alan Coopersmith, Marc La France, Oswald Buddenhagen, Matthieu Herrb,
        Nicolas JOLY, Jason L. Wright, Joel Ray Holveck).
      + SECURITY: not mentioned in the upstream commit message is a fix for
        CAN-2003-0690 (return value of pam_setcred() not checked, which could
        conceivably lead to privilege escalation in some configurations)
    - resynced:
      + debian/patches/000_stolen_from_HEAD.diff
      + debian/patches/000_stolen_from_HEAD_bsdsupport.diff
      + debian/patches/000_stolen_from_HEAD_doc_extensions_fix.diff
      + debian/patches/000_stolen_from_HEAD_int10.diff
      + debian/patches/000_stolen_from_HEAD_netbsd.diff
      + debian/patches/000_stolen_from_HEAD_nv_driver.diff
      + debian/patches/000_stolen_from_HEAD_sis_driver.diff
      + debian/patches/002_xdm_fixes.diff
      + debian/patches/003_linux.cf_and_xfree86.cf.diff
      + debian/patches/003a_damn_cpp_3.3_to_hell.diff
      + debian/patches/004_imake_manpage_handling_overhaul.diff
      + debian/patches/057_X11.tmpl_warning_fix.diff
      + debian/patches/058_external_XrenderXftXcursor_X11.tmpl.diff
      + debian/patches/061_savage_driver_1.1.27t.diff
      + debian/patches/068_fix_InstallAppDefFiles_screwage.diff
      + debian/patches/900_debian_config.diff
      + debian/patches/905_debian_xdm.diff
    - deleted:
      + debian/patches/000_xf-4.3-branch.diff
      + debian/patches/046_radeon_dualhead_cursor_crash.diff
      + debian/patches/047_radeon_r200_flush_vertices.diff
      + debian/patches/050_radeon_reset_no_lockup.diff
      + debian/patches/066_xdm_do_not_read_from_dev_mem.diff

  * debian/shlibs.local is a generated file, so we might as well generate it
    during the build process.
    - debian/shlibs.local: deleted from source package
    - debian/rules:
      + (clean): remove debian/shlibs.local
      + (debian/shlibs.local): new target
      + ($(STAMPDIR)/binary-arch): depends on debian/shlibs.local
      + ($(STAMPDIR)/binary-server): depends on debian/shlibs.local

  * debian/patches/063_fix_weak_deps.diff: fix weak shared object dependencies
    in libDPS and libDPSTK (Closes: #210651)

  * debian/patches/067_fix_X11_and_xdm_build_problems.diff: fix build
    failures; xc/lib/X11/Wrap.c and Wraphelp.c were being linked over from
    lib/Xdmcap but lib/Xdmcp/Wrap.h was not; same problem with xdm, plus
    identical problem with greeter's header files; also fix some problems with
    undeclared variables and pointer-to-integer comparison in genauth.c

  * debian/patches/068_fix_InstallAppDefFiles_screwage.diff: always define the
    Imake symbol "InstallAppDefFiles" to "YES" on Debian systems; shuts up an
    extremely annoying build-time warning

  * debian/patches/069_fix_ugly_r128_driver_warning.diff: fix an ugly
    diagnostic message which was also a multiline string literal

  * debian/po/ja.po: update Japanese translations (thanks, Kenshi Muto and
    Takeo Nakano)

  * debian/control: the XKB implementation in XFree86 4.3.0 has changed in a
    non-backward-compatible manner; update package relationships accordingly
    - xbase-clients conflicts with xlibs (<< 4.3.0) and xlibs-data (<< 4.3.0)
    - xlibs conflicts with xbase-clients (<< 4.3.0) and xlibs-data (<< 4.3.0)
    - xlibs-data conflicts with xbase-clients (<< 4.3.0)

  * Update xc/programs/Xserver/hw/xfree86/os-support/linux/lnx_video.c to
    latest version from upstream CVS HEAD to resolve severe performance
    problems caused by opening /dev/mem with the O_SYNC flag, per Egbert Eich.
    - debian/patches/000_stolen_from_HEAD_int10.diff: updated
    - debian/patches/021_riscpc_ioport_fix.diff: resynced (also improve error
      reporting when ioperm()/iopl() fail for reasons other then ENODEV)

  * The control file generated for xlibmesa-drm-module-* packages should
    include a "Source:" field.  (Closes: #212186)
    - debian/local/xlibmesa-drm-source/debian/control.m4

 -- Branden Robinson <branden@debian.org>  Mon, 22 Sep 2003 17:25:58 -0500

xfree86 (4.3.0-0pre1v1) experimental; urgency=low

  * new upstream release
    - XFree86 X server now supports ATI Radeon Mobility (Closes: #196810)
    - XFree86 X server now supports Intel i845G (Closes: #184322)
    - XFree86 X server now supports Intel i865G (Closes: #221686)
    - XFree86 X server now supports SiS 650, 651, and 740 (Closes: #183619)
    - XTerm allows window title reporting, disabled by default, to be enabled
      at the user's option via the allowWindowOps X resource (Closes: #200857)
    - Wacom driver has improved support for Graphire 2 tablets
      (Closes: #165849)
    - Wacom driver now supports absolute motion on Graphire tablets
      (Closes: #188842)
    - extraneous tokens at end of MakeSimpleDoc #ifdef in X11.tmpl removed
      (Closes: #196058)
    - XVideo supported at high resolutions on ATI Rage 128 Mobility LF
      (Closes: #176014)
    - Xinerama header file now usable by C++ code (Closes: #224757)
    - XFree86 X server has improved Xv support for ATI Radeon chipsets
      (Closes: #228408)
    - S3 driver now properly restores video mode on VT switch back to X on
      Trio 32/64 rev 67 (Closes: #164780)
    - ATI/Radeon driver now properly unblanks LCD on Radeon Mobility M7 LW rev
      0 (Closes: #169308)
    - Trident driver now works properly with TGUI 96xx rev 211
      (Closes: #170396)
    - xwd manpage no longer cross-references nonexistent xpr manpage
      (Closes: #104241)
    - SiS driver fixes distortion and cursor problems on 6326 rev 11
      (Closes: #195758)

  * Grab a number of documentation fixes from upstream CVS, including:
    + Lower-case file extensions, e.g. .ps instead of .PS.
    + New HTML and PostScript documentation (and PDF, seemingly).
    + A few manpage cleanups.  (Closes: #80404)
    [Daniel Stone]

  * Include patch for ATI RV280 chipset support.  (Closes: #211528)
    [Daniel Stone]
    - debian/patches/030b_radeon_rv280_support.diff

  * Update XTerm to upstream Patch #177.
    - debian/patches/000_stolen_from_HEAD_xterm_177.diff:
      + uxterm now recognizes locale modifiers (Closes: #179929)

  * Some things changed.  This release would not have been possible without
    the assistance of Daniel Stone (sponsored by Trinity College, Melbourne
    Uni) and ISHIKAWA Mutsumi.  A proper changelog entry for this release may
    not be possible even if God Himself grabbed my keyboard away from me.

  * converted package build process to use packaged version of DBS, courtesy
    of Warren Turkal
    - debian/control: build-depend on dbs
    - debian/rules: use DBS
    - debian/scripts/vars: DBS knows where the stampdir is
    - debian/setperms: no longer need to enforce permissions on local version of
        DBS
    - debian/{doogie-build-system,scripts/{fix.source.patch,patch.apply,
      patch.unapply,source.patch,source.unpack,unfix.source.patch}: deleted in
        favor of DBS

  * remove special-case logic in linux.cf that defined "HasLinuxInput" to
    "NO" for Mc68020Architecture:
    - m68k is now supported by the Linux 2.4.20 kernel (at least in
      Debian), so we let this symbol be defined to "YES" just like all the
      other architectures.  This only really affects the Wacom input driver
      and should not cause any regressions.  (thanks to James Troup for
      pointing out this no-longer-needed conditional)
    - patch #003 update

  * always disable FontLibSharedFreeType, ensuring similarity between normal
    XFree86 server and XFree86 debugging server:
    - patch #003 updated
    - this change should be dropped when the module-loading server can be
      linked against an external FreeType2 library          [ISHIKAWA Mutsumi]

  * Imake warning fix patch:
    - patch #057_X11.tmpl_warning_fix.diff: new             [ISHIKAWA Mutsumi]

  * Use external Xft, Xrender and Xcursor libraries:
    - patch #058, #059, #060: new
    - patch #909: remove (reimplemented as above patches)
    - xlibs{,-dbg,-dev}.*, shlibs*: drop Xrender and Xcursor related entry
    - debian/control: add Build-Depends: libxrender-dev, libxcursor-dev
                                                            [ISHIKAWA Mutsumi]

  * fix Xv regression in trident driver
    - #patch 000_stolen_from_HEAD: updated

  * new SiS driver, from XFree86 HEAD:
    - patch #000_stolen_from_HEAD_sis_driver: new
      + XVideo supported on SiS 630 (Closes: #186237)

  * new Savage driver (version 1.1.27t): patch #063.
    - driver supports ProSavage KM133 rev 3 (Closes: #110974)
    - xscreensaver's "blaster" and "critical" hacks no longer wedge system
      (Closes: #112703)
    - running xlock for a long time no longer hangs Savage/IX-MV rev 19
      (Closes: #115223)
    - switching to textmode VTs should work again on Savage/IX-MV rev 19
      (Closes: #117454)
    - system no longer freezes on server start when loading GLcore module on
      ProSavage PM133 rev 2 (Closes: #128125)
    - switching to textmode VTs should work again on Savage/MX-MV rev 17
      (Closes: #129216)
    - resolves SEGVs on Savage/MX-MV rev 17 (Closes: #145420)
    - resolves SEGVs when attempting to use Xinerama extension on Savage/MX-MV
      rev 17 (Closes: #148008)
    - resolves server crashes after suspending and resuming on Savage/IX-MV
      rev 19 (Closes: #152796)
    - includes code from 1.1.25t (Closes: #167910)
    - should fix flickering problems on Savage/IX-MV (Closes: #183300)
    - resolves system freezes while moving eterm windows in enlightenment
      (Closes: #185443)
    - should fix system hangs when gdm starts on ProSavage PM133
      (Closes: #191915)
    - resolves system freezes when drawing accelerated solid Bresenham lines
      on VIA/S3 ProSavage DDR-K (Closes: #194144)
    - resolves drawing problems with Savage/MX-MV rev 17 (Closes: #194351)
    - XVideo windows are no longer a non-working uniform blue
      (Closes: #197058)

  * eliminate TEXTREL section from libGL, making it PIC-compliant:
    - patch #062: new (Closes: #190323)

  * patch #063: new; fix weak library shared object dependencies
    - fix libGLU (Closes: #187365)
    - fix libXmuu, libXp, libXrandr (Closes: #187374)

  * xlibs-pic package renamed to xlibs-static-pic
    - reintegrate piclib_support.diff (previously patch #046, now patch #909)
    - all static-only libraries are now available in -fPIC varieties,
      including libXss (Closes: #185936)

  * fix DPMS-on-DVI for Radeon driver (Closes: #180938)
    - patch #048 updated with new patch from XFree86 Bugzilla, via Martin
      Loschwitz

  * Xft.man name conflict problem fix [ISHIKAWA Mutsumi]
    - patch #065: new
    - man page name under xc/lib/{Xft,Xft1}/Xft.man name space confliction fix,
      simply rename xc/lib/Xft1/Xft.man to xc/lib/Xft1/Xft1.man

  * patch #909: rework support for static libraries with PIC info; by default,
    only libraries without a shared version build static-PIC versions, and
    then only on systems where PIC info is not included in static ("normal")
    libraries by default (such as Debian)

  * xftcache related things cleanup [ISHIKAWA Mutsumi]
    - xftcache description dropped from debian/control.
    - use fc-cache instaed of xftcache in xfonts-scale.{postinst,postrm}

  * X-TT font engine update to X-TT 1.4.1 [ISHIKAWA Mutsumi]

  * debian/control:
    - Change all references to libstdc++5-dev to be
      libstdc++5-dev | libstdc++-dev, allowing libstdc++5-3.3-dev to satisfy
      the dependency, and thus allowing gcc3.2 to be removed.
      (Closes: #194136)

  * debian/xlibosmesa4-dbg.install: install the unstripped library in
    /usr/X11R6/lib/debug, not /usr/X11R6/lib

  * The xspecs package now contains HTML-formatted version of most X Window
    System technical documents.
    - debian/xspecs.docs

 -- Branden Robinson <branden@debian.org>  Thu, 26 Jun 2003 10:14:27 -0500

xfree86 (4.2.1-16) unstable; urgency=low

  * Neutralize the workaround for the Linux kernel kbd_rate structure change
    after it is no longer needed, so that we don't inadvertently re-#define a
    symbol used by the Linux kernel's kbd_repeat structure.  Yeesh.  Fixes
    FTBFS on SPARC (thanks, Daniel Jacobowitz and Nathanael Nerode!)
    (Closes: #220814)
    - debian/patches/098_fix_lnx_io_kbd_rate_fix.diff

  * Make xlibs's shlibs file report names of post-xlibs-split packages (and
    post-separate Xrender packaging) from experimental as alternatives to a
    versioned dependency on xlibs (requested by Daniel Stone).
    - debian/xlibs.shlibs
    - debian/shlibs.local: resync with xlibs.shlibs

 -- Branden Robinson <branden@debian.org>  Wed, 28 Jan 2004 11:51:38 -0500

xfree86 (4.2.1-15) unstable; urgency=medium

  * Urgency due to fix for FTBFS triggered by libfreetype6-dev package.

  * Fix corrupted error message text in check_symlinks_and_warn().
    (Closes: #220713)
    - debian/shell-lib.sh

  * Fix bogus invocation of "head" in xdm's configuration script.
    (Closes: #223038)
    - debian/xdm.config.in

  * Change maintainer scripts to never use safe_debconf() with db_get or
    db_metaget.  Instead, check the exit status of these commands normally
    with an if statement and only take the appropriate actions if the command
    succeeds.  For extra paranoia (in the event code is changed to live inside
    a loop in the future), clear variables we'll be filling with db_get or
    db_metaget output before using them.  (Closes: #217605)
    - debian/xdm.config.in
    - debian/xdm.postinst.in
    - debian/xdm.prerm.in
    - debian/xserver-common.config.in
    - debian/xserver-common.postinst.in

  * Don't make I/O permission and interrupt-related system calls meant for the
    x86 architecture on ARM machines (thanks, Peter Naulls).
    (Closes: #223567)
    - debian/patches/315_arm_fix_up_lnx_video_io_access.diff

  * Add aliases for more locale names supported by glibc 2.3.2 (thanks, Robert
    McQueen).  (Closes: #121900)
    - debian/patches/011a_recognize_glibc_2.3.2_locale_names.diff (renamed
      from debian/patches/011a_recognize_euro_modifier_locales.diff)

  * Ship the font encoding map for Microsoft Windows 3.1.  (Closes: #221773)
    - debian/patches/064_ship_microsoft_win3.1_encodings_file.diff
    - debian/MANIFEST.*: updated
    - debian/xfonts-base.install: ship new file in xfonts-base package

  * Do not include <freetype/freetype.h> directly; use the macro FT_FREETYPE_H
    to include it instead, as required by FreeType 2.1.7 (thanks, Tore
    Anderson).  Fixes FTBFS caused by new version of FreeType.
    - debian/patches/099b_Xft_FreeType_2.1.7_build_fix.diff

 -- Branden Robinson <branden@debian.org>  Wed, 17 Dec 2003 13:55:13 -0500

xfree86 (4.2.1-14) unstable; urgency=medium

  * Urgency due to fix for FTBFS triggered by linux-kernel-headers package.

  * Make libxaw6-dev and libxaw7-dev conflict with and replace libxaw-dev (<<
    4.0.3); the latter existed as a real package in pre-woody unstable, and
    this permits smooth upgrades from such systems.
    - debian/control

  * Update Catalan translations (thanks, Ivan Vilata i Balaguer).
    (Closes: #218788)
    - debian/po/ca.po

  * Make x-window-system-dev installable on architectures that do not ship the
    offscreen Mesa libraries.  Use the same technique as is used for populating
    x-window-system-core's dependencies on a per-architecture basis: define an
    architecture-specific Make variable, then use its value for a dpkg
    substvar.
    - debian/control
    - debian/rules
    - debian/scripts/vars.alpha
    - debian/scripts/vars.i386
    - debian/scripts/vars.ia64
    - debian/scripts/vars.powerpc
    - debian/scripts/vars.sparc

  * Fix building against 2.6.x kernel headers by adding '#define rate period'
    where needed; fixes FTBFS when linux-kernel-headers package installed.
    (Closes: #219714)
    - debian/patches/000_stolen_from_HEAD.diff

  * Recognize the ko_KR.EUC-KR locale (thanks, Denis Barbier).
    (Closes: #200256)
    - debian/patches/011b_recognize_ko_KR.EUC-KR_locale.diff

 -- Branden Robinson <branden@debian.org>  Wed, 12 Nov 2003 12:29:52 -0500

xfree86 (4.2.1-13) unstable; urgency=low

  * Acknowledge bug fixed in NMU.  Thanks, LaMont! (Closes: #213774)

  * Create new metapackage, x-window-system-dev, whose job it is to haul in
    all the -dbg and -dev packages (except for libxaw6, which is legacy stuff)
    as well as xspecs and xlibs-pic.  That's 14 packages already, and it will
    get much worse with the xlibs split in 4.3.0, so in my opinion a
    metapackage is warranted.  Drop xspecs from x-window-system metapackage,
    and clarify x-window-system's extended description.
    - debian/control

  * Add new entry to the Debian X FAQ: "I've customized my /etc/X11/X,
    /etc/X11/Xwrapper.config, and/or /etc/X11/XF86Config-4 files so the
    packages don't automatically update them anymore.  I'd like them
    automatically managed again, though; how can I achieve that?".
    - debian/local/FAQ

  * Update Russian translations (thanks, Ilgiz Kalmetev). (Closes: #214352)
    - debian/po/ru.po

  * Give uxterm another 10 points of update-alternatives priority.  In my own
    testing, at least, it seems to consistently do the right thing when
    presented with various locale settings in the environment.
    (Closes: #136470)
    - debian/xterm.postinst.in

  * Fix missing-word typo in Xsession.options(5) (thanks, Christian Garbs)
    (Closes: #214634)
    - debian/local/Xsession.options.5

  * Shell style cleanup: use integer (not string) comparisons on $?.
    - debian/xserver-common.config.in

  * Quote readlink subshell command in xbase-clients pre-installation script
    so that the test command doesn't fail in the case where readlink returns
    nothing.  (Closes: #214804)
    - debian/xbase-clients.preinst.in

  * Remove redundant test for the existence of the XFree86 X server
    configuration file from the xserver-xfree86 pre-installation script.
    - debian/xserver-xfree86.preinst.in

  * Fix font_update() to *really* ignore requests to run xftcache on the
    Speedo directory.  The previous attempt at a fix (in -12) was
    unsuccessful.  Thanks to "Jack.R" for his assistance and patience in
    tracking down the problem.  (Closes: #192138)
    - debian/shell-lib.sh

  * Remove obsolete xbase-clients.conffiles.s390 file whose execution was
    overlooked in the transition to let debhelper handle conffiles (4.2.1-7).
    - debian/xbase-clients.conffiles.s390: deleted

  * Update Danish translations (thanks, Morten Brix Pedersen).
    (Closes: #216448)
    - debian/po/da.po

  * Support commit/rollback of default display manager file.  In the config
    script, if the default is changed, move the file to a temporary location.
    In the postinst script (package configuration), remove the temporary file.
    In the postrm script, if package install or upgrade is being aborted,
    restore the temporary file to its original location.
    - debian/xdm.config.in
    - debian/xdm.postinst.in
    - debian/xdm.postrm.in

  * Don't tell the user that the selected default display manager (if it's not
    xdm) must be configured every time xdm's postinst runs.
    - debian/xdm.postinst.in

  * Perform further overhauls and robustification to shell-lib.sh.
    + reject_nondigits(),reject_whitespace(),reject_unlikely_path_chars(): new
      functions for validating shell function arguments and environment
      variables not under this file's control
    + message(),message_nonl(): call reject_nondigits to validate $COLUMNS
    + create more coherent functions for user communication; drop debugmsg()
      and errormsg(), and create three levels of communication: fatal errors,
      warnings, and chatter
      - observe(): used for any user communication that is not fairly
        important; not seen by default, but visible when the
        $DEBUG_XFREE86_PACKAGE variable is set in the environment to a non-null
        value; also someday when dpkg supports logging, we'll send these
        messages its way
      - warn(): new function, used for communicating important information
      - die(): new function, used for hideous death screams
    + internal_error(): renamed from internal_errormsg(); also identifies
      itself explicitly in output
    + usage_error(): renamed from usage_errormsg(); also identifies itself
      explicitly in output
    + maplink(): use internal_error() instead of internal_errormsg()
    + analyze_path(),find_culprits:
      - explicitly scope local variables and make them lowercase
      - call reject_whitespace() on arguments
    + readlink(): quote shell variable in internal Perl implementation
    + check_symlinks_and_warn(),check_symlinks_and_bomb:
      - use usage_error() instead of usage_errormsg()
      - use observe() instead of debugmsg()
      - use die() instead of message()
    + font_update():
      - explicitly scope local variables and make them lowercase
      - define a local variable to store the X font directory prefix
        (/usr/X11R6/lib/X11/fonts), as this may change in the future
      - call reject_unlikely_path_chars() on shell variables used
      - confirm that the font directory being operated exists before attempting
        operations on it
      - don't let failures of a font update command be fatal to the package; if
        a command fails, warn() about it instead
      - improve language of warnings issued when font update command not found
        or font directory does not exist
      - improve efficiency by using shell parameter expansion instead of
        basename utility
    + remove_conffile_prepare(),remove_conffile_commit(),
      remove_conffile_rollback(): use usage_error() instead of usage_errormsg()
    + remove_conffile_rollback(): correct self-reference in error message (cut
      and paste error)
    + safe_debconf():
      - use usage_error() instead of usage_errormsg()
      - use observe() instead of debugmsg()
    - debian/shell-lib.sh

  * Convert message()-using maintainer scripts to use the new
    observe()/warn()/die() approach.
    - debian/twm.preinst.in
    - debian/xbase-clients.postinst.in
    - debian/xdm.postinst.in
    - debian/xdm.postrm.in
    - debian/xdm.preinst.in
    - debian/xdm.prerm.in
    - debian/xfs.preinst.in
    - debian/xfree86-common.config.in
    - debian/xfree86-common.postinst.in
    - debian/xfree86-common.postrm.in
    - debian/xfree86-common.preinst.in
    - debian/xlibs.preinst.in
    - debian/xserver-common.config.in
    - debian/xserver-common.postinst.in
    - debian/xserver-common.preinst.in
    - debian/xserver-xfree86.config.in
    - debian/xserver-xfree86.postinst.in
    - debian/xserver-xfree86.preinst.in
    - debian/xserver-xfree86.prerm.in
    - debian/xutils.preinst.in

  * Make the xserver-xfree86 config script's debug_echo() function, which now
    wraps observe(), set DEBUG_XFREE86_PACKAGE when calling it so that the
    output is sure to be generated.
    - debian/xserver-xfree86.config.in

  * Add several new entries to the FAQ:
    + The X server log says there was an error and it's disabling DRI.  Is
      that why the X server won't start?
    + The X server log says there was an error opening my "core pointer" or
      the file /dev/input/mice.  Is that why the X server won't start?
    + The X server log says it's skipping modules due to "No symbols found"
      errors.  Is that why the X server won't start?
    + The X server log says "AddScreen/ScreenInit failed for driver 0".  Is
      that why the X server won't start?
    + How can I tell if it's the X server crashing, or my X session exiting
      abnormally?
    - debian/local/FAQ

  * Fix migration of configuration files from "debconf-managed" to
    conffile-style management, in that the Xwrapper.config and XF86Config-4
    files were marked as locally changed even if there were no changes outside
    the "debconf markers".  Detect this case by searching for lines outside
    that range which contain anything other than whitespace or comments, and
    if none are found, treat the config file as handled by the package
    ("automatic update mode").  This should eliminate some overly aggressive
    migrations to manual update mode, though people who made changes only
    within the debconf markers and didn't follow instructions may still be
    incorrectly placed in automatic mode (that's why copies of the old config
    files are made when migration is done).  Thanks to John R. Daily for
    bringing this scenario to my attention.  (Closes: #214604)
    - debian/xserver-common.preinst.in
    - debian/xserver-xfree86.preinst.in

  * Fix "priority ceiling" logic introduced in xserver-xfree86's config script
    in 4.2.1-10.  We can't just use shell parameter expansion tricks to
    accomplish this.  Implemented new function priority_ceil() which compares
    its argument, a debconf priority string, to the shell variable
    PRIORITY_CEILING, another debconf priority string, and returns the lesser
    of the two.  Thanks to Goswin Brederlow for identifying the precise cause
    of debconf question priority inflation of late.
    (partially addresses #207537)
    - debian/xserver-xfree86.config.in

  * Fix xdm to handle case where alternative X display managers do not provide
    a "daemon_name" debconf template (which is supposed to contain the file
    specification of the display manager daemon).  If that is true, assume
    that the package name of the display manager is also the name of the
    daemon executable, and try to find it with the "which" command.  If that
    fails as well, warn the user that we were unable to update the default X
    display manager file.
    - debian/xdm.postinst.in
    - debian/xdm.prerm.in

  * Add aliases to upstream locales.alias file for many locales using the
    "@euro" modifier and the ISO-8859-15 or UTF-8 character sets (thanks,
    Jean-Christophe Dubacq and Denis Barbier).  (Closes: #208137)
    - debian/patches/011a_recognize_euro_modifier_locales.diff: new

  * Ship unstripped versions of the Mesa DRI modules in the xlibmesa3-gl-dbg
    package, in the directory /usr/X11R6/lib/modules/dri/debug.
    - debian/xlibmesa3-gl-dbg.install.alpha
    - debian/xlibmesa3-gl-dbg.install.i386
    - debian/xlibmesa3-gl-dbg.install.ia64
    - debian/xlibmesa3-gl-dbg.install.powerpc
    - debian/xlibmesa3-gl-dbg.install.sparc
    - debian/control: document existence of unstripped modules and explain
      how to use them in xlibmesa3-gl-dbg's extended description

  * Fix long-standing thinko in xserver-xfree86's config script; test correct
    variable for nullity when deciding if mdetect didn't return anything for
    the mouse protocol (thanks, Daniel Barlow).  Also perform extra sanity
    check on mdetect output (we expect exactly 2 lines' worth), and do not set
    the question priority to low just because mdetect succeeds.
    (Closes: #216932)
    - debian/xserver-xfree86.config.in

  * Update security fix for xdm pam_setcred() vulnerability to match current
    upstream implementation in xf-4_3-branch, which now includes my patch to
    use pam_strerror().  This change is *not* a security fix.
    - debian/patches/000_stolen_from_HEAD.diff: updated
    - debian/patches/002_xdm_fixes.diff: resynced

  * Grab latest fixes to XAA (X Acceleration Architecture) from upstream CVS
    HEAD.
    - debian/patches/000_stolen_from_HEAD.diff: remove existing XaaPCache
      patch (moved to 000_stolen_from_HEAD_xaa.diff)
    - debian/patches/000_stolen_from_HEAD_xaa.diff: new;
      + (xc/programs/Xserver/hw/xfree86/xaa/xaaFillPoly.c): Fix a bug filling
        trapezoids in some obscure 8x8 pattern fill case. (Mark Vojkovich)
      + (xc/programs/Xserver/hw/xfree86/xaa/xaaPCache.c): Fix Color8x8 cache
        bug (pattern expanded from source) (Thomas Winischhofer)
      + (xc/programs/Xserver/hw/xfree86/xaa/xaaPict.c):
        - move existing XaaPCache patch (crash while off-screen memory heavily
          fragmented) to this patch
        - Warning fix (Alan Hourihane).
        - Change XAA to not sync when it sees RENDER operations that don't
          touch VRAM, and to try to accelerate Glyphs with Composite if it
          seems likely that will work (#5509, Nolan Leake).
        - Add missing tests for vtSema to xaa 'Picture' functions.  These
          missing checks caused strange behavior with some drivers when RENDER
          extension requests were made while X was switched away.  (Egbert
          Eich)
      + (xc/programs/Xserver/hw/xfree86/xaa/xaaStipple.c): Fix an XAA stipple
        bug that's been there for some 4+ years. (Mark Vojkovich)

  * Update Dutch translations (thanks, cobaco and the debian-l10n-dutch team).
    (Closes: #207837)
    - debian/po/nl.po

  * Run fc-cache on the font directories provided by xfonts-scalable when the
    package is configured, removed, purged, or disappeared.
    - debian/xfonts-scalable.postinst.in
    - debian/xfonts-scalable.postrm.in

  * Fix xdm's config script to not choke on multiword garbage in
    /etc/X11/default-display-manager, by quoting the argument to basename.
    Use grep with head to extract the first non-whitespace, non-comment line
    from the file.  If the result does not appear to be a command ("which"
    fails), observe() it.  (Closes: #217605)
    - debian/xdm.config.in

  * Improve efficiency of maintainer scripts and programs by using POSIX shell
    parameter expansion (instead of using command substitution to run basename
    on a shell variable argument).
    - debian/local/dexconf
    - debian/local/update-fonts-alias
    - debian/local/update-fonts-dir
    - debian/local/update-fonts-scale
    - debian/xserver-common.postinst.in
    - debian/xserver-common.postrm.in
    - debian/xserver-common.preinst.in
    - debian/xserver-xfree86.config.in
    - debian/xserver-xfree86.postinst.in
    - debian/xserver-xfree86.postrm.in
    - debian/xserver-xfree86.preinst.in
    - debian/xserver-xfree86.prerm.in

  * Have the remove_conffile_prepare(), remove_conffile_commit(), and
    remove_conffile_rollback() functions call observe() to report the actual
    actions performed.  Remove such uses of observe() in maintainer scripts.
    This way these observational messages are issued only when the system
    changes state, and not when a function that potentially does nothing is
    called.
    - debian/shell-lib.sh
    - debian/xdm.postinst.in
    - debian/xdm.postrm.in
    - debian/xdm.preinst.in
    - debian/xfree86-common.postinst.in
    - debian/xfree86-common.postrm.in
    - debian/xfree86-common.preinst.in

 -- Branden Robinson <branden@debian.org>  Mon, 27 Oct 2003 12:43:26 -0500

xfree86 (4.2.1-12.1) unstable; urgency=low

  * Fix typo in xlibs preinst.  Closes: #213774, #213776

 -- LaMont Jones <lamont@debian.org>  Thu,  2 Oct 2003 10:07:11 -0600

xfree86 (4.2.1-12) unstable; urgency=high

  * urgency high due to security fix for font service integer overflow attacks
    and xdm's failure to verify return value of pam_setcred() (see below)

  * debian/twm.menu-method: correctly escape doublequote characters in menu
    entry titles (thanks, Bill Allombert) (Closes: #193759)

  * debian/shell-lib.sh: font_update(): ignore requests to run xftcache on the
    Speedo directory; it segfaults under certain circumstances that have never
    been nailed down, and according to Juliusz Chrobocek, it's pointless to do
    this anyway since the Xft library (and FreeType behind it) do not
    understand Speedo-format fonts (Closes: #192138)

  * debian/xserver-xfree86.config.in: pre-set a reasonable default for users
    of the newport driver: depth 8 and resolution 1280x1024 (thanks, Bernhard
    R. Link) (Closes: #208500)

  * patch #097: new; add Bartosz Zapalowski's patch for supporting wheel mice
    with large numbers of buttons; the ZAxisMapping option "pushes up" the
    other buttons so that the mouse behaves sanely.  This addresses problems
    with how the X server parses wheel data from at least some devices that
    use the ExplorerPS/2 protocol. (Closes: #166550)

  * debian/control: remove build-dependency on libglide3-alpha-dev for alpha
    architecture and add alpha-specific build-dependency on libglide3-dev
    since Guillem Jover has merged the libglide3-alpha and libglide3 packages
    (Closes: #209142)

  * debian/control: xlibmesa3-gl now suggests the libglide3 package; updated
    extended description explains why (Closes: #119297)

  * debian/xserver-common.preinst.in: correct erroneous reference to debconf
    template name

  * patch #000_stolen_from_HEAD: SECURITY: backport fix from CVS HEAD
    + CAN-2003-0730 (multiple integer overflows in the font libraries for
                    XFree86 allow local or remote attackers to cause a denial
                    of service or execute arbitrary code via heap-based and
                    stack-based buffer overflow attacks)
    + Fix overflows in the test for integer overflows. Reported by Paul
      Anderson.

  * debian/xdm.prerm.in: clean up the old logic for deregistering the old
    xdm-greeter alternative to only do so if upgrading from versions of the
    package prior to 4.0.3 and that alternative is actually registered (see
    bug #164021 for a similar issue with another package)

  * debian/shell-lib.sh: various enhancements;
    - Use special abnormal exit codes so that problems with this library are
      more easily tracked down.
    - Abort if the variables $THIS_PACKAGE or $THIS_SCRIPT are not defined, so
      that we can do better error reporting.
    - errormsg(): report package and script name in error messages
    - internal_errormsg(): report package name, script name, and package
      version in error message; also, tell people about reportbug
    - usage_errormsg(): new; basically a version of internal_errormsg() that
      doesn't care if the package was an unofficial build or not
    - find_culprits(): exit with status $SHELL_LIB_THROWN_ERROR instead of 1
      when packages obstructing an upgrade are found
    - remove_conffile_prepare(), remove_conffile_commit(),
      remove_conffile_rollback(): new functions to handle the obsoletion of
      conffiles across upgrades; remove_conffile_prepare() can handle both old
      dpkg (pre-1.10) and new md5sum command behavior (Closes: #152920)
    - debugmsg(): new function to support debugging messages in the maintainer
      scripts
    - safe_debconf(): new function to run debconf confmodule commands
      defensively (but which we expect to succeed nevertheless)

  * debian/local/Xstartup: a bit of cleanup;
    - quote all shell variables
    - tighten up /etc/nologin conditionals to work the same but be less
      redundant
    - don't try to use xmessage if it's not in the path
    - don't display the /etc/nologin file if it is zero-length

  * Drop the /etc/X11/xdm/{Xreset,Xsetup} conffiles.
    - They can no longer cause problems with xconsole running on multiple
      servers.  (Closes: #128338)
    - debian/MANIFEST.*: drop files from MANIFEST
    - debian/local/xdm.README.Debian: stop mentioning no-longer-shipped
      Xreset and Xsetup conffiles
    - debian/local/xdm.options.5: update wording to reflect fact that Xreset
      and Xsetup are no longer part of the package
    - debian/local/xdm/{Xreset,Xsetup}: deleted
    - debian/xdm.install: drop files from package
    - debian/xdm.preinst.in: use remove_conffile_prepare()
    - debian/xdm.postinst.in: use remove_conffile_commit()
    - debian/xdm.postrm.in: use remove_conffile_rollback()

  * debian/xbase-clients.preinst.in: a bit of cleanup;
    - rewrite deregistration of obsolete ancient xconsole alternative to only
      take place on upgrades from extremely old installations, and fix up
      usage of update-alternatives (see #164021)
    - move workaround for bug #28519 into the main conditional block

  * Migrate existing obsolete-conffile handling to use new shell-lib.sh
    functions.
    - debian/{xfree86-common,xbase-clients}.preinst.in: use
      remove_conffile_prepare()
    - debian/{xfree86-common,xbase-clients}.postinst.in: use
      remove_conffile_commit()
    - debian/{xfree86-common,xbase-clients}.postrm.in: use
      remove_conffile_rollback()

  * debian/xterm.{preinst,postinst}.in: migrate removal of obsolete old xterm
    alternative to the package preinst script where it belongs

  * patch #000_stolen_from_HEAD:
    + Fix an XAA pixmap cache server crash that can happen in some cases
      when the off-screen memory is heavily fragmented. (Closes: #208804)

  * Improve fix for #191463 (fix hangs when threaded apps use XInput library),
    using the fix committed to upstream CVS HEAD after analysis by Bastien
    Nocera, Owen Taylor, and Egbert Eich.
    + patch #000_stolen_from_HEAD: in with the new
    + patch #095: out with the old (deleted)

  * Robustify xdm maintainer scripts.
    - debian/xdm.{config,preinst,postinst,prerm,postrm}.in:
      + improve comments
      + wrap bare db_* commands with safe_debconf()
      + quote shell variables where reasonable to do so
      + don't do things that depend on the value of $RET after a db_* if a
        null value doesn't make sense
      + add debugging messages for tracing of various operations
      + move repair of ancient malformed K* links in /etc/rc[016].d from
        postinst to preinst
    - debian/xdm.config.in:
      + debconf is not a registry; use the basename of the path listed in
        /etc/X11/default-display-manager as the default answer to the
        shared/default-x-display-manager question if it is available;
        otherwise fall back to existing value
      + uh, let's try defining the DEFAULT_DISPLAY_MANAGER_FILE variable since
        we dereference it
    - debian/xdm.postinst.in:
      + use HOST as our iterator variable when checking $DISPLAY instead of
        HOSTNAME, which is often already defined
      + discard error messages from hostname command
      + stop searching for a $DISPLAY on $HOST:0 once we've found one
    - debian/xdm.prerm.in:
      + don't attempt to find any children of the xdm daemon, and don't make
        any effort to stop it, if pidof doesn't report any xdm processes
        running

  * Robustify xfree86-common maintainer scripts.
    - debian/xfree86-common.{config,preinst,postinst,postrm}.in:
      + improve comments
      + remove long-commented-out fiddling with rgb.txt
      + convert informational messages to debugging messages
      + add debugging messages for tracing of various operations
      + move removal of long-obsoleted /etc/X11/window-managers file from
        postinst to preinst
    - debian/xfree86-common.config.in:
      + wrap bare db_* commands with safe_debconf()
    - debian/xfree86-common.preinst.in:
      + Stop removing /usr/doc/X11 and /usr/X11R6/lib/X11/doc symlinks; after
        taking a look at old xfree86 package releases (potato, slink, hamm),
        I've concluded that old packages get these symlinks out of the way
        adequately.  If the local admin wants to install symlinks here, it's
        no sweat off me.
      + conditionalize removal of long-obsoleted /etc/X11/window-managers file
        on upgrades/installs over xfree86-common 3.3.6-5
    - debian/xfree86-common.postrm.in:
      + use $THIS_PACKAGE to drive call to update-rc.d

  * Robustify xserver-common maintainer scripts.
    - debian/xserver-common.{config,preinst,postinst}.in:
      + convert informational messages to debugging messages
      + add debugging messages for tracing of various operations
      + wrap bare db_* commands with safe_debconf() (Closes: #209181)
    - debian/xserver-common.config.in:
      + stop using debconf as a registry; attempt to read variable settings
        from /etc/X11/Xwrapper.config back into the debconf database
      + allowed_users_english_to_actual(),allowed_users_actual_to_english():
        new functions to covert from debconf question terminology to config
        file terminology
      + validate_nice_value():
        + renamed from checkval()
        + use return code to indicate validity instead of $VALID
        + if upgrading from xserver-common prior to 4.0.1-6, scan old wrapper
          config file /etc/X11/Xserver for a default setting of allowed users
    - debian/xserver-common.preinst.in:
      + stop displacing /etc/X11/Xserver on upgrades from << 4.1.0-6

  * patch #000_stolen_from_HEAD: revert some problematic changes to XKB;
    + (xc/programs/xkbcomp/symbols.c):
       489. Fix an xkbcomp bug that prevents a later definition from
            specifying actions if the previous definition didn't (#5471, Joe
            Moss).
    + (xc/programs/xkbcomp/symbols.c,xc/lib/xkbfile/xkbmisc.c):
       * In XFree86 4.3, Latin base maps can have many three- and four-level
         keys.  Some of the keys should behave as 'alphabetic' keys (should
         depend on the CapsLock state) and others should be simple 'four level
         keys'.  To separate these two type of keys, people need to carefully
         specify a type for each key in a symbols map.  However, carelessness
         can can be worked around if xkbcomp itself guesses the type of key.
         This patch adds autodetection of four-level types in XKB symbols
         maps.
    + (xc/programs/xkbcomp/misc.c):
       * Xkbcomp has a check that prevents inclusion of the same partial map
         in an include statement in different single layout maps.  This made
         sense before the multilayout mechanism was added.  But now, it means
         a complete layout can't be composed from 'single layout' maps if the
         maps include the same file.  Thus, this check has ben removed.
    + (xc/lib/xkbfile/xkbtext.c):
       680. Correct problem when the server prints the name of a 'private
            xkb action' in a format that xkbcomp cannot understand, and was
            causing problems when calling XkbGetKeyboard (Ivan Pascal).
    + The above reversions should rectify some problems seen in 4.2.1-6.
      (See what happens when one contracts Ben Collins's Disease?)
      - xkbcomp chokes on XkbSymbols
        'en_US(pc105)+se(nodeadkeys)+ctrl(nocaps)+inet(logicordless)'
        (Closes: #182861)
      - xkbcomp cannot prepare XKB keymap for keycodes=tcv, symbols=tcv(basil)
        (Closes: #185605)
      - xkbcomp cannot prepare XKB keymap for 'ucw' Czech keyboard settings
        (Closes: #188050)
      - xkbcomp cannot load keymap with configuration
        xfree86/pc102/fi/nodeadkeys (stock XFree86 4.2.1 works)
        (Closes: #189298)

  * Kill off libxaw-dev virtual package per discussion on debian-devel mailing
    list.
    - debian/control:
      + libxaw6-dev now conflicts with and replaces libxaw7-dev instead of
        libxaw-dev
      + libxaw6-dev no longer provides libxaw-dev
      + libxaw7-dev now conflicts with and replaces libxaw6-dev instead of
        libxaw-dev
      + libxaw7-dev no longer provides libxaw-dev

  * The xserver-xfree86 package now suggests the libglide2 package for the
    benefit of 3Dfx Voodoo Graphics and Voodoo2 users.  (Closes: #211780)
    - debian/control: update Suggests and Description fields for
      xserver-xfree86

  * Smooth transitions from the Utah GLX packages' libGL and libGLU
    implementation to XFree86's version of the Mesa Project's libGL and libGLU
    libraries.  If the Utah GLX packages stop providing the libgl1 and
    libgl-dev packages (see #148718), these relationships will be necessary
    because the shared library packages provide libGL.so.1 and libGLU.so.1
    symbolic links in /usr/lib, and the development packages provide libGL.so
    and libGLU.so symbolic links in /usr/lib.  Also see #187365.
    - debian/control:
      + xlibmesa3-gl conflicts with and replaces libutahglx1
      + xlibmesa-gl-dev conflicts with and replaces libutahglx-dev
      + xlibmesa3-glu conflicts with and replaces libutahglx1
      + xlibmesa-glu-dev conflicts with and replaces libutahglx-dev

  * Get that old-time UTF-8 religion by recoding files from ISO-8859-1 to
    UTF-8.  (Also get right with Debian Policy version 3.6.0.)
    - debian/{copyright,changelog,changelog.Debian.old}: recoded with iconv

  * SECURITY: Fix for CAN-2003-0690; xdm did not verify the return value of
    the pam_setcred() function, which could allow attackers to gain root
    privileges by triggering error conditions within PAM modules, as
    demonstrated in certain configurations of the MIT pam_krb5 module.
    Fix backported from XFree86 CVS xf-4_3-branch: xdm now checks the return
    value of pam_setcred(), issues an error message if it is not zero, and
    treats this situation as an authentication failure.
    - debian/patches/000_stolen_from_HEAD.diff: added patch
    - debian/patches/002_xdm_fixes.diff: resynced offsets; update
      pam_setcred() patch to use pam_error and pam_strerror() when reporting
      problems

  * Ship empty /etc/X11/app-defaults directory in xlibs package so we do not
    ship a broken symlink, and provide a way for non-packaged
    app-defaults-using software to find the directory to which they should
    install their application defaults files.  (Closes: #191818)
    - debian/xlibs.dirs: new

  * Bump package's Standards-Version to 3.6.1; no changes necessary (the
    package maintainer scripts do no non-debconf-based prompting of the user).
    - debian/control: update source stanza

  * Further cleanups to XFree86's Mesa library package relationships.
    Essentially, these reflect the necessity of handling the following
    mappings of virtual package names to shared library symbolic links:
                        libgl1        /usr/lib/libGL.so.1
                        libgl-dev     /usr/lib/libGL.so
                        libglu1       /usr/lib/libGLU.so.1
                        libglu-dev    /usr/lib/libGLU.so
    - debian/control:
      + xlibmesa3-gl replaces libgl1 instead of mesag3 (mesag3 provided the
        libgl1 virtual package as far back as potato)
      + xlibmesa3-gl-dev replaces libgl1-dev instead of mesag-dev (mesag-dev
        provided the libgl-dev virtual package as far back as potato)
      + xlibmesa3-glu conflicts with and replaces mesag3 (<< 5.0.0-1) (prior
        versions of mesag3 shipped /usr/lib/libGLU.so.1)
      + xlibmesa3-glu replaces libglu1
      + xlibmesa3-glu-dev conflicts with and replaces mesag-dev (<< 5.0.0-1)
        (prior versions of mesag3 shipped /usr/lib/libGLU.so)

  * Remove extraneous line-continuation character in xserver-xfree86's
    post-installation script that caused the X server symlink (/etc/X11/X) to
    erroneously be placed in manual configuration mode on upgrades from the
    Old World Order (prior to 4.2.1-10).
    - debian/xserver-xfree86.preinst.in

  * Update xlibs's pre-installation script to clean up after a mess made by
    woody-era xlibs post-installation script: it used ln -sf instead of ln
    -nsf to create a symbolic link to a directory, which often had the result
    of creating a symlink "/etc/X11/app-defaults/app-defaults", which is bogus
    and stupid.  (Closes: #210980)
    - debian/xlibs.preinst.in

 -- Branden Robinson <branden@debian.org>  Tue, 30 Sep 2003 15:34:48 -0500

xfree86 (4.2.1-11) unstable; urgency=medium

  * urgency set to medium because bug #206790 bites a lot of people (but,
    contrary to most submitters' belief, not everyone), and #207305 really
    screws people trying to purge xserver-common and xserver-xfree86

  * debian/control: add gcc's epoch to versioned Build-Conflict on gcc-3.3
    (thanks, James Troup)

  * debian/local/Xsession{,.options}.5: further clarify the X session startup
    procedure in the manpages, per suggestion from Frank Murphy

  * debian/xserver-{common,xfree86}.postinst.in: do not attempt to
    create/update configuration file rosters if the path of the auxiliary
    directory exists but is not a directory; assume local admin cleverness

  * Add pt_BR.UTF-8 locale support (as something other than an alias for
    en_US.UTF-8) to Xlib; includes Compose file updates from Gustavo
    Noronha Silva. (Closes: #204148)
    - patch #096: new
    - debian/MANIFEST.*: list new files in /usr/X11R6/lib/X11/locale
    - debian/xlibs.install*: ship new files in /usr/X11R6/lib/X11/locale

  * debian/xserver-{common,xfree86}.preinst.in: rework migration logic:
    - create the configuration file auxiliary directory /var/lib/xfree86
      on all installs and upgrades if it doesn't already exist
      (Closes: #206790)
    - don't throw a warning if the path to the auxiliary directory exists but
      is not a directory; assume local admin cleverness
    - don't migrate a configuration file if its debconf region markers have
      been removed (Closes: #206524)
    - if installing (not upgrading) the package, place the non-conffile
      configuration files under automatic management, but only if they do not
      already exist (Closes: #207268)
    - when installing (not upgrading) xserver-xfree86*, point /etc/X11/X to
      the "true" executable which serves as the "unconfigured" default; the
      postinst updates the symlink for the debconf-indicated default X server

  * debian/rules: stop calling debconf2po-update, per Denis Barbier
    (Closes: #172579)

  * debian/po/pt_BR.po: updated Brazilian Portuguese translations (thanks,
    Andre Luis Lopes) (Closes: #206949)

  * debian/{xserver-common.templates,po/{*.po,templates.pot}}: fix silly typo
    in xserver-common/xwrapper/nice_value (thanks, Christian Perrier)
    (Closes: #206971)

  * debian/local/FAQ: remove bizarre garbage from file (thanks, Eloy Paris)
    (Closes: #207229)

  * Use $(tempfile -s ".xvfb-run") as the default X authority file, not
    $(pwd)/.Xauthority (based on a patch from Gerard Gorman -- thanks!).
    - debian/local/xvfb-run: implement
    - debian/local/xvfb-run.1: document

  * debian/xserver-{common,xfree86}.postrm.in:
    - fix horrendous paper-bag bug (failure to give fgrep a file to operate
      on, causing it to wait forever on standart input) that prevented
      xserver-common and xserver-xfree86 from being able to purge under some
      circumstances (thanks, Ingo Saitz) (Closes: #207305)
    - further robustify purge procedure; don't fail when there are no lines
      left in the roster file except the name of the package we're purging,
      and do not let cat spew noise to stderr if the temporary roster file
      does not get created

  * debian/po/fr.po: updated French translations (thanks, Christian Perrier)
    (Closes: #207239)

  * Backport support for new IA-64 relocation types from post-4.3.0 CVS
    HEAD (thanks, Matthew Wilcox). (Closes: #206929)
    - patch #000_stolen_from_HEAD: updated
    - patch #067: resync

  * debian/rules: don't try to install the XFree86.1x manpage as
    XFree86-debug.1x if the XFree86.1x manpage doesn't exist (it doesn't on
    architectures that don't build the XFree86 X server, like s390; fixes
    FTBFS on s390)

  * debian/xserver-xfree86.prerm.in: when removing the X server package
    providing the target of the X server symlink (and that symlink is still
    under automatic management), set the symlink target to the unconfigured
    default (the path of the "true" executable) and update the checksum; this
    ensures that an X server symlink under automatic management gets removed
    from the system when the last package managing it is purged

 -- Branden Robinson <branden@debian.org>  Thu, 28 Aug 2003 13:17:07 -0500

xfree86 (4.2.1-10) unstable; urgency=medium

  * patch #000_stolen_from_HEAD_xlib: fix for buffer overflow in
    _XlcLocaleDirName(); privileged binaries ignore the XLOCALEDIR
    environment variable and are not vulnerable (Closes: #201750)

  * debian/scripts/manifest-install-reconcile: new script to help keep
    MANIFEST and *.install* files in sync

  * debian/scripts/patch.{apply,unapply}: set LC_COLLATE=C to ensure that
    patches are applied in the correct order (Closes: #199838)

  * use manifest-install-reconcile script to find and fix several bugs in
    *.install* files:
    - xlibs-dev.install.{,netbsd-i386,s390}: ship several missing extension
      header files: XLbx.h, bigreqstr.h, extutil.h, mitmiscstr.h,
      multibufst.h, shapestr.h, shmstr.h, syncstr.h, xcmiscstr.h, xteststr.h
    - xserver-xfree86.install.hppa: ship tdfx manpage
    - xserver-xfree86.install.mips: ship XFree86 manpage
    - xserver-xfree86.install.mipsel: stop shipping ati manpage (fixes FTBFS);
      ship dmc, penmount, and r128 manpages (Closes: #199830)
    - xserver-xfree86.install.{sh3,sh4}: ship citron manpage
    - xserver-xfree86.install.sparc: ship calcomp, dmc, hyperpen, and penmount
      drivers
    - xutils.install{,.powerpc}: ship darwinLib.{rules,tmpl} Imake
      configuration files
    - xutils.install.arm: ship luit and scanpci programs, their manpages, and
      darwinLib.{rules,tmpl} Imake configuration files
    - xutils.install.{m68k,s390}: ship luit program, its manpage, and
      darwinLib.{rules,tmpl} Imake configuration files

  * debian/control: bump Standards-Version to 3.6.0

  * debian/xserver-xfree86-dbg.install: install the XFree86(1x) manpage as
    XFree86-debug(1x) in this package; cannot use a symlink because
    xserver-xfree86-dbg does not depend on xserver-xfree86 (recommends it
    instead), and dangling manpage symlinks are extremely annoying

  * debian/{xbase-clients,xdm,xprt}.links: remove links to undocumented
    manpage; that practice is no longer countenanced by Debian Policy

  * debian/{xdm,xfs}.{posinst,postrm,prerm}.in: use $THIS_PACKAGE variable to
    drive calls to update-rc.d and invoke-rc.d

  * debian/xfree86-common.postinst.in: don't use $THIS_PACKAGE to construct
    the path to the init script; this confuses lintian, triggering several
    spurious warnings and errors

  * debian/po/fr.po: update French debconf template translations (thanks,
    Christian Perrier) (Closes: #203470)

  * debian/xterm.postinst.in: only remove the obsolete old xterm alternative
    if it is in fact registered; this shouldn't be necessary, but
    update-alternatives is buggy, easily confused, and prone to wreak random
    havoc (based on a patch by Eduard Bloch -- thanks!) (Closes: #164021)

  * Fix my misunderstanding of how to use dh_install.
    - debian/{libdps1-dbg.install,libxaw6-dbg.install,libxaw7-dbg.install,
      xlibmesa3-gl-dbg.install,xlibmesa3-glu-dbg.install,
      xlibosmesa3-dbg.install,xlibs-dbg.install}: destinations should be
      directories, not filenames (Closes: #201586)
    - rules: install the XFree86(1x) manpage as XFree86-debug(1x) in the
      xserver-xfree86-dbg package

  * debian/rules: update list of packages not to strip to reflect
    xlibmesa3-dbg's split into xlibmesa3-gl-dbg and xlibmesa-glu-dbg

  * debian/xserver-xfree86.config.in: explicitly assume the number of
    autodetected video cards, corresponding X servers and drivers are zero,
    and that the user does not have a multihead config; and do not let
    discover trick wc into interpreting a blank line as a detected video card
    (based on a patch by Nikita V. Youshchenko -- thanks!) (Closes: #195418)

  * Be cognizant of different scheduling behavior in Linux >= 2.5.
    - debian/xserver-common.config.in: if the user is running Linux > 2.5 at
      the time this package is configured for the first time, set the default
      nice value to 0 instead of -10
    - debian/xserver-common.templates: advise users of Linux with O(1)
      scheduler to use a nice value of zero; also, remove the default setting
      for the corresponding template so that a default is set only by the
      config script

  * debian/local/xserver-wrapper.c: chdir() to the directory where the X
    server symlink is kept before executing its target, so that relative
    symlinks work (Closes: #138195)

  * debian/local/dexconf: write out non-standard modelines built-in to the
    XFree86 4.x server to XF86Config files for XFree86 3.x servers

  * debian/local/{Xsession,Xsession.d/*}: fix X session handling bug when a
    specific program is handed to the /etc/X11/Xsession script where that
    program would get ignored in favor of a user's $HOME/.[Xx]session file;
    while I was at it, fixed a lot of confusing variable names that led to
    this logic error in the first place, and add some explanatory comments to
    the elaborate fallback procedure, though this duplicates the content of
    Xsession(5) (based on a patch by Frank Murphy -- thanks!)
    (Closes: #195845)

  * debian/xserver-xfree86.config.in: also issue debugging output if the
    DEBCONF_DEBUG environment variable is set to a non-null value, and prefix
    debugging messages with a proper identifier of what is issuing them rather
    than the relatively unhelpful "DEBUG:"

  * Help people find the X Strike Force on the web:
    - debian/local/README.Debian-upgrade: provide the X Strike Force's URL
      (Closes: #203460)
    - debian/local/FAQ: update the X Strike Force's URL

  * debian/local/Xsession.options.5: fix missing-word typo

  * debian/local/*.[0-9]: "I SEE UNESCAPED HYPHENS!"; update all
    Debian-authored manpages to properly escape ASCII 45 ("-", "HYPHEN-MINUS")
    characters so that groff interprets them as dashes instead of hyphens
    (they're actually used as dashes, so that's what we should be telling
    groff they are, eh?)

  * debian/local/*: update all GNU GPL copyright boilerplates to be consisent
    (have correct address for the FSF; refer people to
    /usr/share/common-licenses/GPL; tweak the noses of the Hurd-haters by
    saying "the Debian operating system" instead of "the Debian GNU/Linux
    system", and so forth)

  * debian/local/FAQ: add new question by Colin Walters; "Why am I not able to
    run "startx" as a non-root user?" (thanks, Colin!) (Closes: #149482)

  * debian/local/FAQ: add more information about left-handed mouse use for gpm
    users, courtesy of Osamu Aoki (Closes: #181579)

  * xserver-common's postinst script no longer needs to ensure sanity of the X
    server's socket directory since xfree86-common's init script does that
    now.
    - debian/control: increment xserver-common's versioned dependency on
      xfree86-common from (>> 4.2) to (>= 4.2.1-5) so we can rely on its init
      script to handle the server's socket directory for us
    - debian/xserver-common.postinst.in: stop manipulating X server socket
      directory

  * Migrate away from the hated-and-reviled "manage <file> with debconf?"
    technique of handling the /etc/X11/X, /etc/X11/XF86Config-4, and
    /etc/X11/Xwrapper.config non-conffile configuration file, and to a
    proto-ucf style of handling:
    - debian/xserver-common.templates: drop the
      xserver-common/manage_config_with_debconf and
      xserver-common/move_existing_nondebconf_config templates
    - debian/xserver-common.config.in: stop asking the now-deleted questions
      and stop manipulating files based on the answers
    - debian/xserver-common.preinst.in: when upgrading from xserver-common <
      4.2.1-10, check value of xserver-common/manage_config_with_debconf; if
      it is true; attempt to back up and store md5sum of existing
      Xwrapper.config file in /var/lib/xfree86; unregister the now-deleted
      questions
    - debian/xserver-common.postinst.in: automatically update the
      Xwrapper.config file (based on the values of the debconf templates) if
      and only if:
      + the file exists;
      + the MD5 checksum file exists;
      + the MD5 checksum of the current version of the file matches the
        stored checksum (indicating that the file hasn't changed since we last
        touched it); and
      + the newly written file actually differs from the existing one
    - debian/xserver-common.postrm.in: on purge, remove the Xwrapper.config
      checksum file; remove Xwrapper.config as well, but only if it matches
      the stored checksum; remove parent directories of conffiles and
      configuration files if possible
    - debian/xserver-xfree86.templates: drop the
      shared/clobber_x-server_symlink,
      xserver-xfree86/manage_config_with_debconf, and
      xserver-xfree86/move_existing_nondebconf_config templates
    - debian/xserver-xfree86.config.in:
      + stop asking the now-delted questions and stop manipulating files based
        on the answers
      + cap question priorities at medium if the configuration file we'd write
        based on the answers already exists (i.e., assume existing defaults
        are "reasonable" per debconf(7))
    - debian/xserver-xfree86.preinst.in: when upgrading from xserver-xfree86
      < 4.2.1-10, check value of shared/default-x-server and if it is
      set to the current package, and the target of the symlink is the server
      provided by this package, attempt to store md5sum of symlink target's
      pathname in /var/lib/xfree86; check value of
      xserver-xfree86/manage_config_with_debconf and if it is true, attempt to
      store md5sum of existing XF86Config-4 in /var/lib/xfree86; unregister
      the now-deleted questions
    - debian/xserver-xfree86.postinst.in: automatically update the /etc/X11/X
      symlink and XF86Config-4 file if and only if:
      + the file exists;
      + the MD5 checksum file exists;
      + the MD5 checksum of the current version of the file matches the
        stored checksum (indicating that the file hasn't changed since we last
        touched it); and
      + the newly written file actually differs from the existing one
    - debian/xserver-xfree86.postrm.in: on purge, remove the /etc/X11/X
      symlink and XF86Config-4 file checksums; remove the files themselves if
      they match the stored checksum; remove parent directories of conffiles
      and configuration files if possible
    - debian/local/FAQ:
      + new question: "How do the XFree86 packages manage their non-conffile
        configuration files like /etc/X11/X, /etc/X11/Xwrapper.config, and
        /etc/X11/XF86Config-4?"
      + updated question: "How do I add custom sections to a dexconf-generated
        XF86Config or XF86Config-4 file?"
    - debian/local/dexconf:
      + support new option -f | --format, which writes XF86Config file in
        selected format (XFree86 3.x or 4.x)
      + use getopt(1) for option handling
      + update comment header when writing 4.x format configuration files to
        reflect the new scheme of things
      + only mess with "DEBCONF SECTION" stuff if writing a 3.x format
        configuration file
    - debian/local/dexconf.1:
      + document new behavior
      + update "FUTURE DIRECTIONS" section
    - debian/local/dexlet/main.py: only mess with the obsolete debconf
      templates when configuring an XFree86 3.x X server
    - debian/control: for xserver-xfree86 and xserver-xfree86-dbg, tighten the
      versioning of the dependency on xserver-common to (>= 4.2.1-10); these
      packages' postinst scripts use functionality that was broken in earlier
      versions of dexconf

  * Add technique for deciding when to purge non-conffile configuration files;
    maintain a roster file corresponding to the config file, for which each
    interested package adds its name on package configuration, and removes it
    on package purge.
    - debian/xserver-{common,xfree86}.postinst.in: if the roster file for each
      non-conffile config file doesn't already list this package on
      configuration, add it to the roster
    - debian/xserver-{common,xfree86}.postrm.in: on purge, remove this
      package's name from each non-conffile config file's roster file (if that
      leaves no packages managing a config file, look for a stored MD5
      checksum of the config file; if that matches the current config file,
      remove the config file; finally, remove the checksum file)

  * debian/xserver-{common,xfree86}.config.in: input validation errors in the
    package config scripts are now presented with "critical" priority

  * New workaround for optimized-code-generation bug in early versions of GCC
    3.3.
    - debian/control: add build-conflict with gcc-3.3 (<< 3.3.2-0pre1)
      (rationale: not using a versioned build-depends because the code
      generation bug is limited to packages of GCC 3.3 prior to that version,
      and there's no reason this package can't be built with GCC 3.2, for
      example)
    - debian/rules: revert kludge that forced optimization level to -O

  * debian/{xdm.{config,postinst,prerm}.in,xfree86-common.{config,postinst}.in,
    xserver-common.{config,postinst,preinst}.in},
    xserver-xfree86.{config,postinst,prerm},local/dexconf: be sure to source
    the debconf confmodule *before* setting any variables local to the
    maintainer script; the way confmodule works causes the values of any
    unexported variables already set to be lost (I tremble at how many subtle
    bugs and how much wacky behavior must have been caused by this).  Thanks
    to Eduard Bloch for noticing odd dexconf behavior which led me to this
    realization.

  * Perform log rotation on xdm's log file. (Closes: #200699)
    - debian/rules: invoke dh_installlogrotate in binary-arch target
    - debian/xdm.logrotate: new; log rotation policy file (thanks, Matt Swift)

  * debian/po/*: update templates.pot and *.po files to reflect changes to
    debconf templates

  * debian/patches/002_xdm_fixes.diff: in auth.c:openFiles(), check the return
    value of fopen() so that we don't SEGV when setting up an X authority file
    in /tmp because we couldn't write one in $HOME (based on a patch by Neil
    Brown -- thanks!) (Closes: #206141)

 -- Branden Robinson <branden@debian.org>  Tue, 19 Aug 2003 22:58:08 -0500

xfree86 (4.2.1-9) unstable; urgency=high

  * urgency due to xterm security fixes; see below

  * patch #001b: remove special-case logic in linux.cf that defined
    "HasLinuxInput" to "NO" for Mc68020Architecture; m68k is now supported by
    the Linux 2.4.20 kernel (at least in Debian), so we let this symbol be
    defined to "YES" just like all the other architectures.  This only really
    affects the Wacom input driver and should not cause any regressions.
    (thanks to James Troup for pointing out this no-longer-needed conditional)

  * build and ship more static-PIC versions of libraries; Xau (for xcb) and
    xf86misc (for xfce4)
    - patch #046: updated
    - debian/{MANIFEST,xlibs-pic.install}.*: add libXau_pic.a,
      libXxf86misc_pic.a
    - debian/control: update xlibs-pic's extended description

  * patch #093: new; SECURITY: disable xterm's window title reporting to work
    around potentially malicious text being spewed to terminal window
    <http://cve.mitre.org/cgi-bin/cvename.cgi?name=CAN-2003-0063>

  * patch #094: new; SECURITY: fix for xterm DoS attack; malformed DEC UDK
    escape sequences can lock the terminal window
    <http://cve.mitre.org/cgi-bin/cvename.cgi?name=CAN-2003-0071>

  * patch #095: new; fix hangs when threaded apps use XInput library
    (Closes: #191463)

  * debian/control: move xlibs-pic from section devel to section libdevel
    (syncrhonize with Debian archive override file)
  * debian/rules: replace presently-useless $(DEBUGFLAGS) variable in
    $(SERVERDEBUG_IMAKE_DEFINES) with -DDefaultGcc2OptimizeOpt=-O0 to turn off
    optimiziation when compiling the debugging XFree86 X server
  * debian/xserver-xfree86.install.arm: get this file up to date:
    - stop shipping things that aren't built for this arch: imstt_drv, libafb,
      imstt manpage
    - start shipping more things that are built for this arch: nv_drv, s3_drv,
      calcomp_drv, dmc_drv, hyperpen_drv, penmount_drv, dmc manpage, nv
      manpage, penmount manpage
    - tdfx driver name corrected to tdfx_drv

 -- Branden Robinson <branden@debian.org>  Thu, 26 Jun 2003 14:28:34 -0500

xfree86 (4.2.1-8) unstable; urgency=high

  * the "you're damn right I'm bitter" release

  * Release urgency due to 2 factors:
    - the motivation for 4.2.1-7 wasn't actually fulfilled because of an error
      on my part (see change to debian/xlibs-pic.install* below) (KDE
      maintainer(s), you want this)
    - GCC 3.3 miscompiles XDM-AUTHORIZATION-1 key generation and/or validation
      routines at optimization level -O2 on more than just PowerPC; this hits
      i386 as well.  Also, GCC 3.3 ICEs at -O2 on ARM, but not (reportedly) at
      -O.  Therefore all of XFree86 is being stepped down to -O for all
      architectures.  I'm loving the Brave New World of regressions that GCC
      3.3 is bringing us -- isn't it good all of them were stopped dead in
      their tracks before release thanks to the rigorous testing gcc-snapshot
      buys us?
    - Urgency also high because people apparently do not know how to use the
      Debian Bug Tracking System, and keep reporting the XDM-AUTHORIZATION-1
      breakage over and over again.  And again.  And again.  And again.  And
      again.  And again.  And again.  And again.  And again.  And again.  And
      again.  And again.  And again.  And again.  And again.  And again.  And
      again.  And again.  And again.  And again.  And again.  And again.  So,
      just keep doing that, folks -- the more time I spend triaging redundant
      reports, the less time I have to spend packaging XFree86 4.3.0.

  * debian/control:
    - move all "real" -dev and -dbg packages from section devel to section
      libdevel (syncrhonize with Debian archive override file)
    - set priority of xserver-xfree86-dbg to extra
    - move xlibmesa3{,-dev,-dbg} pseudopackages to oldlibs
    - add virtual alternative libstdc++-dev to build dependency on
      libstdc++5-dev; it's up to the build-essential package to enforce the
      version of the C++ compiler used, and up to the administrator of the
      build environment to ensure he/she has the correct libstdc++-dev package
      installed
    - add virtual alternative libstdc++-dev to xlibmesa3-glu-dev's
      dependency on libstdc++5-dev; same reasoning as above item
      (Closes: #194136)
    - xutils depends on cpp-3.2, because imake uses cpp (thanks, James Troup)
      (Closes: #196176)
    - slight clarifications to xserver-xfree86, x-window-system-core, and
      x-window-system package descriptions
  * debian/rules: step compile optimization level down to -O from
    Policy-required -O2 for all architectures, not just powerpc, due to GCC
    3.3 issues (see Debian bugs #195424,#196554,#196575,#196621, etc.)
  * debian/xlibs-pic.install*: sigh; add usr/X11R6/lib/libxkbfile_pic.a so
    that it's actually shipped in the package -- both LaMont and I overlooked
    this subtle detail :-P
  * debian/{xdm.postinst.in,xdm.prerm.in,xfree86-common.postinst.in,
    xfs.postinst.in,xfs.prerm.in}: use invoke-rc.d to execute init scripts
    rather than using the absolute path of the init script itself
  * debian/local/Xsession: if $DISPLAY is set and the xmessage command is
    present, also use xmessage to create a dialog box for the message being
    reported (based on a patch by Petter Reinholdtsen) (Closes: #179904)
  * debian/local/Xsession.5: document Xsession's new behavior

 -- Branden Robinson <branden@debian.org>  Sun,  8 Jun 2003 22:55:16 -0500

xfree86 (4.2.1-7) unstable; urgency=medium

  * The "plans change" release; recently it had not been my intention to
    release another revision of 4.2.1 at all, but LaMont Jones persuaded me to
    due to problems building KDE on some architectures due to the absence of a
    libxkbfile_pic.a file.  This release also fixes several outstanding
    issues, of course.

  * RELEASE NOTE: I expect this release to continue to have Int10 problems on
    the IA-64 architecture, and for the Radeon 3D acceleration to continue to
    be broken due to GCC 3.2 issues.  XFree86 4.3.0 should resolve these
    issues, and packaging of XFree86 4.3.0 is underway; please see
    <http://lists.debian.org/debian-x/> for more information.

  * patch #000_stolen_from_HEAD:
    (xc/lib/Xrender/{Glyph.c,Xrenderint.h}):
      + Render uses int for 32 bits; Xlib uses long. This matters on Alpha.
        (Keith Packard)
    (xc/lib/Xrender/Glyph.c):
      + XRenderFreeGlyphs wasn't sending the glyphset. (Keith Packard)
      + CompositeGlyphs functions were re-using overwritten data and trashing
        the output buffer. (Keith Packard)
      + CompositeText{8,16,32} weren't switching glyphsets at the right time.
        (Keith Packard) (Closes: #181815)
      + Was miscomputing request length for String16 and String32.  (Keith
        Packard)
    (xc/lib/Xrender/Xrender.c):
      + Skip unexpected data in QueryFormats.  Deal with broken X servers a bit
        better. (Keith Packard)
    (xc/programs/Xserver/hw/xfree86/drivers/i810/i830_driver.c):
      Workaround for BIOSes which force 1MB stolen memory, and agpgart related
      fix (#5300, Abraham vd Merwe). (Closes: #168469)

  * patch #000_stolen_from_HEAD_ati_driver:
    (xc/programs/Xserver/hw/xfree86/drivers/ati/r128_dri.c): Second stage of
      mesa-4 merge.  (Not a very useful commit message; fixes hardware scissor
      handling when VT switching with DRI enabled.) (Closes: #185057)

  * patch #000_stolen_from_HEAD_savage_driver:
    + (savage_video): Remove whitespace in front of pre-processor directives
      (Marc La France)
    + (savage_cursor.c,savage_dga.c,savage_driver.c,savage_driver.h):
      - Fixed VBE EDID read: due to a missing register setting read ended in
        endless loop on certain systems (Egbert Eich).
      - Savage driver: disable HW cursor on stretched LCD displays, let
        SaveScreen and DGA test if HW cursor is on before disabling/reenabling
        it (Egbert Eich).
    + (savage_driver.c):
       - Initializing clock ranges in several drivers to get rid of the
         annoying 'scaled from 0.0 MHz' message in xf86PrintModes() (Egbert
         Eich).
       - fixed typo in savage driver (Egbert Eich)
       - Reinstate the VBEInit() call in the savage driver's PreInit().  This
         appears to fix a problem on some Savage MX platforms (#5649, Mike
         Harris). (Closes: #182788)

  * patch #000_stolen_from_HEAD_xman:
    + (buttons.c, handler.c):
        * Initialize structure field man_globals->search_widget to NULL in xman
          code, the help message states that pressing Ctrl+S in the help window
          has no effect, but in some cases it would crash xman.  (Paulo César
          Pereira de Andrade)
    + (man.c):
        * Fix compiler warning. (Torrey T. Lyons)

  * patch #000_stolen_from_HEAD_xtt:
    + (xttfuncs.c): removed extraneous hunk of patch that grabbed change to
      font renderer registration, for which the support code hasn't been
      backported (Closes: #182687)
    + (xttcconv.c): Fix an "xtt" font backend module crash that shows up on
      Linux/PPC, related to an invalid code converter module being loaded
      because of a broken string comparison in xttconv.c (#A.1647, Chisato
      Yamauchi, Daisuke MASATSUNA). (Closes: #182835)

  * patch #001a: #define CppCmd as "cpp-3.2" in gnu.cf; same for linux.cf when
    using a Debian system
  * patch #024,451: resynced with #000_stolen_from_HEAD_ati_driver
  * patch #032: uh, actually define a ComplexCplusplusProgramTargetNoMan()
    rule, instead of redefining ComplexCplusplusProgramTarget() (thanks, Colin
    Watson) (Closes: #186321)
  * patch #046: updated to create static PIC version of libxkbfile.a as well;
    fixes FTBFS of certain KDE packages (thanks, LaMont Jones)
  * patch #049: new; remove duplicate XShmGetEventBase() prototype from XShm.h
    (Closes: #182727)
  * patch #052: new; have Xinerama header file #include Xlib header file,
    since it references the Display structure (thanks, Xavier Bestel)
    (Closes: #145740)
  * patch #053: new; patch from Lobos Lunak via Adrian Bunk to fix memory leak
    in Xlib's _XTextPropertyToTextList() function (Closes: #184817)
  * patch #078: new; apply part of an xterm patch that was applied and
    reverted long ago: set window size from xterm instead of child process to
    avoid race condition with resize. (Keith Packard) (Closes: #39964)
  * patch #084: new; fix typo in patch to XF86Config.man
  * patch #910: new; change X server's "can't find default font" and "can't
    find cursor font" error messages to whack users with a big fat clue

  * debian/MANIFEST.*: updated to reflect new libxkbfile_pic.a object
  * debian/*.conffiles: deleted; generation of these files is now handled
    automatically by dh_installdeb when DH_COMPAT >= 4
  * debian/*.debugfiles: renamed to *.install
  * debian/{local/update-fonts-{dir,scale}},rules,xserver-common.postinst.in,
    xserver-xfree86.config.in}: invoke head, tail, and diff commands in a
    POSIXly correct fashion (thanks, Paul Eggert) (Closes: #191669)
  * debian/compat: new file, implementing debhelper recommended best practice
    for setting compatibility level; compat-level bumped from 2 to 4: this
    means that, among other things, dh_installdeb creates DEBIAN/conffiles
    files for me, ensuring they stay in sync with what is shipped
    (Closes: #182505)
  * debian/control:
    - bump Standards-Version from 3.5.7 to 3.5.10 (no changes required)
    - Build-Depend on flex-old instead of flex, since flex recently broke
      backwards compatibility (fixes FTBFS on any box with a recent flex)
    - Build-Depend on cpp-3.2; xbase-clients and xdm now Depend on cpp-3.2
      instead of just cpp, since cpp-3.3 doesn't produce correct output (as
      far as XFree86 is concerned) when the "-traditional" flag is used
      ("-traditional-cpp" doesn't work, either).
    - minor tweak to xserver-xfree86's extended description
  * debian/local/FAQ:
    - removed reference to XFree86 FAQ; in the words of upstream
      <URL:http://www.xfree86.org/FAQ/>, "The old XFree86 FAQ has been removed
      because it is too out of date to be useful."
    - added new question: "I just upgraded the X server and it doesn't work;
      also, I'm using Matrox's proprietary "mga_hal" driver module or NVidia's
      proprietary "nvidia" driver module; what's going on?"
    - added new question: "I'm using a Macintosh, and while the keyboard works
      correctly on a virtual terminal, in X it's all messed up.  What's the
      matter?"
    - added new question, courtesy of Matthew Arnison: "Why do some programs
      give authorization errors even when they are running as the same user
      and on the same machine as the X server?"
  * debian/local/XFree86-FAQ.html: deleted; see above
  * debian/local/update-fonts-scale: only write fonts to the .scale file that
    actually exist, so that removed-but-not-purged scalable font packages do
    not register nonexistent fonts; this has the desirable side effect that
    the count at the top of the file is also omitted (based on a patch by
    Roland Rosenfeld) (Closes: #193185)
  * debian/local/xterm.faq.html: updated from revision 1.75 to 1.77
  * debian/po/ca.po: updated Catalan debconf template translations (thanks,
    Ivan Vilata i Balaguer) (Closes: #183317,#183322)
  * debian/po/{da,de,gl,it,ja,nl,pl,sv}.po: updated debconf template
    translations for several languages courtesy of Denis Barbier, after a
    buggy version of po-debconf eviscerated them (Closes: #170591)
  * debian/po/es.po: updated Spanish debconf template translations (thanks,
    Javier Fernandez-Sanguino Peña) (Closes: #186147)
  * debian/po/fr.po: updated French debconf template translations (thanks,
    Christian Perrier) (Closes: #185708)
  * debian/po/ru.po: updated Russian debconf template translations (thanks,
    Serge Winitzki) (Closes: #182701)
  * debian/rules:
    - removed DH_COMPAT per debhelper recommended best practice (see above)
    - remove calls to dh_undocumented
    - add calls to dh_install --sourcedir=debian/tmp
    - comment out hand-rolled "idempotency" code, since dh_install and dh_link
      behave idempotently when DH_COMPAT=4 (thanks, Joey Hess)
    - restructure, clean up, and add comments to section that defines
      variables for use in controlling the upstream build environment
      + use dpkg-parsechangelog to get the version number of the source
        package
      + fix (and rewrite) the logic that determines whether this is an
        official package build
      + only define the BuilderEMailAddr Imake variable if we're doing an
        official package build
      + GCC 3.3 appears to produce bad code for PowerPC at the optimization
        level required by Debian Policy (the X server cannot validate
        XDM-AUTHORIZATION-1 keys); when building on PowerPC, set
        DefaultGcc2OptimizeOpt to -O instead of -O2
    - expand @OFFICIAL_BUILD@ from $(OFFICIAL_BUILD) in maintainer scripts, as
      we do with @SOURCE_VERSION@ from $(SOURCE_VERSION)
    - stop generating and shipping the XFree86 FAQ (see above)
    - remove (commented-out) invocations of dh_suidregister and
      dh_installmanpages per debhelper recommended best practice
  * debian/shell-lib.sh:
    - internal_errormsg(): expand the message that is spewed, but only utter
      it if the package was part of an official build
    - check_symlinks_and_bomb(): given the past year's worth of reports to
      debian-x, it appears that this function only ever generates errors when
      someone is installing very old or non-policy-compliant packages on the
      system at the same time XFree86 is being upgraded.  Simplified the error
      messages and called new function find_culprits() when this happens.
    - find_culprits(): new function that finds Policy-violating overlaps with
      the XFree86 packages' symlinks, and reports these to the user
  * debian/xfree86-common.config.in:
    - change test for official package version to just use the new
      $OFFICIAL_BUILD variable
  * debian/xfree86-common.doc-base.xfree86-faq: deleted; see above
  * debian/xfree86-common.docs: update to stop installing XFree86 FAQ (see
    above)
  * debian/xserver-common.README.Debian: updated to remove mention of XFree86
    FAQ (see above)
  * debian/xserver-xfree86.config.in:
    - updates to handling of the use_fbdev question:
      + treat an empty /proc/fb the same as a nonexistent one, and clarify the
        corresponding debugging message (Closes: #182704)
      + parse the contents of /proc/fb (first reported framebuffer device
        only) so as to treat "VESA" and "OFfb" framebuffer types the same as
        no kernel framebuffer at all, since these (and possibly some other)
        framebuffer types do not work with the "UseFBDev" option (chipset
        specific drivers require facilities of a framebuffer device which the
        generic ones don't provide); also, clarify the corresponding debug
        message (thanks, Michel Dänzer)
    - remove "atimisc", "r128", and "radeon" sub-modules from autogenerated
      list of video driver modules
    - migrate existing debconf settings of
      xserver-xfree86/config/device/driver from "atimisc", "r128", or "radeon"
      to "ati"

 -- Branden Robinson <branden@debian.org>  Thu, 29 May 2003 11:24:29 -0500

xfree86 (4.2.1-6) unstable; urgency=medium

  * This changelog entry updated on 2004-02-23 to include more information
    about security fixes.

  * This release includes fixes for two security issues found by Felix
    Kühling:
    CAN-2004-0093: Client-supplied data (screen number) used as array index
                   into X server-side DRI data structures without validation,
                   leaving X server open to SEGVs.
                   (xc/programs/Xserver/GL/dri/xf86dri.c)
    CAN-2004-0094: Client-supplied data (screen number) cast from unsigned
                   char to signed int.
                   (xc/programs/Xserver/GL/glx/glxcmds.c)

  * RELEASE NOTE: the ELF object loader in the XFree86 X server does not
    recognize the new symbol relocations used by GCC 3.2 on the IA-64
    architecture; this means that the "xserver-xfree86" package will not work
    on IA-64.  IA-64 users, put your "xserver-xfree86" package on hold, or use
    "xserver-xfree86-dbg" instead, until someone is found to patch
    xc/programs/Xserver/hw/xfree86/loader/elf*.

  * patch #000_post421: resynced with xf-4_2-branch as of 2003-02-18
    + Fix problems with earlier fix [...] to intermittent XDarwin crash when
      changing cursors with dual processors (Torrey T. Lyons).

  * patch #000_stolen_from_HEAD:
    + removed patches to Xlib (xc/lib/X11); see below
    + (xc/config/cf/Library.tmpl): update and add targets to support proper
      static compilation of Xlib (Egbert Eich)
    + (xc/config/util/{gccmdep.cpp,mergelib.cpp,mkdirhier.sh}): add sanity
      checks (Egbert Eich)
    + (xc/include/Xos_r.h): warning fixes (Marc Aurele La France)
    + (xc/programs/Xserver/hw/xfree86/loader/{elfloader.c,loader.c}): Make
      loader ignore ELF objects that don't define any symbols. (H. J. Lu)
    + (xc/programs/Xserver/hw/xfree86/loader/elfloader.c: warning fix (Marc
      Aurele La France)
    + (xc/programs/Xserver/hw/xfree86/loader/{elf.h,elfloader.c}): Add new
      relocation entries for Alpha architecture to the loader which are used
      when compiling with gcc > 3.1 (#A.891, Thorsten Kranzkowski)
      (Closes: #178496)
    + (xc/lib/ICE/connect.c): Fix SEGV in ICE library (Petter Reinholdtsen).
    + (xc/lib/Xmu/EditresCom.c): XEditResCheckMessages trashed XtMalloced
      memory on some widget hierarchies, due to using incorrect indexes when
      removing duplicates (A.1409, Rob Arthan).
    + (xc/programs/Xserver/xkb/ddxBeep.c):
      - Fix the type/init value for some "Generation" variables. (David Dawes)
      - Fix the number of beeps when using AccessX and XKB (#A.1302, Alan
        Coopersmith).
      - Warning fixes (Marc Aurele La France)
      - Don't enter an infinite loop setting a new timer when one expires.
        Problem easy to reproduce, press Alt+Shift+NumLock to enable/disable
        MouseKeys and it will never stop beeping, even switching to the
        console does not stop it. The problem also happens when enabling beeps
        in accessx to notice state changes. (Paulo Cesar Pereira de Andrade)
    + (xc/programs/Xserver/hw/sun/sunInit.c): Fix SEGV that occurs when Xsun*
      runs into an unrecognized framebuffer type (Marc La France).
    + (xc/programs/Xserver/os/auth.c): Don't change the authorization data
      (and in particular, don't enable local host access) if the X server's
      authority file is removed or becomes unreadable while the server is
      running (David Dawes, reported by Dietmar Schröter).
    + (xc/programs/Xserver/hw/xfree86/drivers/mga/mga_driver.c): Add reporting
      of G400/G450 in MGA driver (Andrew C. Aitchison).
    + (xc/programs/Xserver/GL/dri/xf86dri.c,
      xc/programs/Xserver/GL/glx/glxcmds.c): Add validation for the screen
      number parameter received over the wire by the X server's DRI extension
      code, and fix some similar checks in the GLX code.  This fixes X server
      segfaults when an invalid screen value is provided (#A.1434, Felix
      Kühling).  [SECURITY FIX] (CAN-2004-0093, CAN-2004-0094)
    + (xc/programs/Xserver/fb/fbpict.c): Fix incorrect datatype for the pixmap
      width in fbCompositeSrcAdd_8000x8000(), and add some small optimisations
      (#A.1423, Keith Packard).
    + (xc/programs/Xserver/hw/xfree86/os-support/linux/drm/xf86drm.c): Stop
      the drm module from creating a world-writable directory in /dev.  Since
      dev nodes can only be created by root, there's no need for anyone else
      to be able to write to /dev/dri (#5367, Brendan O'Dea).
    + (xc/programs/Xserver/hw/xfree86/os-support/linux/drm/xf86drm.c,
      xc/programs/Xserver/hw/xfree86/os-support/xf86drm.h): Use
      DRM_DEV_DIRMODE again (set to 0755). (David Dawes)
    + (xc/lib/xtrans/Xtranstli.c): Fix Xtrans TLI code to handle a port scan
      and not fill the log file with error messages from
      _XSERVTransTLIAccept() (#A.1333, Fiel Cabral).
    + (xc/lib/Xt/Create.c): Clear memory allocated in xtWidgetAlloc() to avoid
      garbage from malloc() being referenced later (#A.1114, Adam J. Richter).
    + (xc/programs/xkbcomp/symbols.c): Fix an xkbcomp bug that prevents a later
      definition from specifying actions if the previous definition didn't
      (#5471, Joe Moss).
    + (xc/programs/xkbcomp/symbols.c,xc/lib/xkbfile/xkbmisc.c): In XFree86
      4.3, Latin base maps can have many three- and four-level keys.  Some of
      the keys should behave as 'alphabetic' keys (should depend on the
      CapsLock state) and others should be simple 'four level keys'.  To
      separate these two type of keys, people need to carefully specify a type
      for each key in a symbols map.  However, carelessness can can be worked
      around if xkbcomp itself guesses the type of key.  This patch adds
      autodetection of four-level types in XKB symbols maps.
    + (xc/programs/xkbcomp/misc.c): Xkbcomp has a check that prevents
      inclusion of the same partial map in an include statement in different
      single layout maps.  This made sense before the multilayout mechanism
      was added.  But now, it means a complete layout can't be composed from
      'single layout' maps if the maps include the same file.  Thus, this
      check has ben removed.
    + (xc/programs/Xserver/xkb/xkb.c): If some LEDs are lighting when one
      reloads the XKB keyboard map (using setxkbmap or xf86cfg) the LEDs
      become 'frozen' and can't be switched off. The patch fixes this bug.
      (#5544, Ivan Pascal).
    + (xc/programs/Xserver/xkb/{ddxConfig.c,xkbInit.c}): Fix some memory leaks
      in xkb initialization code. (Paulo Cesar Pereira de Andrade)
    + (xc/programs/Xserver/xkb/xkbInit.c);
      - Fixed some memory leaks. (Egbert Eich)
      - Reinstate the X server -xkbdir option, but only when the X server's
        real and effective uids are the same (based on #A.1132, Ivan Popov).
      - Fix segfault in XkbInitKeyboardDeviceStruct() (David Dawes).
      - Fix problem in XkbInitKeyboardDeviceStruct(). Thanks to David Dawes
        for telling me about the problem, caused by a previous patch by me. I
        also added a comment in the code explaining the reason the strings
        need to be duplicated. The problem is that
        XkbInitKeyboardDeviceStruct() is an "entry point" for xkb, and the
        function arguments are not guaranteed to be allocated, they may point
        to static strings, command line parameters, etc. In the worst case,
        there will be a "pseudo leak" of six strings that are used only when
        the server is initialized; the strings are reachable from
        xf86Info.xkbxxx, or equivalent data structure for xwin, xnest, etc.
        (Paulo Cesar Pereira de Andrade)
    + (xc/programs/xauth/process.c):
      - Various warning fixes. (Marc La France)
      - Error out if memory cannot be allocated for authfilename. (Egbert
        Eich)
      - Fix a bug where xauth may write an incomplete authority file and
        delete the old one if there is insufficient disk space (#5612,
        Harald Hoyer). (Closes: #36184)
    + (xc/lib/xkbfile/xkbtext.c): Correct problem when the server prints the
      name of a 'private xkb action' in a format that xkbcomp cannot
      understand, and was causing problems when calling XkbGetKeyboard (Ivan
      Pascal).

  * patch #000_stolen_from_HEAD_ati_driver:
    + (xc/programs/Xserver/hw/xfree86/drivers/ati/atimach64.c): When the mode
      on server entry is found to be using composite sync on a Mach64 variant,
      turn on the "compositesync" option (Marc La France).
    + (xc/programs/Xserver/hw/xfree86/drivers/ati/{atipreinit.c,ativersion.h,
      ativga.c}): Fix atimisc panel support bug that occurs when the mode on
      server entry is a VGA mode with large horizontal and/or vertical
      blanking pulses (Marc La France).

  * patch #000_stolen_from_HEAD_neomagic_driver:
    + Enabling 2D accel in 24-bit for neomagic 2360 and 2380 (Egbert Eich).
    + Added support for builtin 1024x480 mode of Sony subnotebooks for
      Neomagic driver (Egbert Eich).
    + Fixed support for lowRes (320x240) modes in neomagic driver
      (Egbert Eich).
    + When enabling PCI adapters, also enable their bus mastering capability;
      Consequently, deprecate xf86EnablePciBusMaster() (Marc La France).
    + Fix 640x480 modes in neomagic driver (Egbert Eich).
    + Fix an incorrect check for the "StrangeLockups" option in the neomagic
      driver (#5505, Mike Harris).

  * patch #000_stolen_from_HEAD_newport_driver: new;
    + Support for 24bpp, fix screen blanking and bug fixes for newport driver
      (#5329, #5349, Guido Guenther).
    + Newport driver updates, including:
      - Add hardware cursor support.
      - Workaround blank console after VT switch on some newports
        (based on a patch from Dominik Behr).
      - Support for the Indigo2 XL (based on a patch from Adrian
        Schroeter).
      (#5507, Guido Guenther).
    + Initializing clock ranges in several drivers to get rid of the
      annoying 'scaled from 0.0 MHz' message in xf86PrintModes()
      (Egbert Eich).

  * patch #000_stolen_from_HEAD_savage_driver: (savage_driver.c): No need to
    softboot twice; reduces startup time. (Alan Hourihane)

  * patch #000_stolen_from_HEAD_xaw: new; moved existing Xaw patches from
    000_stolen_from_HEAD here, and added the following:
    + (AsciiSrc.c,MultiSrc.c): Silently ignore the useStringInPlace resource
      if the string resource was not specified.  This can be easily generated
      when calling a program using the Xaw text widget. This is a very old
      problem, and happens with any version of Xaw and Xaw variants.  This
      does not completely fix a problem with the multiSrcObject, if both,
      string and useStringInPlace are specified, but avoids programs crashing
      when, for example, calling it as: some-program -xrm '*useStringInPlace:
      1' Thanks to Chisato Yamauchi for pointing the problem. (Paulo Cesar
      Pereira de Andrade)
    + (MultiSrc.c): improperly checks open() return value (A.1415, Jaromir
      Dolecek), Fix provided by Hideo Saito in NetBSD. (Paulo Cesar Pereira de
      Andrade)

  * patch #000_stolen_from_HEAD_xdm: new;
    (xc/programs/xdm/{Imakefile,access.c.auth.c,dm.c,policy.c,resource.c,
    sessreg.c.,xdmcp.c}):
    + xdm fixes from Sebastian Krahmer (#5511):
      - non exploitable overflow in ReadWord,
      - use snprintf() everywhere,
      - try to make DNS spoofing impossible.
    (xc/programs/xdm/Imakefile): Don't build xdm greeter as a module when
      HasSharedLibraries is NO.  (David Dawes)
    (xc/programs/xdm/daemon.c): libc5 build fix (Marc La France)
    (xc/programs/xdm/{error.c,greeter/{Login.c,greet.c}}):
      + dont't use stdio or exit() in signal handler. (Matthieu Herrb)
      + On OpenBSD passwords can be more than 8 chars long (Terence M. Rokop).
      + Warning fixes (Marc La France)
    (xc/programs/xdm/resource.c):
      + Remove OS/2 specific stuff and fix a typo (Holger Veit)
      + define DEF_RANDOM_FILE as "/dev/urandom" if the "linux" symbol is
        defined (Egbert Eich)
    (xc/programs/xdm/config/Imakefile):
      + Fix 'su' usage for FreeBSD in the default xdm config (Eric Anholt).
      + Warning fix (Matthieu Herrb)
    (xc/programs/xdm/greeter/verify.c):
      + libkafs is in not needed for kerberos IV support (Matthieu Herrb)
      + explicit cast of NULL to void * in va_list (Matthieu Herrb).
      + Make xdm check the full password string (on Linux) for locked
        accounts rather than just the first character (#5485, Mike Harris,
        Nalin Dahyabhai).

  * patch #000_stolen_from_HEAD_xlib: new; moved existing Xlib patches from
    000_stolen_from_HEAD here, and added the following:
    + (GetColor.c,LookupCol.c,ParseCol.c): Don't pass a transformed color name
      to the Xserver, if Xcms.txt is installed and there is an entry for a
      given name, the Xcms routines would convert for example "gray70" to
      "tekhvc:0.0/70.0/0.0", which does not exist in rgb.txt. This patch just
      remembers the argument string, and if Xcms does not return success, pass
      the original string to the Xserver request.  The string returned by
      _XcmsResolveColorString() is a pointer to a string in a static table in
      cmsColNm.c:pairs.  (Paulo Cesar Pereira de Andrade)
    + (GetDflt.c,PutImage.c,ImThaiFlt.c,lcEuc.c,lcGenConv.c,lcJis.c,lcSjis.c):
      warning fixes (Marc Aurele La France)
    + (ICWrap.c): Prevent core dumps in Xutf8Reset/Lookup code of Xlib (Masaru
      Yokoi).
    + (Imakefile,XlcDL.c,xlibi18n/Xi18nLib.conf): miscellaneous cleanups,
      including restriction of the _MACH64_NAME weirdness in XlcDL.c to
      UltraSPARCs only (Egbert Eich) (Closes: #178289)
    + (Imakefile,XlibInt.c): Remove inconsistencies in the way extension headers are
      referred to (David Dawes).
    + (Imakefile): Fixed Xlib build rules so it builds a truly static library
      again (Egbert Eich).
    + (XDefaultOMIF.c): pacify GCC 3.2 (Marc Aurele La France)
    + (XErrorDB): synced with HEAD; while I did not backport the RENDER and RandR
      extensions themselves from HEAD, I thought it might be useful if Debian's
      Xlib could recognize the protocol errors from these extensions.
      - recognize XF86VidModeGetPermissions request
      - fix incorrect labeling of two vidmode extension error codes
        (XF86VidModeExtensionDisabled, XF86VidModeClientNotLocal)
      - recognize XFree86-Misc requests XF86MiscSetGrabKeysState,
        XF86MiscSetClientVersion, XF86MiscGetFilePaths
      - recognize RENDER extension requests and errors
      - recognize RandR extension requests
    + (XKB.c): The functions XGetXlibControls and XSetXlibControls must work
      even if the X server doesn't have the XKB extensions (#5513, Ivan
      Pascal).
    + (XKBCtrls.c): XkbSetControls should return True when successful, not False
      (#A.1385, Stephen Montgomery-Smith).
    + (XKBCvt.c,lcCT.c,lcUTF8.c,lcUniConv/iso8859_11.h): Add support for
      th_TH.ISO-8859-11 (#5327, Theppitak Karoonboonyanan).
    + (XKeysymDB): resynced with HEAD; seems harmless to recognize some new
      keysyms.
      - Remove XFree86-specific keysyms that already have generic equivalents
        (Menu, Redo, Print, Undo).
      - Add private keysyms for the new XKB actions (XFree86 special keys), and
        move those actions to an XKB compatibility map.  This fixes side-effects
        (loss of auto-repeat and mousekeys functionality) of the way this was
        implemented previously (Ivan Pascal).
      - Add extended symbols for the "Logitech Cordless Desktop Navigator"
        keyboard (#A.1480, Gilbert Fridgen).
      - Add "Inet" key definitions for the Trust Direct Access keyboard
        (#A.897, Raphaël Poss).
      - Added support for special keys found on many ACPI control, Easy Access
        Keyboards, Internet keyboards, laptops, notebooks and PDA (via
        xkb/symbols/inet). Added new key symbols for these keyboards (Stanislav
        Brabec).
    + (XlcDL.c):
      - Fix bad assumption that SPARCs are the only architectures that can have
        the _LP64 symbol in the build environment. (Egbert Eich)
      - Have fetch_symbol() return NULL if a NULL symbol is requested.  (Egbert
        Eich)
    + (XlibInt.c):
      - Protect "cvl" references in recent changes with '#ifdef XTHREADS'
        (reported by Dan Holm).
      - Fix a problem in _XEventsQueued() that causes an event reader lock of
        another thread to be released.  This can cause a hang and keyboard
        lockup in KDE (#5619, Ewald Snel).
    + (Xutil.h): ISO_Level3_Shift was breaking compose sequences because Xlib
      wasn't recognising it as a modifier key (#5594, Ivan Pascal).
    + (imCallbk.c): Only free cbs.data.text when cbs.type is XIMTextType in
      _XimStatusDrawCallback() (#A.1342, Owen Taylor).
    + (imDefIm.c): Make XIM locale checking case-independent (based on #A.1422,
      Leon Ho).
    + (imLcPrs.c): Reduce the stack usage from 64k to 8k in imLcPrs.c, which
      fixes a problem with Java for FreeBSD (#5568, Eric Anholt).
    + (imThaiFlt.c):
      - Fix a bug in previous Thai XIM changes (#5563, Theppitak Karoonboonyanan).
      - Thai XIM fixes:
        - Fix the arguments in calling to StringConversionCallback in Thai XIM
          filter, according to Hideki Hiura's explanation on the protocol.
        - Add input sequence correction capability to the Thai XIM by
          exploiting the XIMStringConversionSubstitution operation.
        (#5553, Theppitak Karoonboonyanan).
      - Add support for th_TH.UTF-8. with XIM (#5336, Theppitak Karoonboonyanan).
      - Fix some bugs in the Thai XIM:
        - excessive '(' char when switching XKB keyboard group
        - ineffective Ctrl-<key> and Alt-<key>
        (#5335, Theppitak Karoonboonyanan).
    + (imTrX.c): Fix a crash that can happen when some apps are run in CJK
      locales (#5489, Havoc Pennington).
    + (lcEuc.c,lcJis.c,lcSjis.c): Allow UTF8 conversion to work for Japanese
      locales (#A.1527, Etsushi Kato).
    + (lcFile.c):
      - clean up _XlcLocaleDirName() (Egbert Eich)
      - Fix some memory leaks in libX11 i18n code (#A.1314, Olivier Chapius).
    + (omGeneric.c):
      - clean up code and improve comments in Oliver Chapuis's fixes (Egbert Eich)
      - fix memory leaks and speed font loading (Oliver Chapuis)
    + (omText.c): Fixed obvious typo in OMlib (Egbert Eich).
    + (xlibi18n/Xi18nLib.conf): reindent preprocessor statements (Egbert Eich)

  * patch #000_stolen_from_HEAD_xtt: new; several fixes nicked from CVS HEAD
    to fix crashing problems et al.; this does *not* include the
    FontFilePriorityRegisterRenderer() change (and corresponding revision
    number bump), which requires changes elsewhere. (Closes: #179731)
    + Fixed a core dump problem in libXtt (?) (Egbert Eich). [That's the
      XFree86 CVS commit message / changelog entry, but it sucks.  Here's a
      better one:] "With xtt backend, loading a proportional iso10646 font
      always results in X server crash. This is also responsible for some of
      the mysterious mozilla crashing X problems. Because mozilla some times
      load iso10646 font even without user's explicit request. The problem is
      caused by the following code inside the "freetype_compute_bounds"
      function in xc/extras/X-TrueType/xttfuncs.c (between line 1073 and
      1114).  The [...] code loop through all characters in an encoding to get
      their metrics. If the very first "c" is 0, there's a problem of
      referencing null pointer "tmpchar" at where I marked with ^. For most of
      the encodings in xtt implementation, character does not start from 0.
      Iso10646 is one of a few that does, thus manifest the problem. The
      problem exists in all versions of 4.x."
    + Fix for two problems where the combination of xtt and XAA could result
      in a crash.  The first problem was xtt returning a NULL pointer for the
      bitmap even though the height was non-zero.  The second problem was
      glyph ascent/descent exceeding the range of maxbounds.ascent/
      maxbounds.descent (A.1484, Chisato Yamauchi, Masanori Shimada).
    + Fix an XTT problem where garbage is displayed when there are undefined
      glyphs for fixed width fonts, and fix some other potential problems
      (#A.1541, Hidetoshi Yamanouchi, Chisato Yamauchi).
    + Improve the XTT code that prevents unexpected data to be passed to
      XAA (#5600, Chisato Yamauchi).
    + [...] fix a missing portion in X-TT's Big5HKSCS-Unicode table (#5362,
      Branden Robinson and ThizLinux Laboratory Ltd).
    + Fix a crash in the "xtt" font module caused by a NULL dereference when
      the font cache becomes full (#A.1611, Chisato Yamauchi and
      tokeijikakenoringo).

  * patch #002,011,023,041,046,067,069,072,082,087,091,100,351,905: resynced
    with above patches from HEAD, and dropped patches merged upstream
  * patch #025,071,074,600: deleted; superseded by #000_stolen_from_HEAD

  * patch #002:
    - (xdm.man) Use dot macros instead of backslash roff sequences to mark up
      literals that use __projectroot__, because cpp won't recognize them
      otherwise.
  * patch #009: patch to s3 driver to add support for S3 Trio64V2/DX and /GX
    chips, courtesy of Santiago Garcia Mantinan and Javier Moran Rua
    (Closes: #178600)
  * patch #037: declare drmFreeBufs and drmR128drmR128TextureBlit symbols in
    the r128 subdriver's symbol lists
  * patch #046: build static PIC version of Xinerama library (Closes: #175996)
  * patch #048: update X, XFree86, and xmodmap manpages to use dot macros
    instead of backslash roff sequences to mark up literals that use
    __projectroot__, because cpp won't recognize them otherwise.
  * patch #084,086,091,909: resynced with #048
  * patch #086: overhaul XFree86 manpage
  * patch #092: new; patch for ATI Radeon 9100 support, courtesy of Wesley W.
    Terpstra
  * patch #103: add missing semicolon to patch for sun keycodes file; d'oh!
    (thanks, Daniel van Eeden) (Closes: #178465)
  * patch #905: removed portions of this patch that have been merged upstream
  * patch #906: re-order xfs's default font catalogue to follow advice given
    in README.fonts document; move scalable font directories to top of list
    and remove ":unscaled" lines
  * patch #909: Debianize XF86Config manpage references in XFree86 manpage to
    XF86Config-4 (Closes: #180195)

  * debian/MANIFEST.*: updated to reflect new libXinerama_pic.a object
  * debian/control:
    - fix lingering problems with xlibmesa-{gl,glu} split; xlibmesa-glu-dev
      depends on xlibmesa3-glu and xlibmesa-gl-dev | libgl-dev (thanks, Aaron
      M. Ucko) (Closes: #178310)
    - dropped xlib6g and xlib6g-dev pseudopackages; these packages are now
      completely dead
  * debian/local/dexconf: reorder font path components to follow advice given
    in README.fonts document; move scalable font directories to top of list,
    and, for 4.x XF86Config files, remove ":unscaled" lines since they are not
    needed by XFree86 4.0 and later.  Also, add CID font path to 4.x XF86Config
    files for consistency with 3.x font path configuration.
  * debian/po/pt_BR.po: updated debconf translations for Brazilian Portuguese
    (thanks, Andre Luis Lopes) (Closes: #179352)
  * debian/xlibmesa3-glu.shlibs: fix thinko in shlibs line; "libgl1" to
    "libglu1" (thanks, Aaron M. Ucko) (Closes: #178374)
  * debian/xlibs-pic.files*: ship new libXinerama_pic.a object
  * debian/xserver-xfree86.config.in: updated to work with both Discover 1.x
    and Discover 2.x (Closes: #149587)

 -- Branden Robinson <branden@debian.org>  Tue, 25 Feb 2003 18:01:32 -0500

xfree86 (4.2.1-5) unstable; urgency=low

  * Thanks to ISHIKAWA Mutsumi for authoring, identifying, and otherwise
    helping out with patches to fix bugs in the ServersOnly build when X
    library headers aren't installed in the build environment.
    (Closes: #170508,#170510)

  * patch #000_stolen_from_HEAD:
    + dropped patch "Fix the number of beeps when using AccessX and XKB
      (#A.1302, Alan Coopersmith)" since it causes the server to beep nonstop
      until it's restarted if you press Shift-NumLock to enable PointerKeys.
      ("xset b off" shuts it up, but it's just beeping silently, as a
      subsequent "xset b on" reveals) (Closes: #171294)
    + GLU and GLw aren't extension libraries, so key their default build
      status to BuildLibraries. (David Dawes)
    + BuildServersOnly fix when building on a system with no installed X
      headers or libraries (#5559, ISHIKAWA Mutsumi).
    + (xc/lib/xkbfile/xkberrs.c): build fixes (Alan Hourihane)

  * patch #000_stolen_from_HEAD_savage_driver: new;
    + Fixed memory leaks in S3 Savage driver (Egbert Eich).
    + Savage driver updates (#5203, Tim Roberts).
    + [...] xf86SetOperatingState() call cleanups in most drivers
      (Marc La France).
    + Savage driver updates.
        - Support for ProSavage DDR (PCI ID 0x8D04)
        - TV output fixes
        - support for -pixmap24 flag
        - XAA fixes to cure lockups
        (#5412, Tim Roberts).
    + Fix Mono8x8 code in savage driver, needed ROP_NEEDS_SOURCE, also
      add NO_PLANEMASK to ScreenToScreen as code doesn't handle that case
      (Alan Hourihane).
    + Remove "Option VideoRam" from savage driver, there's no need for
      it, and utilize the entities given VideoRam size (Alan Hourihane).

  * patch #009: deleted; didn't do what it was supposed to, and caused other
    Xv problems in i810 (Closes: #166234)
  * patch #021: new; patch to startx to check for GNU hostname regardless of
    what uname reports the OS as; first check to see if "hostname --version"
    works at all, and then if it does check both stdout and stderr of that
    command for "GNU" (Closes: #167212)
  * patch #022: new; fix Xaw's StripChart widget to draw scale lines correctly
    (thanks, Nikita V. Youshchenko) (Closes: #167448)
  * patch #033: new; fix for ICE message replies when using subprotocols
    (thanks, Jochen Voss) (Closes: #95951)
  * patch #035: new; fix for null pointer dereferences in fontfile library,
    (thanks, Nikita V. Youshchenko) (Closes: #168791)
  * patch #041: new; patch from ISHIKAWA Mutsumi to fix missing depend target
    in Xlib's Imakefile if "BuildServersOnly" is YES, "BuildXnestServer" is
    NO, and "BuildGLXLibrary" is NO.
  * patch #079: deleted; superseded by #000_stolen_from_HEAD_savage_driver
  * patch #102: deleted; if Sun Type6 keyboards use the same scancodes as
    Type5 keyboards to mean different things, then much more of a patch than
    this is needed.  Fixes FTBFS problem on sparc.  (Closes: #170509)
  * patch #203: fix for data type size issues in Xpm library on Alpha (thanks,
    Kalle Olavi Niemitalo) (Closes: #174282)
  * patch #909: change XF86Config-4(5x)'s NAME section to refer to itself as
    XF86Config-4 instead of XF86Config so that "man XF86Config" brings up the
    section 7 manpage preferentially
  * patch #004,008,046,085: resynced with other patches

  * debian/control:
    - add Build-Dependency on libstdc++5-dev (for libGLU in xlibmesa3-glu)
    - add dependency on debconf to xfree86-common
    - remove dependency on debconf from xbase-clients, xfs, xlibmesa3, and
      xterm (see below)
    - add dependency on xprt-common to xprt, and update its extended
      description to describe its broken state and available alternative
      (thanks, Drew Parsons) (Closes: #170678)
    - C++ ABI 1.02 transition / Mesa 5.0 awareness:
      + xlibmesa3, xlibmesa3-dbg, xlibmesa-dev split into:
        xlibmesa3-gl, xlibmesa3-gl-dbg, xlibmesa-gl-dev,
        xlibmesa3-glu, xlibmesa3-glu-dbg, xlibmesa-glu-dev (Closes: #175157)
      + xlibmesa3-gl conflicts with and provides libgl1 (pure virtual package)
      + xlibmesa3-gl replaces mesag3 and xlibmesa3
      + dropped old replacement of xserver-xfree86 (<< 4.0.2) by xlibmesa3;
        those versions of xserver-xfree86 are long dead and were never part of
        a stable Debian release
      + xlibmesa3-gl-dbg depends on exact same version of xlibmesa3-gl
      + xlibmesa3-gl-dbg conflicts with and replaces xlibmesa3-dbg
      + xlibmesa-gl-dev conflicts with and provides libgl-dev (pure virtual
        package)
      + xlibmesa3-glu conflicts with and provides libglu1 (mixed virtual
        package)
      + xlibmesa3-glu replaces mesag3 (<< 5.0.0-1) and xlibmesa3
      + xlibmesa3-glu-dbg depends on exact same version of xlibmesa3-glu
      + xlibmesa3-glu-dbg conflicts with and replaces xlibmesa3-dbg
      + xlibmesa-glu-dev depends on libstdc++5-dev and libc6-dev | libc-dev
      + xlibmesa-glu-dev conflicts with xlibmesa-dev and libglu-dev (pure
        virtual package)
      + xlibmesa-glu-dev provides libglu-dev (pure virtual package)
      + xlibmesa-glu-dev replaces mesag-dev (<< 5.0.0-1) and xlibmesa-dev
      + dropped dependency on xlibmesa3 from xlibosmesa3 (was redundant
        anyway, shlibs files work fine within the build)
      + added dependency on xlibs-dev to xlibosmesa-dev, since libOSMesa links
        against Xlib and Xext
      + x-window-system-core metapackage depends on xlibmesa3-gl and
        xlibmesa3-glu instead of xlibmesa3
      + xlib*mesa* package descriptions tweaked
    - added xlibmesa3, xlibmesa3-dbg, and xlibmesa-dev pseudopackages
    - added (<< 4.2.1-5) versioning to Conflicts and Replaces relationships on
      old xlibmesa3, xlibmesa3-dbg, and xlibmesa-dev packages
    - added missing versioning (<< 4.0) on xutils's replacement of xlib6g-dev
    - updated extended descriptions of x-window-system{,-core}
    - fixed typo in xprt's extended description
    - bump xdm and xfree86-common's versioned dependencies on debconf to >=
      1.2.9 on advice from lintian
    - uncomment call to dh_installinit in binary-indep rule, since
      xfree86-common now has an init script
  * debian/rules: add "-DXnestServer=NO -DXVirtualFramebufferServer=NO
    -DXprtServer=NO" to SERVERDEBUG_IMAKE_DEFINES (thanks, ISHIKAWA Mutsumi)
  * debian/shlibs.local: regenerated from debian/*.shlibs
  * debian/xdm.options: identify correct location of this conffile in comment
  * debian/xdm.options.5: cosmetic and roff-stylistic fixes
  * debian/xfree86-common.init: new init script which runs in runlevel S that
    simply ensures that the X server's Unix domain socket directory exists and
    has proper ownership and modes (N.B., this does not start any processes)
    (Closes: #170638)
  * debian/xfree86-common.{postinst,postrm}.in: invoke update-rc.d and run the
    package's init script on package configuration; invoke update-rc.d on
    package purge
  * debian/xfs.init: when starting the daemon, ensure the font server's socket
    directory exists and has proper ownership and modes
  * debian/xfs.options: identify correct location of this conffile in comment
  * debian/xfs.options.5:
    - identify correct location of the documented conffile (Closes: #170513)
    - cosmetic and roff-stylistic fixes
  * debian/xlibmesa*: debhelper and shlibs files updated to reflect -gl and
    -glu package split
  * debian/xlibs.shlibs: update Xrender dependency info to xlibs to (>>
    4.2.0), since Xrender added symbols between XFree86 4.1.0 and 4.2.0
    (thanks, Eric Dorland) (Closes: #174589)
  * debian/{xbase-clients,xfs,xlibmesa3,xterm}/postinst.in: nuke quaint and
    curious relics of forgotten debconfage (don't source the confmodule since
    we're doing anything debconf-related) (also, remove pointless invocation
    of db_stop in xfs's postinst)
  * debian/xserver-common.files: the dexconf manpage is in section 1, not 8

 -- Branden Robinson <branden@debian.org>  Tue, 21 Jan 2003 12:02:40 -0500

xfree86 (4.2.1-4) unstable; urgency=low

  * patch #000_post421: resynced with xf-4_2-branch as of 2002-11-09
    + Bump XDarwin version. (Torrey T. Lyons)
    + Forgot to commit updated RELNOTES at top level for 4.2.1. (David Dawes)
    + Bump the "snap" version for Mac OS X 10.2.2. (David Dawes)
    + Fix bad link in upgrade information. (David Dawes)

  * patch #000_stolen_from_HEAD:
    + Fix overlay bug.  ClipNotify wasn't being called in some corner cases.
      (Alan Hourihane)
    + Fix pixmap cache corruption on VT switches in mga driver (#A.1279, Ross
      Mikosh).
    + Fix application crash when using DPS client libraries (#A.1282, Frank
      Giessler).
    + Add missing Increment option in Summa input driver (#A.1276,
      G.P.Halkes).
    + Fix the number of beeps when using AccessX and XKB (#A.1302, Alan
      Coopersmith).
    + Add symbols that were missing from the registrations lists.  This
      removes a lot of the misleading "unresolved symbols" messages that show
      up if 'X -configure' crashes. (David Dawes)
    + [fbdev] The xf24_32bpp module isn't needed when using fb. (David Dawes)
    + Fix an fbdev driver crash when the VT isn't active (#5169, Michel Dänzer).
    + Fix 24bpp displays with the fbdev driver when not using shadowfb (#5351,
      Michel Lanners).
    + When parsing XInput XF86Config options, catch NULL option table instead
      of crashing. (David Dawes)
    + Fix a double free() that can cause a crash in XCloseIM() (based on
      #5303, Mo DeJong).
    + Fix for random crashes when a screen fails to initialise (Marc La
      France).
    + Fix server crash when using Xinerama when application closes. (#A.808,
      Tsukahara Ken).
    + Fix a SEGV on server reset in the PM3 driver. (Alan Hourihane)
    + Fixed GetTimeInMillis() to use deltas instead of absolute time returned
      by gettimeofday(). This ensures time is monotonic in X (Egbert Eich).
      (Closes: #85365)
    + Sync with Type1 font rasterizer from HEAD:
      - Some minor include cleanups. (David Dawes)
      - Avoid redefining abort(), a well known C library function.  This can
        cause errors when the abort() prototype from stdlib.h is included
        later by Xos.h. (Matthieu Herrb)
      - A "hammer" approach at ensuring font properties are freed properly.
        (Marc La France)
      - Modify Type1 font RAM allocation heuristics to allow for larger fonts.
        (#A.1121, Melchior Franz)
    + Fix a typo in the s3 driver which prevented virtual display sizes.
      (#A.965, Stef Voltz).
    + Fix input size of character strings used in lib/X11/lcGetConv.c
      (#A.828, Yong-Jhen Hong).
    + Fix a memory leak when calling _XCloseLC and removing the loadable
      locales (#A.855 Mark Robinson).
    + Fix wrong check in Xaw when rebuilding the line table. If the width
      of a line becomes smaller, it should clear to eol. (Paulo Cesar Pereira
      de Andrade)
    + In the X server, permit XDM-AUTHENTICATION-1 without also requiring
      XDMCP support. (Keith Packard)
    + Fix an initialization problem in the calcomp input driver (#A.1056,
      Josef Walzer).
    + Fix mode validatation to deal with video memory sizes 256MB or greater
      (Marc La France).
    + Fix missing declaration of XShmGetEventBase() in XShm.h (#5375,
      Branden Robinson).
    + Fix a build failure when BuildServersOnly is defined and XnestServer is
      not defined, and when /usr/X11R6 is not installed. (#A.1145, Valeriy E.
      Ushakov).
    + Don't build libGLU when BuildServersOnly set. (Alan Hourihane)
    + Add a 1152x768 mode suitable for Titanium PowerBooks to the set of
      build-in modes (#5212, Michel Dänzer).
    + Add some high resolution modes to the set of built-in modes (calculated
      according to the VESA GTF).  (David Dawes)
    + Regenerate xf86DefModes.c with newly added modes. (David Dawes)
    + Allow Xnest/Xprint to build without traversing lib/X11 subdir. (Alan
      Hourihane)
    + Document 'xset dpms force on'. (David Dawes)
    + Don't assume mmap returns the pointer hint requested.  This is in
      the DENSE map code for Linux/alpha (#5439, Ray Strode).
    + Fix a segfault when using xkbcomp's -I option, and update the man
      page to correctly document the way this option works (#5447, Joe Moss).

  * patch #000_stolen_from_HEAD_ati_driver: new; many, many bugfixes to
    pre-Rage128 ATI chips (sorry, the r128 and radeon sub-drivers have been
    overhauled far too much since 4.2 for me to steal those); among other
    things:
    + Fix IBM-reported bug that could cause PCI bus lockouts with second
      generation integrated Mach64 controllers (Marc La France).
    + In the ATI driver, add option "CrtDisplay" to force CRT display in a
      dual display situation (Marc La France).
    + In the ATI driver, rename option "CrtScreen" to "NoPanelDisplay",
      keeping "CrtScreen" as a private option for compatibility (Marc La
      France).
    + An attempt at disabling display switches while the server is running on
      an LT Pro or Mobility M1 (Marc La France).
    + Fix rounding error in Mach64 DSP calculation (Marc La France).
    + Add PCI ID for ATI Radeon Mobility M7 'LX' (#5233, Mike Harris).  (This
      patch moved from #000_stolen_from_HEAD.)
    + Fix long-standing colour map bug in ATI driver (Marc La France).
    + Fix panel support bug for ATI LTPro, XL and Mobility M1 chips (Marc La
      France).
    + Ignore (with messages) any HorizSync and VertRefresh specifications for
      panels when using ATI LT, LTPro, XL and Mobility M1 (Marc La France).

  * patch #000_stolen_from_HEAD_cyrix_driver: new; updated version of former
    patch #021; this fixes support for the 5510, 5520 and 5530 -- this driver
    only works with VSA1 based chips (#A.1260, Alan Cox).

  * patch #002,905: some Debianisms moved to patch #905 where they belong;
    also, update StorePid() function to use Matthieu Herrb's changes that
    refuse to open an existing pid file, and take more care with the size of
    the Pid_t type; lots more changes, including better logging
    (Closes: #63201)
  * patch #003,906: some Debianisms moved to patch #906 where they belong;
    also, update StorePid() function to use Matthieu Herrb's changes that
    refuse to open an existing pid file, and take more care with the size of
    the Pid_t type
  * patch #004: drop part of patch rejected by upstream which implemented a
    "DefaultGcc2OptimizeOpt" symbol in Imake
  * patch #021: deleted; now in #000_stolen_from_HEAD_cyrix_driver
  * patch #022,064,078; deleted; now in #000_stolen_from_HEAD
  * patch #029: new; include prototypes for functions provided by "Wraphelp.c"
    in the XDMCP library's Wrap.h header file
  * patch #034: new; document OverlayMem option in neomagic driver manpage
    (Diego SANTA CRUZ via Bill Allombert) (Closes: #168139)
  * patch #041: deleted; now in #000_stolen_from_HEAD
  * patch #087,100: resynced with #000_stolen_from_HEAD_ati_driver
  * patch #089,100: resynced with #000_stolen_from_HEAD
  * patch #090: new; support for ATI Radeon 9000 cards (N.B., not the 9500 or
    9700)
  * patch #091: new; drop the sumFile() function from xdm's genauth.c file,
    define DEV_RANDOM for Linux and the Hurd, and change the meaning of the
    randomFile resource to indicate the file that should be opened for the
    reading of entropy.  The default random file on Linux and the Hurd is
    /dev/random; on NetBSD it remains /dev/urandom per the existing XFree86
    code.  Twinks who don't want xdm "draining their entropy pool" can edit
    /etc/X11/xdm/xdm-config and set "DisplayManager.randomFile" to "/dev/zero"
    if they want.  Anyway, this fixes a bug with xdm causing machine checks on
    some architectures when reading a lot of data from /dev/mem.
    (Closes: #107311)
  * patch #102,103: new; patch xf86Events.c to recognize Sun Type6 keyboard
    scancodes, and provide XKB data for type6 keyboards; please test
    (Closes: #100485)
  * patch #202: new; patch from Jay Estabrook (via Falk Hueffner) that fixes
    crashes on Alpha due to datatype confusion in XScreenSaver extension
    (Closes: #161072)
  * patch #313: deleted; made obsolete by patch #091
  * patch #901: updated to fix a few compiler warnings
  * patch #905: fix typo when declaring authDir resource (fortunately, the
    default upstream location is a symlink to the location defined, so this
    doesn't really change anything) (Closes: #167642)
  * patch #907: in XTerm's color app-defaults file, use instance names, not
    class names (see #167495)

  * debian/{xfonts-pex.files,xlibs.files.alpha}: removed these obsolete files
    (thanks, ISHIKAWA Mutsumi) (Closes: #169429)
  * debian/MANIFEST.*: updated to reflect re-sectioning of dexconf manpage
  * debian/{*.templates,/po}: migrated to po-debconf
  * debian/control:
    - add build dependency on po-debconf, and bump versioned dependency on
      debhelper to (>= 4.1.16) for support of the New Debconf Template
      Translation Order
    - Discuss Xlib's loadable modules for i18n in the extended package
      descriptions of xlibs and xlibs-dbg.  In xlibs-dbg's extended
      description, give tips on how to debug the i18n modules.
    - Update URL to driver status document in xserver-xfree86's extended
      description. (Closes: #168289)
  * debian/local/dexconf:
    - improve usage message
    - rework handling of temporary directories and files; respect $TMPDIR
      instead of using the more complex method we had before (Closes: #166177)
    - be sure to quote all expansions of variables that the user can influence
    - clean up a few diagnostic messages
  * debian/local/dexconf.8: renamed to debian/local/dexconf.1
  * debian/local/dexconf.1: updated; added sections on options, evironment,
    diagnostics, asynchronous events, exit status, and future directions;
    other minor edits
  * debian/local/update-fonts-{alias,dir,scale}: reworked diagnostic messages
    a bit; produce them with shell functions
  * debian/local/update-fonts-{alias,dir,scale}.8: updated; added sections on
    operands and diagnostics; other minor edits
  * debian/local/xserver-wrapper.c: (cosmetic) wrapped source code at 80
    columns
  * debian/local/xvfb-run.1: minor cosmetic updates
  * debian/rules:
    - try and cut down on the time and space required by the XFree86 build
      process; when copying the build tree for the debugging server build,
      omit the doc, fonts, and nls directories
    - call debconf2po-update after generating and after cleaning the
      xserver-xfree86-dbg.templates file; I'm not crazy about having to do
      this, but I don't see any alternative with the current po-debconf tools
    - do another substitution (this one for $THIS_SERVER) when generating
      xserver-xfree86-dbg's maintainer scripts, so that the package doesn't
      have an identity crisis
    - install dexconf manpage to section 1
  * debian/scripts/vars.m68k: on m68k, make x-window-system-core depend on
    xserver-xfree86-dbg instead of xserver-xfree86 since the XFree86 module
    loader doesn't work on this arch at present; m68k hackers, please help fix
    this!
  * debian/xdm.init:
    - sleep for one second after using start-stop-daemon --stop successfully
      so that we don't needlessly signal the daemon while it's shutting down
    - minor change; use shell arithmetic operator ("$(( ))") instead of expr
      to do simple math
  * debian/xdm.prerm.in:
    - migrate the last bit of interactivity in the maintainer scripts to
      debconf; use debconf to ask the user if he/she wants to stop a running
      xdm daemon that is managing sessions
    - stop de-registering an obsolete alternative
    - stop defining an unused variable
  * debian/xdm.templates: add template xdm/stop_running_server_with_children
  * debian/xfs.init:
    - sleep for one second after using start-stop-daemon --stop successfully
      so that we don't needlessly signal the daemon while it's shutting down
    - comsetic change; prevent words from being run together when xfs daemon
      won't listen to SIGTERM
  * debian/xlibs-dbg.debugfiles: ship unstripped versions of Xlib's i18n
    modules in /usr/X11R6/lib/debug/X11/locale/common
  * debian/xserver-xfree86.templates: add discussion of new "altwin" symbols
    file and how to use multiple symbols files with xkboptions to
    xserver-xfree86/config/inputdevice/keyboard/options template description

 -- Branden Robinson <branden@debian.org>  Mon, 18 Nov 2002 04:24:48 -0500

xfree86 (4.2.1-3) unstable; urgency=low

  * patch #000_post421: resynced with xf-4_2-branch as of 2002-10-16
    + Fix black cursor images on Mac OS X 10.2.2 (Joseph Maurer).
    + Fix XDarwin rootless crash when window resizing with complex bit gravity
      (Greg Parker).

  * patch #000_stolen_from_HEAD_neomagic_driver: new; backported Xv support
    from HEAD by request of Yaacov Akiba Slama and Klaus Weidner

  * patch #028: new; syntax cleanups to various .y files that cause GNU Bison
    1.50 to choke and die (Closes: #164484,#164486,#164489,#164491)
  * patch #033: deleted; relocated in part to #909
  * patch #087: new; cosmetic cleanups to some ATI driver messages
  * patch #050,084: patch XF86Config.man, not XF86Config-4.man
  * patch #086: some fixes to XF86Setup, XF86DGA, XF86VidMode, reconfig, and
    xvidtune manpages
  * patch #087: new; comsetic fix to some ATI driver log messages
  * patch #088: new; enable DPMS on LCD and DFP monitors attached to Radeon
    cards, not just CRTs (Closes: #164217)
  * patch #089: new; in fbdev driver, pass depth24flags to xf86SetDepthBpp
    based upon reported capabilities of underlying framebuffer hardware
    (thanks, Michel Dänzer) (see #163807)
  * patch #840,841,842,843,844: new; patches to support Debian GNU/NetBSD,
    courtesy of Joel Baker
  * patch #900: uncomment definition of DebianMaintainer in NetBSD.cf as well
  * patch #909: new; formerly part of #033 -- change the .TH section of the
    XF86Config.man file to refer to itself as "XF86Config-4" (see change to
    debian/rules below)

  * debian/{MANIFEST,scripts/vars,xlibs-dev.files,xlibs-pic.files,
    xserver-xfree86.files}.netbsd-i386: add files to support Debian GNU/NetBSD
    for i386 (Closes: #164050)
  * debian/README: "rezoned" the patch sequence numbers for non-Linux Debian
    ports; those who of you who care about such things should re-read this
    file
  * debian/control:
    - add "hurd | freebsd | netbsd | openbsd" as alternatives to
      "kernel-headers-2.4" build dependency (Closes: #130877)
    - add dependency on "libc6-dev | libc-dev" to libdps-dev, libxaw6-dev,
      libxaw7-dev, xlibmesa-dev, and xlibosmesa-dev
    - add "libc-dev" as alternate dependency for libc6-dev in xlibs-dev
    - add netbsd-i386 to list of architectures for which xserver-xfree86 and
      xserver-xfree86-dbg are built
    - xfree86-common conflicts with task-x-window-system{,-core} to force
      these old potato-era packages off the system (Closes: #163927)
  * debian/local/xserver-wrapper.c:
    - make the nice() error handling switchable with a #define between SuSv2
      semantics and old-style semantics
    - stop using the GNU extension strnlen() to appease the Debian GNU/NetBSD
      geeks, who are using BSD's C library (Closes: #163586)
  * debian/rules:
    - use dpkg-architecture -qDEB_BUILD_ARCH instead of dpkg
      --print-gnu-build-architecture (Closes: #149549)
    - export GROFF_NO_SGR=1 to prevent corruption of specs docs in text format
      (Closes: #164708)
    - (build): produce generated files in debian/local before compiling the
      source tree; this way we know early on if the build is going to bomb due
      to that stuff
    - (install): rename the XF86Config.5x manpage to XF86Config-4.5x
  * debian/shell-lib.sh:
    - use "which" instead of "command -v"
    - analyze_path(): don't freak out if a dpkg backup directory doesn't exist
      for the path being analyzed
    - check_symlinks_and_bomb(): don't call analyze_path() in all three
      branches of an if-elif-else; instead use a $PROBLEM variable that
      defaults to null, and gets set if there is a problem
  * debian/xbase-clients.preinst.in: loosen the regex we use to figure out
    what the hell's going on with update-alternatives (Closes: #158512)
  * debian/xbase-clients.postrm.in: remove /etc/X11/xsm directory on purge
    (Closes: #164422)
  * debian/xlibs.links: add app-defaults link from /usr/X11R6/lib/X11 to
    /etc/X11
  * debian/xlibs.postinst.in: stop manually creating symlink from
    /usr/X11R6/lib/X11/app-defaults to /etc/X11/app-defaults now that woody
    has released
  * debian/xlibs.postrm.in: remove /etc/X11/xkb directory on purge
  * debian/xserver-common.postrm.in: stop removing /etc/X11/XF86Config on
    purge (this is xserver-common-v3's job)
  * debian/xserver-xfree86.{bug,config.in,postinst.in}: use "which" instead of
    "command -v"

 -- Branden Robinson <branden@debian.org>  Wed, 16 Oct 2002 14:09:15 -0500

xfree86 (4.2.1-2) unstable; urgency=low

  * patch #000_post421: resynced with xf-4_2-branch as of 2002-10-06
    + Xdm patches: realloc usage, zero malloc()ated memory, enable
      /dev/urandom on NetBSD 1.4 and later (#5345, Mike A. Harris, #5401,
      Matthias Scheler) (Matthieu Herrb)
    + Fix crash in the TextWidget reported by Hans Wilmer. The bug is fixed in
      the TextAction.c patch (actually it was fixed in head, but I forgot to
      update the 4.2 branch, that is what most people are using).  Also synced
      some other bug fixes only in CVS head.  (Paulo Cesar Pereira de Andrade)

  * patch #002: resynced with xf-4_2-branch updates
  * patch #024: new; fix for hangs upon VT switch back to XFree86 on Rage128
    and Radeon cards due to failure to set and reset PCI busmastering properly
    (thanks, Michel Dänzer) (Closes: #163359)
  * patch #026: new; patch from Steven Davies to implement double-buffering
    support for the XVideo extension in the tdfx driver; he wanted testers, so
    I'm sticking this code in to test it.  Welcome to Debian unstable!

  * debian/control:
    - update versioned Replaces in xdm to not reference a version of
      xbase-clients that only existed when woody was unstable
    - update xbase-clients's extended description to mention xf86cfg,
      xf86config, xrandr, xtrapchar, xtrapin, xtrapinfo, xtrapout,
      xtrapproto, xtrapreset, and xtrapstats; remove mention of xieperf, which
      is no longer shipped
    - update xlibs-pic's extended description to mention libI810_XvMC
    - correct typos in extended descriptions of xserver-xfree86{,-dbg}
  * debian/rules:
    - use find | xargs --no-run-if-empty to drive strip for the stripping of
      server modules because, duh, there ain't none on architectures where
      DoLoadableServer is NO; fixes FTBFS bug on those arches
      (Closes: #163522)
    - move aliases for ISO 8859-8 fonts from /etc/X11/fonts/misc/xfonts-base.alias
      to /etc/X11/fonts/misc/xfonts-base-transcoded.alias, since that's where
      the ISO 8859-8 fonts are
  * debian/xfree86-common.config.in: unregister the nag question in the same
    "if" block where we register it

 -- Branden Robinson <branden@debian.org>  Mon,  7 Oct 2002 22:38:45 -0500

xfree86 (4.2.1-1) unstable; urgency=low

  * patch #019: new; patch from David Schleef to fix byteswapping when using
    Xv on Rage128 chips with YUY2 and UYVY data
  * patch #020: new; patch from Mike A. Harris to support EuroSign in gb, hu,
    hu_US, pl, pl2, tr, and us_intl XKB symbols files
  * patch #021: new; Alan Cox's update to the cyrix driver to make it actually
    work
  * patch #022: new; Ross Mikosh's fix for offscreen pixmap corruption after
    VT switch on Matrox cards
  * patch #023: new; use the buggy-HAL workarounds in mode initialization for
    G550 as well as previous Matrox cards
  * patch #047: really got __vendorversion__ defined correctly this time, I
    mean it
  * patch #314: new; fix to chips driver's assumption that all ARM machines
    run NetBSD.  Fixes build failure. (thanks, Michel Dänzer and Othmar
    Pasteka)
  * patch #453; new; unaligned-load functions for ia64 in compiler.h should be
    declared "static __inline__", not "extern __inline__"; otherwise a
    non-optimized build will fail to have them at all.  Fixes build failure.
    (thanks, Matt Chapman)
  * patch #085,150,500: resynced with #047

  * debian/MANIFEST.arm: updated
  * debian/control:
    - updated list of shared libraries in xlibs package description
    - updated list of static-only libraries in xlibs-dev package description
  * debian/local/xvfb-run.1: correct a typo
  * debian/{xlibs,xlibs-dev}.files.alpha: deleted; no longer needed
  * debian/xbase-clients.files.s390: updated
  * debian/xdm.templates.nl: added Dutch translation (thanks, Wouter Verhelst)
    (Closes: #139229)
  * debian/xserver-common.templates.nl: added Dutch translation (thanks,
    Wouter Verhelst) (Closes: #139230)
  * debian/xserver-xfree86.config.in: migrate from pre-4.2 configurations; if
    the "pex" or "xie" modules are selected, de-select them, since they no
    longer exist

 -- Branden Robinson <branden@debian.org>  Fri,  4 Oct 2002 11:11:58 -0500

xfree86 (4.2.1-0pre1v2) unstable; urgency=low

  * patch #000_post_xf-4_2_1: resynced with xf-4_2-branch as of 2002-09-17
    - xc/programs/Xserver/hw/xfree86/doc/sgml/README.sgml: fix typo in URL
      (David Dawes)
    - SECURITY: Implement LocalClientCred() to return the credentials of local
      clients connected through Unix domain sockets on systems that have the
      required support (for now recent Linux, FreeBSD >= 4.6, OpenBSD >= 3.0
      are implemented), and use that in ShmAttach() to grant access to the
      client.  When client credentials are not available, require world
      accessibility. (Matthieu Herrb)
    - xc/programs/Xserver/hw/xfree86/drivers/ati/r128_driver.c: BIOSDisplay
      was always getting forced to R128_BIOS_DISPLAY_FP on cards that might
      have a FP attached. This was wrong if a CRT is being used instead, and
      caused both sets of DPMS routines to get used, which resultsed in a SEGV
      on CloseDisplay(), as well as making DPMS not work for a CRT. (Stuart
      Anderson)
  * patch #000_stolen_from_HEAD:
    - Don't build the GLw library when BuildServersOnly is set. (Marc La
      France)

  * patch #001:
    - Use new symbol DefaultGcc2OptimizeOpt from xfree86.cf instead of
      hard-coding optimization levels for most architectures.
    - In LinuxDebian section, set optimization level per Debian Policy (but
      use #ifndef so it can be overridden in the build environment).
  * patch #004:
    - Define new symbol, DefaultGcc2OptimizeOpt, if it is not already defined
      and HasGcc2 is true.  Make DefaultGcc2{Axp,i386,Ppc}Opt use this by
      default.  This enables more control over the build with fewer things
      passed to IMAKE_DEFINES.
  * patch #016: new; updates to mga(4x) manpage
  * patch #017: new; fixes to xrandr(1x) manpage from Colin Watson
  * patch #018: new; patch from Michel Dänzer to fix broken OpenGL point and
    line drawing on ATI Rage128 chips
  * patch #024: deleted; existing patch #074 should fix this problem in a
    better way
  * patch #047: new; define new imake variable, XFree86ManVersionString, and
    use that for XVendorManVersionString; XFree86VersionString has an embedded
    space that I can't rid of, and messes up manpage .TH macro arguments
  * patch #052: deleted; dropped this Debian-specific meta/alt/windows key
    thing because XFree86 4.2 has the "altwin" symbols file; Emacs users need
    to check it out (/etc/X11/xkb/symbols/altwin)
  * patch #059: fix bdftruncate's usage message to not refer to itself as
    "bdftruncate.pl"
  * patch #061: reworked this patch to fix more problems and make it
    consistent with other X manpages
  * patch #085: new; major enhancements to imake's manpage generation support,
    making it possible to do different cross-references to OS-installed
    manpages versus X11-distributed manpages
  * patch #086: new; started overhauling manpages to take advantage of patch
    #085, use consistent style, fix errors, use proper roff idioms, etc.
  * patch #069,072,077,082,100,150,500: resynced with other patches

  * debian/MANIFEST.{arm,hppa,s390}: updated
  * debian/{MANIFEST.*,xlibs.conffiles,xlibs.files*}: removed
    etc/X11/xkb/symbols/alt, as a consequence of the deletion of patch #052
    (see above)
  * debian/control: bumped Standards-Version to 3.5.7 (see changes to
    debian/rules below)
  * debian/copyright: updated to reflect upstream 4.2.1 release
  * debian/local/dexconf: don't reference the Generic Mouse InputDevice
    section in the ServerLayout section if the Configured Mouse is a gpm
    repeater device
  * debian/local/xterm.faq.html: updated to version 1.75
  * debian/local/xvfb-run{,.1}:
    - added several options to make this script's behavior more configurable
    - documented the new options
    - cleaned up the formatting of the manpage
  * debian/rules:
    - set up DEBUGFLAGS more simply thanks to patches #001 and #004 (just use
      -DDefaultGcc2OptimizeOpt='-O0')
    - recognize "build-arch" and "build-indep" targets (both of them simply
      call "build", however, so this package still has no Build-Depends-Indep
      field)
    - support "noopt" and "nostrip" flags in $DEB_BUILD_OPTIONS
    - explicitly tell dh_strip to strip the modules in
      /usr/X11R6/lib/modules/{drivers,input}
  * debian/xserver-xfree86.config.in: tweak validation of BusID specifications
    to permit exactly one to three digits in each field of a PCI bus spec

 -- Branden Robinson <branden@debian.org>  Thu, 26 Sep 2002 11:01:17 -0500

xfree86 (4.2.1-0pre1v1) unstable; urgency=low

  * new upstream release
    - VT switching fixed on Trident Cyber9525/DVD (Closes: #107451)

  * patch #000_post_xf-4_2_1: resynced with xf-4_2-branch
    - build fix for OpenBSD >= 3.1 (Matthieu Herrb)
  * patch #000_stolen_from_HEAD:
    - resynced patches to xc/lib/X11/{XlcDL.c,lcPrTxt.c}
  * patch #000_stolen_from_HEAD_nv_driver:
    - resynced

  * patch #001,002,003,008,011,012,033,045,046,051,056,061,077,081,100,900,
    905: resynced with XFree86 4.2.1
  * patch #004: #define DevelDrivers to "/* */" for HP-PA and ARM
    architectures
  * patch #009: new; fix problems with a blue bar appearing on the right side
    of the video overlay window when using Xv on i815 chips (thanks, Oliver
    Zendel) (Closes: #131602)
  * patch #010: new; enable the X server to behave correctly when it receives
    EBUSY from ioctl(SUSPEND) (Closes: #133251)
  * patch #013: new; have the wacom input driver wait longer for input (1
    second instead of 1 millisecond) (Closes: #148193)
  * patch #014: new; document the CTRL-ALT-KP* and CTRL-ALT-KP/ key sequences
    in the XFree86 manpage
  * patch #015: new; fix for segfault in lbxproxy's ResizeReverseMap()
    function (Closes: #158196)
  * patch #050: fix more errors in the XF86Config-4 manpage
  * patch #084: new; support a new XFree86 ServerFlags option: "DontVTSwitch"
    which disables keyboard-activated VT switches
  * patch #999: make this debugging patch actually do something (oops), but
    also move it to old-patches directory since it produces copious output to
    the X server log file

  * debian/local/dexconf: don't write a Generic Mouse section if the
    Configured Mouse is a gpm repeater device, because we cannot know what gpm
    is repeating, and it might be a USB mouse (Closes: #154057)
  * debian/rules:
    - copy xserver-xfree86's templates file for xserver-xfree86-dbg's use
    - fix buggy syntax in install-server and binary-server rules
  * debian/xfs.postinst.in: look for xfs's init script before running
    update-rc.d, not xdm's

 -- Branden Robinson <branden@debian.org>  Sat,  7 Sep 2002 15:29:06 -0500

xfree86 (4.2.0-0pre1v4) unstable; urgency=low

  * Re-generated .orig.tar.gz without the README.DRI and README.DRIcomp files
    under xc/programs/Xserver/hw/xfree86/doc; the documents are not licensed
    DFSG-freely.  Sorry for causing the 50 meg hit on those of you interested
    in the orig tarball.  :(

  * patch #000_post_xf-4_2_0: resynced with xf-4_2-branch
    - Set version/date for a 4.2.0.1 snapshot. (David Dawes)
    - Fix i810_free_page() and i830_free_page() for DRI kernel modules so
      that later 2.4.x kernels are supported. (Alan Hourihane)
    - Add missing commas to us_intl XKB symbols file (sync with HEAD). (Paulo
      Cesar Pereira de Andrade)
    - install darwinLib.{rules,tmpl} (David Dawes)

  * patch #001: add DefaultGcc2DebugOpt to OptimizedCDebugFlags for all
    architectures (not sure why upstream doesn't have debugging in the stock
    optimized C "debug" flags...)
  * patch #004: new; don't build the imstt and Amiga framebuffer drivers by
    default for arm and hppa architectures
  * patch #073; deleted; taken care of by xf-4_2-branch (see above)
  * patch #079: new; updated savage driver up to Tim Roberts's version 1.1.23t
    (thanks, Chris Halls!)
  * patch #080: new; minor corrections to the Xlib and Xt manuals (thanks,
    Jochen Voss) (Closes: #159170,#159207,#159209)
  * patch #081: new; Mike Harris's patch for Radeon Mobility and FireGL 7800
    (a.k.a. "LX" chipset) support
  * patch #082: new; patch to ati driver to enable r128 and radeon drivers to
    compile without vgahw layer enabled
  * patch #083: new; patch to i810 driver to enable it to compile when the
    static server is enabled (the i810_outreg_get_addr_name and
    i810_outreg_decode_register functions are not defined anywhere)
  * patch #100: remove patch to atimach64.c because xf86WriteMmioBe() should
    not be directly referenced by driver code -- only via macros
  * patch #101: new; patch from David S. Miller via Ben Collins to fix
    erroneous module loader assumption about all SPARC 4m-MMU-using
    processors supporting v8 instructions (Closes: #111581)
  * patch #400: deleted; it simply undid the now-removed atimach64.c patch
    from patch #100 for the hppa architecture
  * patch #908: don't attempt to do anything with now-nonexistent
    README.DRI{,comp} files (see above)

  * debian/MANIFEST.*: updated
  * debian/control:
    - xlibs Conflicts: xbase-clients (<< 4.2.0) because some clients (such as
      xdpyinfo) in 4.1.0 and earlier versions of xbase-clients are linked
      against libXIE, which is no longer shipped.  xlibs will need to Conflict
      with any other packages that depend on the disappearing PEX5 and XIE
      libraries.
  * debian/copyright: update the "dead pool" to add README.DRI{,comp}
  * debian/rules:
    - when building static debugging server, set optimization level to 0
      instead of 2
  * debian/xserver-xfree86.docs.*: remove README.DRI{,comp}
  * debian/xserver-xfree86.templates:
    - clarify the circumstances under which advanced users can look for the
      XKB directory (Closes: #140228)
    - clarify that the mouse questions don't support more than 5 buttons
      (see #141390)

 -- Branden Robinson <branden@debian.org>  Tue,  3 Sep 2002 01:04:23 -0500

xfree86 (4.2.0-0pre1v3) unstable; urgency=low

  * patch #000_post_xf-4_2_0:
    - include DPMS fix for r128 driver (thanks to Stuart Anderson for pulling
      the patch over to xf-4_2-branch)
  * patch #000_stolen_from_HEAD:
    - Fix SEGV in 3dfx DRI driver. (Alan Hourihane)
    - Fix enabling of i810 DRI when XvMC is disabled (#5208, Matthew Sottek,
      Intel).
  * patch #000_stolen_from_HEAD_nv_driver:
    - Refence the "nv" driver.  PPC and Alpha users should test this.
      Especially to see if this solves the problem with color expansion hangs.
      (Mark Vojkovich)

  * patch #001: turn off modular XFree86 server for MIPS architectures since
    the ELF loader isn't yet working on those platforms, per Guido Guenther
  * patch #075: new; don't ship the XIE headers if we're not building the
    library
  * patch #076: new; xterm now works around hateful lies from GNU libc's
    getpt() function (see #121899)
  * patch #077: new; define DriverManSuffix as 4x and MiscManSuffix as 7x on
    GNU and Linux systems per suggestion from Colin Watson (see #157020)
    (Closes: #85297)
  * patch #313: new; tell xdm that more architectures have "fragile" /dev/mem
    devices (i.e., only read above 1MB) (might fix #107311)
  * patch #600: new; patch from Guido Guenther to fix some newport driver
    bugs:
    - broken 24bpp mode setup
    - black console after starting X
    - screensaver blanking the console
    - off-by-one errors in the RefreshArea code

  * debian/MANIFEST.*: updated
  * debian/control:
    - new package: xserver-xfree86-dbg -- a monolithic XFree86
      server binary complete with debugging symbols for your SEGV backtracing
      pleasure
    - add ${shlibs:Depends} for library debugging packages
  * debian/local/{XF86Config.7,Xsession.5,Xsession.options.5,
    Xwrapper.config.5,dexconf.8,update-fonts-alias.8,update-fonts-dir.8,
    update-fonts-scale.8,xdm.options.5,xfs.options.5,xvfb-run.1}: update
    manpage reference to reflect change from patch #077 (see above)
  * debian/local/Xsession: remove unused *MODMAP variables (see #157396)
  * debian/local/update-fonts-alias: only start writing new alias file if
    there are any aliases to process (thanks, Ian Zimmerman) (Closes: #144780)
  * debian/rules:
    - new rules; "genscripts" and "cleanscript", and some miscellaneous
      cleanup
    - add infrastructure to support new xserver-xfree86-dbg package
    - add workaround for dpkg-shlibdeps brain damage so that xlibs does not
      end up depending on itself (see #80340)
  * debian/{xdm,xfs}.postinst.in: only invoke update-rc.d if init script
    exists (user may have removed it) (Closes: #151023)
  * debian/xfree86-common.files: update to new manpage filenames (see above)
  * debian/xfree86-common.postinst.in: include a confmodule-sourcing
    fragment
  * debian/xlibs.links: remove obsolete symlinks to XIE and PEX5 libraries
  * debian/xlibs.shlibs.dummy: kludge file to work around dpkg-dev bug #80340
    (see above)
  * debian/xserver-xfree86-dbg.files: new; ship XFree86-debug executable
  * debian/xserver-xfree86.files*: update to new manpage filenames (see above)
  * debian/xserver-xfree86.files.hppa: ship nv(4) manpage
  * debian/xserver-xfree86.files.m68k: ship driver modules and manpages for nv
    and savage drivers
  * debian/xserver-xfree86.files.mips: remove server modules (see above)
  * debian/xserver-xfree86.files.powerpc: ship driver modules and manpages for
    nv and savage drivers
  * debian/xserver-xfree86.templates:
    - document that the maximum supported color depth is 8 on old ATI hardware
      (see #76291)
    - mention that the vbe module depends on the int10 module
      (Closes: #139755)
  * debian/xserver-xfree86.templates.nl: added Dutch translation (needs
    update) (thanks, Wouter Verhelst) (Closes: #139231)
  * debian/xserver-xfree86.templates.sv: updated Swedish translation (needs
    update) (thanks, Mikael Hedin) (Closes: #143477)

 -- Branden Robinson <branden@debian.org>  Tue, 20 Aug 2002 11:40:39 -0500

xfree86 (4.2.0-0pre1v2) unstable; urgency=low

  * Re-generated .orig.tar.gz without the COPYRIGHT.BH and COPYRIGHT.IBM files
    under xc/fonts/scaled; the fonts under these licenses are not in our
    source tarball because they are not DFSG-free, therefore it does not make
    sense to ship copyright license files that do not apply to anything.
    Also removed the non-free fonts from
    xc/programs/Xserver/XpConfig/C/print/models.  Sorry for causing the 50 meg
    hit on those of you interested in the orig tarball.  :(

  * patch #000_stolen_from_HEAD:
    - Add PCI ID for ATI Radeon Mobility M7 'LX' (#5233, Mike Harris).
    - Move int10 softbooting farther up in the glint driver to post much
      earlier (Alan Hourihane).
    - Fix RGB/BGR inversion problem and screen blanking in the glint driver
      (Alan Hourihane).

  * patch #000_stolen_from_HEAD_nv_driver:
    - updates to nv driver from XFree86 CVS courtesy of James Hirschorn

  * patch #001:
    - define XFree86CustomVersion as "Debian" when building with
      DebianMaintainer symbol defined
    - clean up duplicate definitions for HPArchitecture
    - updated patches for SuperH 4 (sh4) architecture per ISHIKAWA Mutsumi
  * patch #002: re-apply a couple of xdm configuration patches that got lost
  * patch #003: re-apply a cosmetic fix to the X font server code that got
    lost
  * patch #061: re-apply some fixes to the Xserver(1) manpage that got lost
  * patch #072: new; patch from Michel Dänzer to support a boolean "DMAforXv"
    option in the r128 driver
  * patch #073: new; patch from Andoni Zubimendi to fix syntax errors in the
    us_intl XKB symbols file
  * patch #074: new; patch from H. J. Lu via Jack Howarth to make the XFree86
    server's ELF object loader not barf on modules with no symbols in them
    (Closes: #154855)
  * patch #150: build the nv driver module for PowerPC

  * debian/MANIFEST.{arm,ia64,mips,sh3,sh4}: updated
  * debian/control:
    - s/Lucidux/Luxi/ in xfont-scalable's extended description, since Bigelow
      & Holmes changed the name of the font.
    - bump xlibs, xserver-common, and xutils' versioned dependencies on
      xfree86-common to 4.2 or greater
    - add "sh3" and "sh4" to architecture list for xserver-xfree86
  * debian/copyright:
    - update the "dead pool" (list of non-free files) to bring it in line with
      4.2.0 reality
    - update upstream license section to include current contents of xc/LABEL
      and xc/programs/Xserver/hw/xfree86/doc/LICENSE
    - drop old "SGI FREE SOFTWARE LICENSE B", which applied to a big Mesa
      patch Debian applied a long time ago but which has been defunct for
      quite a while
  * debian/rules:
    - generate (and clean) ".config" maintainer scripts from an .in file just
      as we do the preinst, postinst, prerm, and postrm scripts
    - substitute the string "@SOURCE_VERSION@" with the package version number
      when generating the maintainer scripts
    - resume stripping XFree86 server modules on Alpha again, thanks to patch
      #074 (see above)
  * debian/shell-lib.sh:
    - define the SOURCE_VERSION variable to "@SOURCE_VERSION@" (which gets
      replaced in the rules file)
    - use signal names instead of numbers in the trap command
    - add garlic to ward off Clint Adams (see #150384)
  * debian/xfree86-common.{config.in,templates}: added a little lesson in
    literacy for those who refuse to read
  * debian/xlibmesa3.files.ia64: updated
  * debian/xlibs.files.ia64: deleted; ia64 now uses xlibs.files
  * debian/xlibs-dbg.debugfiles.*: deleted; all arches now use
    xlibs-dbg.debugfiles
  * debian/xlibs-dev.files.ia64: deleted; ia64 now uses xlibs-dev.files
  * debian/xserver-xfree86.config: added s3 driver to fallback, hard-coded
    list of available driver modules for architectures which build this driver
  * debian/xserver-xfree86.docs.*: updated
  * debian/xserver-xfree86.files.ia64: updated

 -- Branden Robinson <branden@debian.org>  Mon,  5 Aug 2002 00:07:45 -0500

xfree86 (4.2.0-0pre1v1) unstable; urgency=low

  * First experimental releae.  Thanks to ISHIKAWA Mutsumi for making this
    release possible.

  * Source tar archive does not contain the non-free TrueType and Type1 fonts;
    see debian/copyright for details.

  * new upstream version
    - X server now does blocking writes to on standard output and standard
      error; prevents DoS attacks (Closes: #81651)
    - ATI Rage 128 SM chips now recongized (Closes: #88954)
    - trident driver improved (Closes: #99348)
    - sis driver now works on laptop video bridges (Closes: #99409)
    - es_ES@euro locale now recognized (Closes: #99350)
    - neomagic driver no longer hangs the X server (Closes: #99908)
    - neomagic driver no longer falsely advertises Xv support
      (Closes: #108672)
    - savage driver improved (Closes: #111611)
    - ati/r128 driver improved (Closes: #111823)
    - server no longer crashes when glVertex3f() called with NaN as an argument
      (Closes: #116590)
    - the pex5 module can't segfault if it doesn't exist, which it doesn't now
      (Closes: #116610)
    - ATI Radeon Mobility M6 chips now supported (Closes: #118929)
    - ATI Radeon Mobility M6 and M7 chips now recognized (Closes: #120741)
    - ATI Radeon 8500 / R200 QL chips now recognized (Closes: #123343)
    - new s3 driver supports Trio32 and Trio64 cards (Closes: #131248)
    - ATI Xpert 2000 / Rage 128 TF chips now recognized (Closes: #134070)
    - dark colors no longer display as black when -rv option used on a
      monochrome terminal with xterm (Closes: #134340)
    - S3 ProSavage Twister chips now supported (Closes: #136690)
    - fixes font corruption problems in mga driver (Closes: #139304)
    - alt key handling now consistent between pc101/102 and pc104/105 keymaps
      (Closes: #143683)
    - CyberBlade/i1 lockups in trident driver resolved (Closes: #149518)

  * patch #000_post: update to xf-4_2-branch as of 2002-06-09 (ISHIKAWA
    Mutsumi)
  * patch #000_stolen_from_HEAD.diff: new;
    - 157. Add some reference counting for Xlib's i18n modules,
      preventing a module getting unloaded while it's still in use
      (#5160, Owen Taylor).
    - 159. Add missing zh_CN XI18N_OBJS file (#5164, Yong Li).
    - 163. Fix a bug that resulted in XwcTextPropertyToTextList()
      storing an incomplete list (#5168, Tassia St. Germain,
      for X.Org).
    - 172. Fix a bounds check in Xlib's Region code (#5183, Owen Taylor).
    (ISHIKAWA Mutsumi)
  * patch #046: add XvMC_pic and libI810XvMC_pic.a library support (ISHIKAWA
    Mutsumi)
  * patch #071: new; fix for X-TT SEGV (ISHIKAWA Mutsumi)
  * patch #550: new; sh3/sh4 architecture support; tiny fixes to linux.cf
    (fix invalid cpp syntax and disable DoLoadableServer) (ISHIKAWA Mutsumi)
  * patch #551: new; fix for static server build on sh3/sh4 (ISHIKAWA Mutsumi)
  * almost every patch file was affected in some way; either dropped or
    resynced with the new release

  * Client-side support for the PEX5 and XIE extensions has been dropped; this
    includes the xfonts-pex the extension libraries and headers in xlibs and
    xlibs-dev, and the xieperf client from xbase-clients.
  * New X protocol extensions: Xrandr ("X R and R": root window resizing and
    rotation extension) and XTrap (enables capture of server protocol and
    sythesis of core input events); this includes extension libraries and
    headers in xlibs and xlibs-dev, as well as sample clients in
    xbase-clients: xrandr, xtrapchar, xtrapin, xtrapinfo, xtrapout,
    xtrapproto, xtrapreset, and xtrapstats.
  * New font-encoding library and header files in xlibs and xlibs-dev.
  * New experimental protocol extension: XvMC (X video motion compensation);
    currently available only as a static extension library in xlibs-dev.  A
    static PIC version is also available in xlibs-pic.
  * New font encoding files for dec-special, ISO 8859-16, KSC 5601.1992, and
    TIS 620-2.
  * New font in the ClearlyU family: 12-point Devanagari
  * The internationalization support in Xlib has been modularized.
  * The Compose map for the mk_MK.UTF-8 locale has been dropped.
  * New symbols files for XKB: al, altwin, ar, ben, compose, czsk, dev, ge_la,
    ge_ru, guj, gur, ir, iu, la, level3, mm, mt, mt_us, nl, pl2, ru_yawerty,
    sapmi, se_FI, se_NO, se_SE, tj, tml, tr_f, us_group2, yu.
  * The lt_p symbols file for XKB has been dropped.
  * An s3 video driver module for the XFree86 X server has been added; it
    supports some pre-ViRGE S3 cards such as the Trio64.
  * The newport video driver module for the XFree86 X server now builds for
    more architectures.
  * New input driver modules for the XFree86 X server: calcomp, dmc, hyperpen,
    penmount.
  * There is a new extension to the mi (machine-independent) portion of the X
    server implementation: "layer", which currently hooks into the shadowfb
    support and is used by the RandR extension.
  * New utility: luit, a filter that can be run between an arbitrary
    application and a UTF-8 terminal emulator.  Now part of xutils.
  * There is now a DRI driver for Intel i830 chipsets (in xlibmesa3).
  * Tons of new manpages for the gl*() functions (in xlibmesa-dev).
  * xedit (in xbase-clients) now knows how to process LISP expressions.
    Phear.

  * add support for sh3 and sh4 architectures; new files
    {MANIFEST,xserver-xfree86.files,scripts/vars}.{sh3,sh4} (ISHIKAWA Mutsumi)

  * debian/MANIFEST.{alpha,hppa,m68k,powerpc,sparc}: updated (ISHIKAWA
    Mutsumi)
  * debian/README: allocate patch sequence numbers for Hitachi SuperH (sh)
    architecture(s)
  * debian/changelog{,.Debian.old}: entries from XFree86 4.0.1 through 4.0.3
    moved to the old changelog file
  * debian/control:
    - drop xfonts-pex package (ISHIKAWA Mutsumi)
    - update xlibs's extended description to note that the PEX5 and XIE
      extension client libraries are no longer shipped or supported
    - xserver-common conflicts with xserver-{rage128,sis}; these obsolete
      packages expect outdated behavior regarding /etc/X11/Xserver.  This
      change smooths potato upgrades.  (Closes: #148937)
  * debian/copyright:
    - added ISHIKAWA Mutsumi to list of package authors
  * debian/shell-lib.sh: update analyze_path() to list all contents of the
    parent directory when a file being searched for is not found; this is to
    help the dpkg maintainers troubleshoot the ever-elusive
    "missing-symlink-to-directory" problem
  * debian/shlibs.local
    - add libXTrap 6 xlibs (>> 4.2.0)
    - add libXrandr 6 xlibs (>> 4.2.0)
    (ISHIKAWA Mutsumi)
  * debian/xbase-clients.files{,s390}:
    - add xtrap* and manpages
    - add xrandr and manpage
    (ISHIKAWA Mutsumi)
  * debian/xfonts-base.files: add some of the new encoding files (ISHIKAWA
    Mutsumi)
  * debian/xlibs.files*:
    - drop libPEX5 and libXIE (no longer built upstream by default)
    - add various new XKB files
    - add libXTrap.so.1.0
    - add libXrandr.so.6.0
    - bump libXrender.so.1.0 -> libXrender.so.1.1
    (ISHIKAWA Mutsumi)
  * debian/xlibs.conffiles: add various new XKB files (ISHIKAWA Mutsumi)
  * debian/xlibs.shlibs
    - add libXTrap 6 (>> 4.2.0)
    - add libXrandr 6 (>> 4.2.0)
    (ISHIKAWA Mutsumi)
  * debian/xlibs-dev.files*:
    - drop libPEX5.a, libXIE.a, and related header files (see above)
    - add libXTrap.a
    - add libXvMC.a and libI810XvMC.a
    - add libXrandr.a
    - add libfontenc.a
    (ISHIKAWA Mutsumi)
  * debian/xlibs-dbg.debugfiles*:
    - drop libPEX5 and libXIE (see above)
    - add various XKB files
    - add libXTrap.so.1.0
    - add libXrandr.so.6.0
    - update libXrender.so.1.0 -> libXrender.so.1.1
  * debian/xlibs-pic.files: add libXvMC_pic.a and libI810XvMC_pic.a (ISHIKAWA
    Mutsumi)
  * debian/xserver-xfree86.files.{alpha,powerpc,sparc}: add s3_drv.o,
    libxtrap.a,liblayer.a, new input drivers and related manpages (ISHIKAWA
    Mutsumi)
  * debian/xserver-xfree86.files.{hppa,m68k}: add new input drivers' manpages
    (ISHIKAWA Mutsumi)
  * debian/xutils.files{,.powerpc}: add luit and its manpage (ISHIKAWA
    Mutsumi)

 -- Branden Robinson <branden@debian.org>  Sat, 15 Jun 2002 21:45:03 -0500

xfree86 (4.1.0-17) unstable; urgency=low

  * patch #069: set the r128 driver's pitch increment to 8 * 32 instead of 8 *
    64 bytes, since we know that a pitch of 800 bytes works on, for instance,
    ATI Rage 128 LF-based clamshell iBooks; thanks to Michel Dänzer for his
    help identifying the problem
  * patch #070: patch from Michel Dänzer so that the fbdevhw layer doesn't
    fail silently when no framebuffer device (e.g., /dev/fb0) can be found, or
    doesn't respond to ioctl()s
  * Renamed Danish debconf template translation files from *.dk to *.da, and
    updated internal tags accordingly. (thanks, Denis Barbier)
    (Closes: #144111)
  * debian/control:
    - xserver-common suggests configlet-frontends
    - xserver-xfree86 suggests discover (Closes: #145870)
    - xlibs-dev suggests xspecs (Closes: #144391)
    - updated xserver-xfree86's extended description to mention discover
  * debian/local/FAQ:
    - added new question: "Why do the menus in xterm have the wrong font,
      size, background color, or foregound color?"
  * debian/local/Xsession.5:
    - minor clarification
  * debian/local/xserver-wrapper.c:
    - *sigh* Ben Collins changed our FROZEN C library back to pre-SuSv2 nice()
      semantics, so rewrote the nice() error handing
    - correct limits on legal nice values from -20 <= x <= 20 to
      -20 <= x <= 19
  * debian/xserver-xfree86.config:
    - allow three digits in a PCI bus number
    - when testing for fbcon, actually cat /proc/fb if it exists; it's only in
      use if a string is returned
    - do not explicitly load the "dri" module on the sparc architecture if the
      sunffb driver is being used, because of an apparent upstream bug in the
      module loader (thanks, Ben Collins)

 -- Branden Robinson <branden@debian.org>  Fri, 24 May 2002 01:26:13 -0500

xfree86 (4.1.0-16) unstable; urgency=high

  * patch #000_stolen_from_HEAD:
    - Pitch calculation updates for the r128 driver (#5074, Michel Dänzer).
  * patch #000_stolen_from_HEAD_xdm:
    - Fix bug in XDMCP implementation that causes sessions to close after
      approximately 48 days. (Keith Packard)
    - Fix absence of signal handling for interrupted reads from pipe in
      Xwilling code. (#A.728, Darren Marshall) (Closes: #140374)
  * patch #065: glibc-header-dependent SiS DRI build fix; updated comments to
    point to Debian mailing list discussion of this patch so that people can
    figure out what's going on
  * patch #066: supplementary patch to #065, which should handle the cases
    that #065 does not (thanks, Jack Howarth) (Closes: #141116)
  * patch #067: in the ELF module loader, do not assume that memory returned
    by malloc() is marked executable (needed by forthcoming Linux 2.4.18 for
    IA-64) (thanks, Bdale Garbee and David Mosberger)
  * patch #068: treat errno of ENODEV as non-fatal when trying to access I/O
    ports; based on a patch by Philip Blundell (Closes: #141357)
  * patch #312:
    - XKB keycodes file for Acorn RiscPC's, courtesy of Philip Blundell
      (Closes: #141392)
  * patch #400: resynced with patch #068

  * debian/MANIFEST.*: updated to include new XKB RiscPC keycodes file
  * debian/MANIFEST.s390: updated yet again (thanks, Gerhard Tonn)
  * debian/control:
    - xserver-common now declares a versioned conflict against all XFree86 3.x
      X server packages prior to 3.3.6-35, due to the X server wrapper's
      changed expectations about how /etc/X11/X should be handled
      (Closes: #141636)
    - change architecture of x-window-system-core from "all" to "any" so that
      all that XWSC_SPECIAL_DEPENDS stuff actually has a chance to work; also
      updated this package's extended description (thanks, Gerhard Tonn)
  * debian/local/FAQ: added new question; "Why does the X server take up so
    much memory?"
  * debian/rules:
    - add special logic to install README and README.fonts files due to
      apparent bug in upstream Imakefile (thanks, Gerhard Tonn)
    - pass dpkg-gencontrol the substvar for x-window-system-core in the
      binary-arch rule, not binary-indep, now that x-window-system-core is
      architecture: any
  * debian/scripts/vars.s390: new variable, NOT_BUILDING_XF86_SERVER, used by
    above debian/rules patch (thanks, Gerhard Tonn)
  * debian/xdm.templates.pl: added Polish translation (thanks, Marcin Owsiany)
    (Closes: #142538)
  * debian/xdm.templates.ru: added Russian translation (thanks, Ilgiz
    Kalmetev) (Closes: #136937)
  * debian/xdm.templates.sv: added Swedish translation (thanks, Peter Toneby)
    (Closes: #141413)
  * debian/xlibs.{files.*,conffile}: updated to include new XKB RiscPC
    keycodes file
  * debian/xserver-common.templates.pl: added Polish translation (thanks,
    Marcin Owsiany) (Closes: #142542)
  * debian/xserver-common.templates.ru: added Russian translation (thanks,
    Ilgiz Kalmetev) (Closes: #136615)
  * debian/xserver-common.templates.sv: added Swedish translation (thanks,
    Peter Toneby) (Closes: #141415)
  * debian/xserver-xfree86.config:
    - don't ignore autodetected mouse protocol (Closes: #142005)
    - if mouse autodetection fails, set template to false in the case question
      doesn't get asked (for noninteractive configuration)
    - don't ask autodetection questions if reconfiguring the package
  * debian/xserver-xfree86.templates.ru: added Russian translation (thanks,
    Ilgiz Kalmetev) (Closes: #138325)
  * debian/xserver-xfree86.templates.sv: added Swedish translation (thanks,
    Peter Toneby) (Closes: #141412)

 -- Branden Robinson <branden@debian.org>  Tue, 16 Apr 2002 06:39:42 -0500

xfree86 (4.1.0-15) unstable; urgency=high

  * the "I want super-stable releases every 2 months and CVS HEAD every day"
    release
  * patch #000_stolen_from_HEAD:
    - Alan Hourihane's fix for calculation of DPI when Xinerama is in use
      (Closes: #127749)
    - SECURITY: Don't abuse the priviledges of the X server to access shared
      memory segements in MIT-SHM (Roberto Zunino, Matthieu Herrb).
      (Closes: #140862)
    - fix erroneous variable reference that could cause Xft to be disabled
      when LD_BIND_NOW is used, causing stack poisoning (Keith Packard, Kevin
      Puetz) (Thanks, Kevin!) (Closes: #137145)

  * patch #064: fix in fbdev driver; fbdev wasn't telling shadow layer when
    there was no framebuffer available (i.e., when switched away to a
    different VT) (patch courtesy of Keith Packard, Roland Schulz, and Michel
    Dänzer)
  * patch #065: raped again by Herbert Xu and Ben Collins; you're not
    "supposed to" Build-Depend on a kernel package and at the same time the
    glibc versions of the kernel headers exclude SiS DRM ioctls that we need
    #defined to compile properly.  Kludge these #defines into sis_alloc.c
    because, of course, it's XFree86's job to know what the uderlying kernel's
    ioctl numbers are.  While we're at it, why don't we just stop using
    standardized constants in our C programs altogether?  :-P  Oh, by the way,
    these are the ioctl's for i386 Linux.  Talk to Herbert and Ben if this
    sucks for you. (Closes: #139511)
  * patch #451: fix for page size problems on ia64 (thanks, Bdale Garbee and
    Chris Ahna)
  * patch #452: workaround for an ATI expansion ROM problem that is fatal on
    HP McKinley prototype systems (thanks, Bdale Garbee)
  * patch #500: Gerhard Tonn's patches to enable X server code on the s390
    architecture; however, the XFree86 X server itself is still not built.
    Also affected:
    + debian/MANIFEST.s390
    + debian/control
    + debian/rules
    + debian/scripts/vars.s390
    + debian/xbase-clients.conffiles.s390
    + debian/xbase-clients.files.s390
    + debian/xlibs-dev.files.s390

  * debian/control:
    - xlibs Conflicts: xcontrib (<< 4.0) and xsm (<< 4.0); this should help
      apt figure out some upgrade paths
    - xvfb Suggests: xbase-clients (Closes: #134947)
    - x-window-system-core Depends: ${F:XWSC-Special-Depends} instead of
      "xserver-xfree86" (see below, should make this package installable on
      s390) (Closes: #137587)
  * debian/local/FAQ: added new question; "Why doesn't the X server package
    just depend on the xfonts-base package?"
  * debian/local/Xsession.d/20xfree86-common_process-args: also test for null
    return from "which" run on program specified on command-line
    (Closes: #133002)
  * debian/local/Xsession.d/50xfree86-common_determine-startup: correct and
    quote a variable reference to prevent unintended reads from standard input
    (thanks, Robert Bihlmeyer) (Closes: #131291)
  * debian/local/Xwrapper.config: correct range of permitted nice values
  * debian/local/dexconf: give users more information in comment block of
    written X server configuration files (Closes: #136438)
  * debian/local/dexlet/main.py:
    - update BusID validation code to reject hexadecimal digits, and accept
      3-digit bus numbers (thanks, Richard Hirst)
    - update BusID validation code to accept XFree86's special "-1" value,
      which appears to indicate an ISA bus
    - store selection_method template from configlet (thanks, Richard Hirst)
  * debian/local/xvfb-run{,.1}: xvfb-run checks for existence of xauth, and
    exits with an error message if it cannot be found (thanks, David Schleef)
  * debian/local/xserver-wrapper.c: change nice() usage to fit SuSv2
    semantics; see Debian Bug #140012
  * debian/rules:
    - define special substvar F:XWSC-Special-Depends to take care of the fact
      that s390 doesn't build xserver-xfree86, and still keep the
      x-window-system-core metapackage useful
    - ship text version of xterm FAQ again (thanks, Laurent Bonnaud)
      (Closes: #137529)
  * debian/scripts/vars.*: define XWSC_SPECIAL_DEPENDS for all architectures
    except s390
  * debian/shlibs.local: resynced with xlibmesa3.shlibs (see below)
  * debian/xbase-clients.preinst.in: remove obsolete xconsole alternative if
    it exists (Closes: #131251)
  * debian/{xdm,xserver-common,xserver-xfree86}.templates.ca: added Catalan
    translations (thanks, Ivan Vilata i Balaguer) (Closes: #133791)
  * debian/xdm.templates.fr: added French translation (thanks, Jean-Christophe
    Dubacq)
  * debian/xdm.templates.it: added Italian translation (thanks, Matteo
    Dell'Amico) (Closes: #135915)
  * debian/xdm.templates.ja: added Japanese translation (thanks, Tomohiro
    KUBOTA)
  * debian/xfree86-common.doc-base.debian-x-faq: correct typo (thanks, Laurent
    Bonnaud) (Closes: #137524)
  * debian/xlibmesa3.shlibs: "libgl1" to "xlibmesa3 | libgl1" so that packages
    using this library don't get a pure virtual dependency in their control
    data (Closes: #135443)
  * debian/xserver-common.preinst.in: if /etc/X11/Xserver exists, echo a note
    it being obsolete, and move it (thanks, Joey Hess)
  * debian/xserver-common.templates.dk: added Danish translation (thanks,
    Dennis Haney) (Closes: #131611)
  * debian/xserver-common.templates.fr: updated French translation (thanks,
    Jean-Christophe Dubacq)
  * debian/xserver-common.templates.it: added Italian translation (thanks,
    Matteo Dell'Amico) (Closes: #135908)
  * debian/xserver-common.templates.ja: updated Japanese translation (thanks,
    Tomohiro KUBOTA) (Closes: #137861)
  * debian/xserver-xfree86.config:
    - big-time changes, mostly to support DEBIAN_FRONTEND=noninteractive
    - documented proper syntax for the shell functions used
    - changed syntax of exiting validate_* functions so that question priority
      is supplied as an argument, and updated all function invocations to
      correspond to this
    - new functions; validate_bus_id_db_input(),
      validate_monitor_frequency_db_input(), and auto_answer(); use these
      new validate_* functions when getting bus ID's and monitor data, instead
      of inlining the code
    - stopped using and eliminated tsl() function; dropped in favor of
      auto_answer() instead
    - collect information about installed video cards in one pass at the
      beginning of the script, and set NSERVERS, NDRIVERS, NCARDS, and MULTIHEAD
      accordingly
    - MULTIHEAD is now set if NCARDS is greater than one, not NSERVERS
    - updated and added some debugging messages
    - migrated debconf questions that *MUST* have answers, and do not have
      "safe" defaults, to use auto_answer() instead, note that if you do not
      pre-answer these questions and configure this package with the
      noninteractive frontend, the X server is NOT guaranteed to be configured
      in a sane way
    - change all autodetect questions to use auto_answer() function, set to
      false if the question cannot be asked, and stop setting the seen flag to
      false before asking the question (Closes: #137869)
    - specify MAY_BE_NULL variable on the same line as the call to
      validate_string_db_input, always
    - handle case where mdetect returns no output at all; also, break out of
      autodetection loop after one iteration if the autodetection question is
      not being aksed
    - don't do string compares on $?
    - pre-answer video card and monitor identifier questions with
      locale-specific generic answer when a default cannot be determined with
      probing
  * debian/xserver-xfree86.templates.fr: updated French translation (thanks,
    Jean-Christophe Dubacq)
  * debian/xserver-xfree86.templates.it: added Italian translation (thanks,
    Matteo Dell'Amico and Emanuele Aina) (Closes: #135966)
  * debian/xserver-xfree86.templates.ja: updated Japanese translation (thanks,
    Tomohiro KUBOTA)

 -- Branden Robinson <branden@debian.org>  Tue,  2 Apr 2002 14:30:05 -0500

xfree86 (4.1.0-14) unstable; urgency=low

  * patch #000_stolen_from_HEAD:
    - Alan Hourihane's fix for the server's ELF object loader on m68k
    - Phil Blundell and Adam C. Powell IV's patches for ARM support in the ELF
      object loader accepted upstream

  * patch #251,#312,#999_m68k_debug_elfloader: removed

  * debian/MANIFEST.*: updated to reflect restored configlet
  * debian/control:
    - xserver-common Conflicts: configlet (<= 0.9.22) to force ancient,
      API-incompatible, Progeny-only version of the configlet engine off of
      the system
    - xserver-common Suggests: configlet-frontends to gently encourage people
      to try out this new configuration mechanism
  * debian/local/dexconf: if we're moving an existing config file out of the
    way, just write the new one without reference to the old one
    (Closes: #129434)
  * debian/rules:
    - move two font aliases from xfonts-base to xfonts-base-transcoded, since
      that's where the actual fonts are (thanks, Manfred Wassman)
      (Closes: #128925)
    - ship the configlet again
  * debian/xdm.templates.de: added German translation (thanks, Veit Waltemath)
    (Closes: #129693)
  * debian/xserver-common.{config,templates*}: nice values max out at 19, not
    20; corrected validation code and templates accordingly
  * debian/xserver-common.files: restored the following files:
    - usr/share/configlets/xserver-common/desktop.xpm
    - usr/share/configlets/xserver-common/main.glade
    - usr/share/configlets/xserver-common/main.py
    - usr/share/configlets/xserver-common/monitor.xpm
    - usr/share/configlets/xserver-common/pointer.xpm
    - usr/share/configlets/xserver-common/videocard.xpm
    - usr/share/configlets/xserver-common/xserver.xpm
  * debian/xserver-common.templates.de: updated German translation (thanks,
    Andreas Metzler) (Closes: #129206)
  * debian/xserver-xfree86.config:
    - add missing "db_go" after input of simple monitor question (thanks, John
      R. Daily) (Closes: #129237)
    - correct cut-n-paste error in multiple video driver support code
  * debian/xserver-xfree86.templates*: correct spelling of "diaereses"
    (plural)
  * debian/xserver-xfree86.templates.de: updated German translation (thanks,
    Andreas Metzler) (Closes: #129357)
  * debian/xfonts-base-transcoded.{conffiles,dirs}: new files to support the
    above font alias fix

 -- Branden Robinson <branden@debian.org>  Mon, 28 Jan 2002 02:30:31 -0500

xfree86 (4.1.0-13) unstable; urgency=HIGH

  * the "this is what happens when you leave files with names like 'foo' and
    'butt' lying around in the debian/ directory of your source package"
    release
  * high-urgency upload because I accidentally broke imake on all
    architectures except arm, m68k, powerpc, and s390

  * really apply patch #450: new; Alex Williamson's ia64 patch to avoid
    programmed I/O in the ATI driver (Closes: #125834)
  * patch #063: new; fix for nonstandard textmode restoration on Matrox G450
    (thanks, Greg Norris) (Closes: #122121)
  * patch #907: fix cut-n-paste error which broke the xterm default foreground
    and background colors (Closes: #128807)

  * debian/local/dexconf: if config file exists but
    move_existing_nondebconf_config is true, ignore the existing one and
    overwrite it
  * debian/{xdm,xserver-common,xserver-xfree86}.templates.es: updated Spanish
    translation (thanks, David Martínez Moreno)
  * debian/xserver-xfree86.config: when backing up existing non-debconf config
    file out of the way, cp istead of mv'ing (Closes: #128826)
  * debian/xserver-xfree86.templates:
    - documented how to specify multiple XkbOptions
    - fixed bad paragraph separator and repeated word typo
  * debian/xutils.files: really ship /usr/X11R6/lib/X11/config
    (Closes: #128749)
  * debian/xserver-xfree86.postinst.in: if managing config file with debconf,
    always force move_existing_nondebconf_config to false and not seen after
    calling dexconf

 -- Branden Robinson <branden@debian.org>  Sat, 12 Jan 2002 03:31:53 -0500

xfree86 (4.1.0-12) unstable; urgency=low

  * patch #000_post-410: more fixes from xf-4_1-branch:
    + Fix a bug in readPciBIOS() that was causing incorrect values to be
      written back to the PCI config space (#5109, Luugi Marsan).
    + Fix twm core dump if no locales are present (#4902, Johnathan Kamens)

  * patch #000_stolen_from_HEAD:
    + Gerd Knorr's v4l fixes (memPhysBase issues in r128 and radeon drivers,
      and correct handling of multiple v4l devices) (Closes: #125865)
    + Default *sampleText*international to false in xfontsel's app-defaults
      file, since it breaks if the user has '*international: true' (#4842,
      Juliusz Chroboczek). (Closes: #126672)
    + Remove OS dependency from vgaHW.c, fixing colormap restoration on the
      Hurd. (Closes: #106605)

  * patch #000_stolen_from_HEAD_xterm: xterm patch #165
    + modify "uxterm" script to strip encoding part from environment
      variable before adding ".UTF-8" (based on Debian #125947, but
      using a more portable solution). (Closes: #125947)
    + add an assignment statement in VTInitialize() to make "awaitInput"
      resource work.
    + use new macros init_Bres(), etc., in VTInitialize() to add trace of
      the initialization of resources.
    + modify checks for $LC_ALL, related environment variables to ensure
      the resulting strings are nonempty (report by Markus Kuhn).
    + add an ifdef in charproc.c for num_ptrs variable in case all
      configure options are disabled.
    + modify definition of getXtermBackground() to avoid negative array
      index warning on Tru64 (report by Jeremie Petit).
    + improve fix from patch #165 (still Debian #117184, report by Matt
      Zimmerman <mdz@debian.org>) (Closes: #117184)
    + correct install rule for uxterm in Makefile.in, to handle the case
      where building in a different directory than xterm's source (patch by
      Paul Gilmartin).
    + documented ANSI.SYS-style cursor save/restore escape sequences in
      ctlseqs.ms, which are in xterm since X11R5.
    + correct two entries in the default charClass table, which did not
      follow the manpage comment about the character number corresponding
      to the class (patch by Marc Bevand <bevand_m@epita.fr>).
    + fix a couple of typos in comments in the app-defaults files (David
      Krause <xfree86@davidkrause.com>).
    + Modify UXTerm.ad's font5 resource so that xterm can display double
      width characters using a font distributed with XFree86 (#4962, Tomohiro
      KUBOTA). (Closes: #122109)
    + Restore a comparison to zero in getXtermBackground() still needed
      because some other parts of the code may pass a negative number.
    + Modify getXtermForeground() to also compare against MAXCOLORS so the two
      macros make similar range checks.
    + Also, add a couple of null-pointer checks to _GetSelection(), found in
      the trace-code while debugging the problem with getXtermBackground().

  * patch #052: update Imakefile to actually be cognizant of new "alt" symbols
    file from -9 (thanks, Jochen Voss) (Closes: #125933)
  * patch #058: new; manpages for ccmakedep, cleanlinks, gccmakedep, mergelib,
    and mkhtmlindex, courtesy of Colin Watson (Closes: #31398, #126424)
  * patch #059: new; install bdftruncate and ucs2any binaries without .pl
    extension, include manpages for them, and fix a typo in bdftruncate's
    usage message (Closes: #101456)
  * patch #060: new; install dynamic server modules with nonexecutable file
    mode (Closes: #88284)
  * patch #061: new; updates to Xserver(1) manual page
  * patch #062: new; fixes to proxymngr(1) manual page (Closes: #87279)
  * patch #251: new; Erik van Roode's m68k module loader fix
  * patch #450: new; Alex Williamson's ia64 patch to avoid programmed I/O in
    the ATI driver (Closes: #125834)
  * patch #907: resynced with patch #000_stolen_from_HEAD_xterm

  * debian/MANIFEST.*: updated to reflect new alt symbols file, new manpages,
    renamed bdftruncate and ucs2any executables, and removed configlet
  * debian/control:
    - correct typo in xlibs-dev's extended description (Closes: #125549)
    - xutils Replaces: xlibs-dev (<< 4.1.0-12) (see below)
  * debian/local/FAQ: added question "How do I add custom sections to a
    dexconf-generated XF86Config or XF86Config-4 file?"
  * debian/local/dexconf:
    - write out BusID parameter to XF86Config-4 files, if the template has a
      non-null value
    - remove rewriting of auto-detected /dev/input/mouse0 mouse port as
      /dev/input mice (code moved to xserver config scripts)
    - write out Mono, VGA2, and VGA16 Screen sections to version 3 XF86Config
      files
    - cannot use glob expansion anymore when writing version 3 XF86Config
      (Closes: #126339)
  * debian/local/update-fonts-{alias,dir,scale}: issue more warnings when
    these commands are misused
  * debian/local/xserver-wrapper.c: fix logic that was supposed to also allow
     unprivileged use of "-version" option but which actually forbade both
     "-showconfig" and "-verbose"; also let unprivileged users specify "-help"
     option to get a usage message
  * debian/rules:
    - gar, install xserver-xfree86 bug file in the correct rules
    - comment out install of configlet, since the configlet API has changed
  * debian/shell-lib.sh: add font_update() function to simplify font package
    maintainer scripts
  * debian/xdm.pam: remove reference to "pam_condev.so", since at this point
    it is unlikely that this Progeny-authored package will ever be uploaded to
    Debian (Closes: #127924)
  * debian/xfonts-{{100dpi,75dpi,base}{,-transcoded},cyrillic,scalable}.
    {postinst,postrm}.in: use new font_update function in shell-lib.sh
  * debian/xlibs.{conffiles,files*}: really ship new alt symbols file
  * debian/xlibs-dev.files*: stop shipping contents of
    /usr/X11R6/lib/X11/config
  * debian/xserver-common.files: temporarily removed the following files:
    - usr/share/configlets/xserver-common/desktop.xpm
    - usr/share/configlets/xserver-common/main.glade
    - usr/share/configlets/xserver-common/main.py
    - usr/share/configlets/xserver-common/monitor.xpm
    - usr/share/configlets/xserver-common/pointer.xpm
    - usr/share/configlets/xserver-common/videocard.xpm
    - usr/share/configlets/xserver-common/xserver.xpm
  * debian/xserver-common.templates.pt_BR: updated Brazilian Portuguese
    translation (thanks, Andre Luis Lopes) (Closes: #123342)
  * debian/xserver-xfree86.config:
    - fix broken migration from "Expert" to "Advanced" in monitor
      selection-method template
    - enable user to bypass video card, mouse, and monitor autodetection
      when the tools to perform them are installed
      (Closes: #79369, #88357, #117171)
    - populate driver list by scanning contents of server module directory, if
      possible (thanks, David Engel) (Closes: #123344)
    - enable user to specify BusID of primary video card (important for
      PowerPC and multihead users)
    - if /proc/fb does not exist but use_fbdev has already been set to true,
      force it to false (thanks, Roland Mas)
    - rewrite auto-detected /dev/input/mouse0 mouse port as /dev/input mice
      (code moved from dexconf)
    - skip monitor autodetection if horiz sync and vert refresh questions have
      answers, not just if they are seen
    - call db_go after db_input on LCD question (oops)
    - throw away a null monitor identifier from get-edid
    - (even) more verbose debugging output
  * debian/xserver-xfree86.templates:
    - added autodetect_{video_card,mouse,monitor} templates
    - removed retry_mouse_autodetection template
    - updated wording in config/device/driver template (Closes: #127966)
    - added config/device/bus_id template
    - added more information to config/monitor/mode-list template
    - correct typo in template description (thanks, Marius Gedminas)
      (Closes: #123308)
    - correct more typos in template description (thanks, Pete Lypkie)
      (Closes: #123784)
  * debian/xserver-xfree86.templates.pt_BR: updated Brazilian Portuguese
    translation (thanks, Andre Luis Lopes) (Closes: #123341)
  * debian/xutils.links: remove all links to undocumented(7) manpage
  * debian/xutils.files*:
    - ship new bdftruncate, ccmakedep, cleanlinks, gccmakedep, mergelib,
      mkhtmlindex, and ucs2any manpages
    - ship {bdftruncate,ucs2any} executables, not {bdftruncate,ucs2any}.pl
    - ship contents of /usr/X11R6/lib/X11/config (Closes: #126671)

 -- Branden Robinson <branden@debian.org>  Wed,  9 Jan 2002 13:06:44 -0500

xfree86 (4.1.0-11) unstable; urgency=medium

  * the "honk if you ignore manpages and changelogs" release
  * medium urgency upload because some people were annoyed with the debconf
    enhancements in -10; this release attempts to be more things to more
    people, but due to the law of conservation of cluelessness, this means
    more incoherent anger will simply be concentrated among fewer people

  * patch #000_post-410: more fixes from xf-4_1-branch:
    + Autodetect when -fno-merge-constants is needed for building modules,
      and enable its use by default in those cases (Marc La France, David
      Dawes, Mike Harris).

  * debian/MANIFEST.s390: updated (thanks, Gerhard Tonn)
  * debian/control: tighten xserver-common's versioned dependency on debconf
    again, to 1.0.21, for the reasons mentioned in that version's changelog
    entry
  * debian/local/dexconf{,.8}: refuse to write anything if no debconf markers
    are in the config file (and document this change in behavior in the manual
    page, which no one reads anyway)
  * debian/local/xserver-wrapper.c: skip lines in Xwrapper.config that don't
    match expected format (e.g., comments)
  * debian/xserver-common.config:
    - don't ask any further debconf questions if the user does not wish to
      manage the wrapper config file with debconf
    - don't ask any further debconf questions if user chooses to manage config
      file with debconf but existing file has no markers and user refuses to
      move it
    - don't ask about clobbering the X server wrapper config file
    - fix validation test for nice value template (Closes: #123021)
  * debian/xserver-common.postinst.in: only write X server wrapper config file
    if user wants to manage it with debconf, and it contains debconf markers
  * debian/xserver-common.templates:
    - removed old "clobber X server wrapper config file" template
    - added "manager X server wrapper config file with debconf" template
    - added "move old non-debconf-marker-using config file" template
  * debian/xserver-xfree86.config:
    - don't ask any XF86Config-4 questions if user does not wish to manage the
      config file with debconf
    - don't ask any XF86Config-4 questions if user chooses to manage config
      file with debconf but existing file has no markers and user refuses to
      move it
    - don't ask about clobbering the X server config file
    - fix validation test for horizontal sync and vertical refresh string
      inputs (my fix for #120521 had problems) (thanks, Greg Norris)
      (Closes: #123070)
    - validation tests for double-quotes and numeric input were too generous;
      made stricter
    - add driver list for hppa architecture, containing only "fbdev"
  * debian/xserver-xfree86.postinst.in: only invoke dexconf if user wants to
    manage the config file with debconf
  * debian/xserver-xfree86.templates:
    - removed old "clobber X server config file" template
    - added "manage server config with debconf" template
    - added "move old non-debconf-marker-using config file" template
    - added internal-use-only keyboard/internal template (do not translate
      this template)
  * debian/xserver-xfree86.templates.pt_BR: updated Brazilian Portuguese
    translation (thanks, Andre Luis Lopes) (Closes: #123078)

 -- Branden Robinson <branden@debian.org>  Mon, 10 Dec 2001 04:41:36 -0500

xfree86 (4.1.0-10) unstable; urgency=high

  * the "advancing decrepitude" release
  * urgency high to make it into woody before freeze, plus this release fixes
    some dangling file descriptor problems in xfs which some people consider a
    security issue
  * patch #000_post-410: more fixes from xf-4_1-branch:
    + Make the vbe module build like the other modules.
    + Fix a casting problem which causes bdftopcf to write corrupted
      fonts on buffer boundaries (#A.522, Jakub Bogusz).
    + Add a missing sk_SK locale.alias entry (#A.553, Ladislav Kostal).
    + Fix a VT switching crash in the cirrus driver when acceleration is
      disabled (#A.489, Kirill V. Semenkov, #A.518, B. D. Elliott).
    + Fix an unresolved symbol warning in the i128 driver (#A.465, Paul).
    + Fix the return value information in the Xv library man pages (#A.458,
      Tommi Vainikainen).
    + Fix a bug in the Serbian XKB map (#A.424, Anton Zinoviev).
  * patch #000_stolen_from_HEAD:
    + remove cirrus alpine VT switching crash fix since it is now above
    + Alan Hourihane: Fix typo in PCI bus scanning that caused a hang when
      there was more than one PCI bus (#A.652, Uwe Dannowski).
    + Paulo César Pereira de Andrade: fixes to Xaw manpage
    + Keith Packard: bugfix to miwideline.c: width 1 lines sometimes skipped
      the join
  * patch #000_stolen_from_HEAD_xdm:
    + a bunch of compiler warning cleanups, and a new upstream fix for the
      xdm-server-crash-cycle-of-death that we've had our own patch for for a
      long time
  * patch #000_stolen_from_HEAD_xinit:
    + a bunch of compiler warning cleanups, and upstream's incorporation of
      our startx patches
  * patch #000_stolen_from_HEAD_xterm: xterm patches #163 and #164
    + modify xterm manual page and minstall.sh to allow imake rules to define
      location of app-defaults directory (Debian #87611)
    + correct a case where "ptyInitialErase" and "backarrowKeyIsErase"
      resources combine to set "DECBKM" mode, but a "reset" command would
      not reset xterm to that state, making the erase character revert to
      ^H (Debian #117184)
    + (Closes: #117184) (#87611 was already fixed in -9)

  * patch #002,021,024: use proper preprocessor test for "LinuxDebian"
  * patch #004,010,019,020: removed; incorporated upstream
  * patch #002: xdm updated to support proper daemonization under glibc-based
    systems and not mess with the pid file except to write to it once and
    close it; also more helpful error messages when pid writing fails
  # patch #003: xfs updated to support proper daemonization under glibc-based
    systems and not mess with the pid file except to write to it once and
    close it; also more helpful error messages when pid writing fails
    (Closes: #84693)
  * patch #011: resynced with #000_post_410
  * patch #018: removed; superseded by #053
  * patch #039:
    - fix typos in patches to xcalc and xclock manpages which
      prevented expansion of __apploaddir__
    - resync with 000_stolen_from_HEAD_xterm
  * patch #045: new; implement "saveLines" resource and command-line option
    for xconsole, so that the amount of message history can be controlled
    (Closes: #11429)
  * patch #046: new; support for bulding PIC-enabled static libraries as
    lib*_pic.a; build Xv, Xxf86dga, and Xxf86vm this way
    (thanks, Matthieu Herrb)
  * patch #047: new; version 1.8 of Mark Leisher's ClearlyU fonts
  * patch #048: new; migrate from "<XRoot>" notation to __projectroot__ in
    manual pages (Closes: #31213)
  * patch #049: new; patch by Harald Koenig to fix flickering problem on
    i815EM chipsets (Closes: #118038)
  * patch #050: new; miscellaneous fixups to XF86Config-4 manpage
    (Closes: #106127)
  * patch #051: new; cleanups to XKB macintosh/us symbols file
  * patch #052: new; new XKB "alt" symbols file (used like the ctrl symbols
    file) to permit swapping alt and meta keys, and making alt keys meta keys
  * patch #053: new; update to version 1.6.13 of Kevin Brosius's s3virge
    driver
  * patch #054: new; fix misspelling of "fifo_aggressive" in Cards file
    (thanks, Jeronimo Pelligrini)
  * patch #055: new; map AE12 key in XKB German nodeadkeys layout to use
    apostrophe instead of acute (thanks, Andreas Metzler) (Closes: #122525)
  * patch #056: new; add TrueType directory to default XftConfig file and
    don't try to use Lucidux fonts, which are not available in main
    (Closes: #107611, #122657)
  * patch #057: new; fix iso8859-15 compose file to account for lack of
    spacing diaeresis key and codepoint (thanks, Wolfgang Sourdeau and Rüdiger
    Kuhlmann) (Closes: #97433)
  * patch #311,312: fix for ARM cache flushing problem in XFree86 module
    loader (thanks, Phil Blundell)
  * patch #907:
    - remove commented-out workaround for xterm bug that has been fixed for a
      while now
    - add Athena version 7 niftiness to XTerm-color app-defaults file

  * debian/MANIFEST.*:
    - updated to reflect new *_pic.a objects
    - updated to reflect new xvfb-run command and manpage (except on s390)
  * debian/control:
    - tighten xlibs-dev's versioned dependency on xlibs
    - tighten xserver-xfree86's version dependency on xserver-common, so
      dexconf will be the version needed to support the debconf questions
    - new package: xlibs-pic (for extremely specialized use ONLY)
    - s/offscreen/off-screen/ in package descriptions (thanks, Matt Zimmerman)
  * debian/{libdps1,libxaw6,libxaw7,xlibmesa3,xlibosmesa3,xlibs}.
    post{inst,rm}.in: get right with Chapter 9 ldconfig policy
  * debian/local/FAQ: modernize some of the xmodmap discussion (thanks, Ernst
    Kloppenburg) (Closes: #119691)
  * debian/local/README.Debian-upgrade:
    - updated to document new xmodmap migration procedure (see below)
    - also extensively expanded for Release Notes fodder, and to cut out
      debconf abuse per Joey Hess
  * debian/local/Xsession: run_parts() should only return the names of plain
    files (thanks, Jeff Sheinberg) (Closes: #118172)
  * debian/local/debian{,bw}.xpm: updated, better-looking versions, courtesy
    of Jared Johnson (Closes: #120168)
  * debian/local/dexconf:
    - no longer completely overwrites XF86Config files; instead, just replaces
      the part between "### BEGIN DEBCONF SECTION" and "### END DEBCONF
      SECTION", so people can add their own ServerFlags sections, their own
      Layouts, do multi-head support, etc. etc. etc.
    - recognize all XFree86 3.x X servers
    - temporary directory should be named after dexconf, not dexter
    - don't write ServerFlags section anymore
    - write Modules section as configured by user (don't write if no Modules
      enabled)
    - write Files and DRI sections only if the templates say to do (Files only
      for version 3 servers)
  * debian/local/dexconf.8: updated
  * debian/local/uxterm: deleted in favor of the one that is now upstream
  * debian/local/xvfb-run{,.1}: new command and its manpage
  * debian/rules:
    - don't install local version of uxterm (it no longer exists)
    - install new xfvb-run command and its manpage
    - install new xserver-xfree86 hook file for bug and reportbug
  * debian/xbase-clients.conffiles:
    - add /etc/X11/xsm/system.xsm (thanks, Ronald E. Lipovits)
      (Closes: #118117)
    - add /etc/X11/app-defaults/Xmessage-color
  * debian/xbase-clients.{preinst,postinst,prerm}.in: change xkbcomp migration
    logic a little; if /etc/X11/Xmodmap is the version shipped with the
    package, delete it; otherwise, move it.  The reason is that the default
    version contained in the package contained only comments, and an example
    file is already shipped in /usr/share/doc/xbase-clients/examples.
    (thanks, Andreas Tille)
  * debian/xbase-clients.{templates*,config}: removed for debconf abuse
  * debian/xbase-clients.files: actually ship new Xmessage-color app-defaults
    file
  * debian/xdm.pam: add "nullok" to permit users without passwords to log in
    using xdm (Closes: #115535)
  * debian/xdm.{templates*,config}: put on a diet for debconf abuse
  * debian/xdm.templates.pt_BR: correct typos in translation (thanks, Pedro
    Zorzenon Neto) (Closes: #122437)
  * debian/{xdm,xfs}.init: use a regex test in stillrunning() instead of a
    literal string compare, because arguments also appear in
    /proc/$PID/cmdline, separated by nulls
  * debian/xfree86-common.postinst.in: change xkbcomp migration logic a
    little; if /etc/X11/Xsession.d/40xfree86-common_xmodmap is the version
    shipped with the package, delete it; otherwise, move it.  The reason is
    that, in all likelihood, people modifying it did not anticipate the
    changes in /etc/X11/Xsession that would render a slightly modified old
    version useless.  (thanks, Andreas Tille)
  * debian/xfs.README.Debian: corrected typo (thanks, Mark Purcell)
    (Closes: #117358)
  * debian/xfs.{templates*,config}: removed for debconf abuse
  * debian/xlibmesa3.{templates*,config}: removed for debconf abuse
  * debian/xlibs-pic.files: ship new *_pic.a objects
  * debian/xserver-common.{templates*,config}: put on a diet for debconf abuse
  * debian/xserver-common.templates.pt_BR: updated (thanks, Andre Luis Lopes)
    (Closes: #120845)
  * debian/xserver-xfree86.bug: new; hook file for bug and reportbug
  * debian/xserver-xfree86.{templates*,config}:
    - put on a diet for debconf abuse
    - improved XKB support (Closes: #84127)
    - don't permit doublequotes in string inputs (Closes: #116608)
    - well, Zephaniah Hull was his usual helpful self, so just give gpm users
      every option there is and let them figure it out; FAIR WARNING: any bugs
      filed against X asking about gpm repeater protocols will be reassigned
      to gpm; if you want sanity, dpkg -P gpm (Closes: #117711)
    - don't permit anything but digits in video RAM input (Closes: #121607)
    - support customization of Modules section
    - let the user disable the writing of the Files and DRI sections
    - remove question about clobbering XF86Config file, since we don't clobber
      it anymore
    - allow non-leading spaces in horizontal sync and vertical referesh inputs
      (thanks, Dr. Peter Kalthare) (Closes: #120521)
  * debian/xvfb.files: ship new xfvb-run command and its manpage

 -- Branden Robinson <branden@debian.org>  Thu,  6 Dec 2001 06:06:17 -0500

xfree86 (4.1.0-9) unstable; urgency=low

  * the "Wise Lord Ahura-Mazda, Hear My Prayer" release

  * patch #000_stolen_from_HEAD_xterm: xterm patch #162
    + correct logic that processes class option, so that a following -e option
      is handled (Debian #116297).
    + improve options-decoding to allow -version and -help options to be
      combined (Debian #110226).
    + add a 10 millisecond delay in event loop when processing -hold option,
      to avoid using too much CPU time (Debian #116213).
    - (Closes: #110226, #116213, #116297)

  * patch #001:
    - force building of GLX and GLU libraries on all Debian systems
    - allow building of GLX library without PIC symbols on Alpha, ARM, and
      SPARC as well as i386
  * patch #036: fix to imake.c to correct C library version detection on
    hppa; tested and works on hppa,i386,m68k,powerpc,sparc (thanks, Ben
    Collins) (Closes: #105934)
  * patch #037: recognize ATI Rage Pro 128 "PP" chips (Mike A. Harris)
  * patch #038: twm needs to be aware of POSIX getenv() semantics (Chris Bare)
  * patch #039: fix references to app-defaults directory in manpages
    (groundwork laid and xterm fixed by Thomas Dickey) (Closes: #87611)
  * patch #040: improved keysym description in xmodmap manpage (thanks,
    Jonathan Amery) (Closes: #105967)
  * patch #041: add prototype for XShmGetEventBase() to XShm.h
    (Closes: #37039)
  * patch #042: correction to XtSetKeyboardFocus() manpage (Closes: #25362)
  * patch #043: fix a mismatch between the XF86VidMode manpage and its header
    file, reference new XF86VidMode functions and structures in manpage, and
    install manpage aliases for new functions; however, I did not document how
    to *use* the new functions since I haven't written any code using this
    extension (Closes: #116499)
  * patch #044: fix markup error in XtFindFile() manpage (thanks, Jochen Voss)
    (Closes: #116615)
  * patch #907: resynced with #039

  * debian/MANIFEST.hppa: updated to reflect fixes to patch #001
  * debian/MANIFEST.*: (all but s390) updated to reflect new XF86VidMode*
    manpages
  * debian/control:
    - bumped versioned dependencies on debconf to >> 0.5, except in the case
      of xserver-common, which needs >= 1.0.16 due to a bugfix in debconf
    - mention in xserver-xfree86's extended description that loadable server
      module support is not available on hppa
    - add ia64 to architecture list for xlibosmesa-dev (shame on me)
  * debian/local/README.Debian-upgrade: xmh was resurrected from death; do not
    list it as nonexistent (Closes: #116562)
  * debian/local/Xsession.5: remove reference to "allow-user-xmodmap" from
    example code (Closes: #115161, #116818)
  * debian/xbase-clients.templates.pt_BR: added Brazilian Portuguese
    translation (thanks, Andre Luis Lopes) (Closes: #116447)
  * debian/xdm.config:
    - migrate from "isdefault" to "seen"
    - remove the default display manager file if the user changes his answer
      to the question (instead of only if the new choice is the same as the
      current package)
  * debian/xdm/postinst.in: if the default display manager file does not
    exist, write it with the name of the daemon of the selected display
    manager, if it isn't ours
  * debian/xdm.prerm.in:
    - migrate from "isdefault" to "seen"
    - remove the default display manager file if it currently references the
      display manager that is being removed, then write it if it does not
      exist after the user has answered the question
  * debian/xdm.templates: add xdm/daemon_name template; this is for internal
    use only and does not require translation
  * debian/xdm.templates.pt_BR: added Brazilian Portuguese translation
    (thanks, Andre Luis Lopes) (Closes: #116455)
  * debian/xfs.templates.pt_BR: added Brazilian Portuguese translation
    (thanks, Andre Luis Lopes) (Closes: #116458)
  * debian/xlibmesa3.templates.pt_BR: added Brazilian Portuguese translation
    (thanks, Andre Luis Lopes) (Closes: #116460)
  * debian/xlibs-dev.files: ship new XF86VidMode* manpages
  * debian/xserver-common.config:
    - migrate from "isdefault" to "seen"
    - uncomment code that tickled horrible, horrible bug in debconf 0.3.83
      (see change to debian/control above)
  * debian/xserver-common.templates.pt_BR: updated Brazilian Portuguese
    translation (thanks, Andre Luis Lopes) (Closes: #116508)
  * debian/xserver-xfree86.prerm.in: migrate from "isdefault" to "seen"
  * debian/xserver-xfree86.templates.pt_BR: updated Brazilian Portuguese
    translation (thanks, Andre Luis Lopes) (Closes: #116574)

 -- Branden Robinson <branden@debian.org>  Thu, 25 Oct 2001 08:09:08 -0500

xfree86 (4.1.0-8) unstable; urgency=medium

  * the "Bert is Evil" release
  * patch #000_stolen_from_HEAD_xterm: xterm patches #159, #160, #161
    includes "modify logic in main.c (see patch #145) to avoid generating the
    same identifier, for example, for /dev/tty1 and /dev/pts/1, which is used to
    denote an entry in the utmp file" (Closes: #84676)

  * patch #001: m68k can use -fPIC like everyone else (not -fpic)
  * patch #002:
    - use large fonts in xdm greeter for 1024-pixel-wide displays
      (thanks, Brendan O'Dea)
    - only display logo on 1024-pixel or wider displays
    - correct typo in widget translations (Closes: #115221)
  * patch #035: patch from Thorsten Kukuk to make leo driver report supported
    fbbpp correctly
  * patch #310: removed (see below)
  * patch #311,312: merged in some old ARM support patches thanks to Adam C.
    Powell IV
  * patch #350,400: resynced with ARM patches above

  * debian/control:
    - xserver-xfree86 Conflicts: libxfont-xtt, and
    - xlibs-dev Conflicts: libxfont-xtt-dev (Closes: #81993)
  * debian/local/README.Debian-upgrade: added paragraph about deprecation of
    Xmodmap usage by the default Xsession scripts
  * debian/local/Xsession: assign a default value of /tmp to $TMPDIR if it is
    unset and a value is needed (Closes: #115242)
  * debian/local/Xsession.d/99xfree86-common_start: don't quote $REALSTARTUP
    (Closes: #113878)
  * debian/local/Xsession.options: remove "allow-user-modmap" from default
    version of file since this option is no longer supported
  * debian/rules: set LC_ALL to C when generating MANIFEST files so that
    localization of the build environment doesn't generate false negatives in
    the MANIFEST check (thanks, Martin Albert) (Closes: #114729)
  * debian/{xbase-clients,xfree86-common}.preinst.in: only move unmodified
    xmodmap-related conffiles if upgrading from << 4.1.0-7
  * debian/xserver-common.templates.es: added Spanish translation (thanks,
    Carlos Valdivia Yagüe) (Closes: #114664)

 -- Branden Robinson <branden@debian.org>  Fri, 19 Oct 2001 09:43:38 -0500

xfree86 (4.1.0-7) unstable; urgency=high

  * patch #000_stolen_from_HEAD:
    + Paulo César Perira de Andrade: fix problem when calling
      XawTextSetSource()
    + SECURITY: don't let a non-root user halt the machine by having X send
      SIGUSR1 to init (Thomas Moestl).
    + SECURITY: set default value of authComplain resource in xdm to true.
      This closes a hole where anyone can connect to the X server if the xdm
      auth dir doesn't exist (Galen Hancock).

  * patch #000_stolen_from_HEAD_xterm: xterm patch #159

  * patch #007: more sensible redirection to stderr
  * patch #011: more Chinese localization updates, courtesy of Anthony Fok and
    ThizLinux Laboratory, Ltd.
  * patch #031: changes to xmessage's app-defaults from Paulo César Perira de
    Andrade
  * patch #032: add a ComplexCplusplusProgramTargetNoMan() Imake rule
  * patch #033: rename XF86Config manpage to XF86Config-4 (Closes: #92178)
  * patch #034: Paul Anderson and Pontus Lidman's fix for keyboard typematic
    setting on systems that have the I/O port but no PS/2 controller

  * debian/MANIFEST.{m68k,sparc}: fixed an error introduced in -6
  * debian/{MANIFEST.*,rules,xbase-clients.conffiles*,xbase-clients.files*}:
    stop shipping /etc/X11/Xmodmap (it's now an example file)
  * debian/{MANIFEST.*,xserver-common.files*}: ship XF86Config.7
  * debian/{MANIFEST.*,xserver-xfree86.files*}: ship XF86Config-4.5x
  * debian/README: updated to discuss "checksource"
  * debian/*.{preinst,postinst,prerm,postrm}.in: put package and script name
    into shell variables; a few other miscellaneous cleanups
  * debian/*.{links,undocumented}: debhelper doesn't know how to handle links
    for manpages from /usr/X11R6 to undocumented(7), so do it manually in the
    links files
  * debian/control:
    - downgrade libxaw6-dev's priority to extra
    - fix typo in xlibs's extended description (Closes: #113336)
    - xlib6g now conflicts with packages that are no longer supported in
      Debian and do not comply with the Debian app-defaults policy
    - xlibs Replaces: qcad (<< 1.4.6-1)
  * debian/local/FAQ: added question "I recently upgraded some packages, and
    now instead of readable text, some characters appear as little gray boxes.
    Why?"
  * debian/local/XF86Config.7: wrote new manpage that explains where to find
    various manpages for the 3.x servers and 4.x server
  * debian/local/Xsession:
    - use an internal version of run-parts in anticipation of having one in
      debianutils someday that doesn't care if the files are executable
    - send error messages to stderr
    - declare message(), message_nonl(), errmsg(), and internal_errmsg()
      functions, and use them
    - cleaned up up script style a bit (upcased shell variable names, etc.)
  * debian/local/Xsession.5: extensive rewrite; now describes current behavior
    of Xsession script, and how to write your own Xsession.d script to, say,
    merge in Xmodmap files (Closes: #103068,#112408)
  * debian/local/Xsession.d/*:
    - cleaned up up script style a bit (upcased shell variable names, etc.)
    - use run-parts --test instead of custom-crafted equivalent
    - use the message() and errmsg() functions
  * debian/local/Xsession.options.5: updated
  * debian/local/dexconf: write out FBDev Screen sections for 3.x servers
  * debian/rules: new rule "checksource", that makes sure the patches apply
    cleanly
  * debian/scripts/source.unpack: tell tar explicitly to read from stdin
    (thanks, Philippe Troin) (Closes: #112693)
  * debian/shell-lib.sh: updated to include the signal handler
  * debian/xbase-clients.examples: created; debian/local/Xmodmap now ships as
    an example file
  * debian/xbase-clients.{preinst,postinst,postrm}.in: if /etc/X11/Xmodmap has
    not been modified, move it out of the way (it is no longer a conffile)
  * debian/xdm.prerm.in: remove /etc/X11/default-display-manager if it exists
    and it refers to the display manager being removed (Closes: #113070)
  * debian/xfree86-common.{preinst,postinst,postrm}.in:
    - stop managing /usr/X11R6/lib/X11/rgb.txt manually; the packaging system
      is smart enough to handle it
    - if /etc/X11/Xsession.d/40xfree86-common_xmodmap has not been modified,
      move it out of the way (it is no longer a conffile)
  * debian/xlibs.{preinst,postinst,postrm}.in: when upgrading from < 4.0,
    just nuke the whole app-defaults directory in /usr
  * debian/xlibs.{links,postinst.in}: create the app-defaults symlink in the
    postinst so dpkg doesn't howl about file overlaps that don't exist in
    reality (because the xlibs preinst script gets things out of the way);
    in woody+1, this kludge can be reversed
  * debian/xserver-common.postrm.in: if purging package, delete
    /etc/X11/XF86Config
  * debian/xserver-xfree86.templates: removed specific mention of "<>" key
    from pc102/pc105 keyboard description (Closes: #112141)
  * debian/xterm.menu: fix uxterm's menu entry title (Closes: #112619)

 -- Branden Robinson <branden@debian.org>  Wed,  3 Oct 2001 20:58:54 -0500

xfree86 (4.1.0-6) unstable; urgency=medium

  * patch #000_post-410: more fixes from xf-4_1-branch:
    + SECURITY: fix glyph clipping for large origin (Keith Packard).
      Reported to be remotely exploitable through konqueror or netscape
      by Georgi Guninski.
    (This is a fix for a denial-of-service attack permitting arbitrarily long
    URL's in some web browsers to crash the X server.)

  * patch #000_stolen_from_HEAD:
    + Keith Packard: Prevent TWM crash on missing window name.
      (Closes: #112048)
  * patch #000_stolen_from_HEAD_xterm: xterm patches #157 and #158
    (includes fix for ptyInitialErase) (Closes: #105579)

  * patch #027: fix for bad abnt2 keyboard keycode from Flavio Bello Fialho
    (Closes: #111932)
  * patch #028: chips driver fix from Jens Taprogge (Closes: #107248)
  * patch #029: fix for ATI Radeon + AMD Irongate chipset lockup issues
    (thanks, Aaron Lehmann) (Closes: #112265)
  * patch #030: ship some extension header files that weren't getting shipped
    (Closes: #25863)
    /usr/X11R6/include/X11/extensions/XLbx.h
    /usr/X11R6/include/X11/extensions/bigreqstr.h
    /usr/X11R6/include/X11/extensions/extutil.h
    /usr/X11R6/include/X11/extensions/mitmiscstr.h
    /usr/X11R6/include/X11/extensions/multibufst.h
    /usr/X11R6/include/X11/extensions/shapestr.h
    /usr/X11R6/include/X11/extensions/shmstr.h
    /usr/X11R6/include/X11/extensions/syncstr.h
    /usr/X11R6/include/X11/extensions/xcmiscstr.h
    /usr/X11R6/include/X11/extensions/xteststr.h
  * patch #907: the workaround for #105579 should now no longer be necessary;
    commented it out

  * debian/MANIFEST.*:
    - add etc/X11/app-defaults/UXTerm, usr/X11R6/bin/uxterm, and
      usr/X11R6/man/man1/uxterm.1x
    - add new extension header files resulting from patch #030
  * debian/control:
    - unversion xlibs-dev's replacement of libxfont-xtt-dev
    - unversion xserver-xfree86's replacement of libxfont-xtt (Closes: #81993)
    - xlibmesa-dev depends on xlibs-dev because GLX uses X headers
      (Closes: #105932)
  * debian/local/uxterm: shell script that invokes xterm with "-class UXTerm"
  * debian/local/uxterm.1x: simple manpage for uxterm script
  * debian/rules:
    - you can now set the IGNORE_MANIFEST_CHANGES environment variable to
      render a MANIFEST file discrepancy non-fatal
    - install "uxterm" shell script and manpage
  * debian/xdm.init: use && and multiple tests instead of test's -a operator,
    because we want a short circuit (thanks, Gordon Sadler) (Closes: #112348)
  * debian/xdm.postinst.in: invoke db_stop after doing debconf stuff, so
    debconf doesn't intercept stdout from xdm's init script and choke on it
    (thanks, Ryan Murray)
  * debian/xfree86-common.{preinst,postinst,postrm}.in: migrate existing
    /usr/X11R6/lib/X11/rgb.txt to /etc/X11/rgb.txt.xfree86-common-old, not
    /etc/X11/rgb.txt
  * debian/xlibmesa3.{config,templates}: tell people about libglide3 package
    and when they might need it (Closes: #80600)
  * debian/xlibs.links: ship /usr/X11R6/lib/X11/app-defaults as a symlink
  * debian/xlibs.{preinst,postinst,postrm}.in: migrate legacy app-defaults
    files to /etc/X11/app-defaults/$WHATEVER.xlibs-old
  * debian/xlibs.prerm.in: removed; no longer needed
  * debian/xserver-xfree86.postinst.in: warn if /etc/X11/X is not a symlink
    (Closes: #98493)
  * debian/xserver-xfree86.templates.sv: much-belated addition of Swedish
    translations (thanks, André Dahlqvist) (Closes: #83349)
  * debian/xterm.conffiles: add etc/X11/app-defaults/UXTerm
  * debian/xterm.files: add etc/X11/app-defaults/UXTerm, usr/X11R6/bin/uxterm,
    and usr/X11R6/man/man1/uxterm.1x
  * debian/xterm.menu: add entry for uxterm
  * debian/xterm.{postinst,prerm}: add and remove x-terminal-emulator
    alternative for uxterm

  * The above uxterm-related changes together fix a bug. (Closes: #108372)

 -- Branden Robinson <branden@debian.org>  Mon, 17 Sep 2001 06:35:42 -0500

xfree86 (4.1.0-5) unstable; urgency=high

  * High urgency upload because the version in testing is ancient, has
    non-free code in the source tarball, and this version is the first in
    quite some time that should build on all architectures in unstable without
    kludges.

  * patch #000_post-410: more fixes from xf-4_1-branch:
    + Fix DPMS support in i128 driver (Robin Cutshaw).

  * patch #000_stolen_from_HEAD:
    + Mark Vojkovich: Fix null pointer dereference in Xinerama extension when
      no Xv-enabled adapters are present. (thanks for the heads-up, Stephen
      Frost) (Closes: #107385)
    + Fix a VT switching crash in the cirrus driver when acceleration is
      disabled. (Closes: #109678)

  * patch #800: gnu.cf updates from Marcus Brinkmann
  * patch #801: new; build PCI bus code on the Hurd (Closes: #109845)

  * debian/control:
    + replaced Build-Dependency "kernel-headers-2.4 [!m68k]" with
      "kernel-headers-2.4 [!hurd-i386]"; m68k now has 2.4 headers, and of
      course the Hurd does not (Closes: #109814)
    + corrected typo in xspecs' extended description
    + x-window-system metapackage no longer depends on any -dbg or -dev
      packages, and now depends on xdm
  * debian/xserver-xfree86.examples.mips: ship example XF86Config.indy file
    (Closes: #109596)
  * debian/xserver-xfree86.files.mips{,el}: ship manpages for the following
    modules: mga glint nv s3virge sis savage trident chips tdfx fbdev ati
    (thanks, Guido Guenther) (Closes: #110871)
  * debian/xserver-xfree86.templates: give people no guidance at all in
    selecting mouse protocols because "anyone who writes a debconf question
    like that deserves a bug report. You're told not to do so in the debconf
    tutorial."
  * debian/MANIFEST.mips: updated (thanks, Ryan Murray) (Closes: #110896)

 -- Branden Robinson <branden@debian.org>  Wed,  5 Sep 2001 17:20:25 -0500

xfree86 (4.1.0-4) unstable; urgency=low

  * patch #000_post-410: more fixes from xf-4_1-branch:
    + Fix problem with xfs when talking with 3.3.6 servers. (Closes: #107406)
    + Support Trident ISA Cyber9320 chip (Alan Hourihane).

  * patch #025: create /dev/dri directory with more careful permissions
    (thanks, Brendan O'Dea) (Closes: #110475)

  * debian/MANIFEST.arm: updated (thanks, Adam C. Powell IV)
  * debian/local/xserver-wrapper.c: check mode of DRI device directory, if it
    exists, and warn if it is weird
  * debian/shell-lib.sh:
    - fix grievous typo in analyze_path (Closes: #110630)
    - also made script more helpful (thanks, Andrew Suffield)
  * debian/xserver-xfree86.config: add chips, glint, imstt, savage, tdfx, and
    trident to available driver list for ARM
  * debian/xserver-xfree86.files.arm: add imstt and tdfx drivers and manpages

 -- Branden Robinson <branden@debian.org>  Thu, 30 Aug 2001 16:03:00 -0500

xfree86 (4.1.0-3) unstable; urgency=low

  * patch #000_post-410: more fixes from xf-4_1-branch:
    + Improve "true Big5" and "Emacs Big5" support (#4792, Yong Li, #4798,
      Tomohiro KUBOTA).
    + Fix a non-standard character set bug in Xlib (#4792, Ivan Pascal).
    + Fix for the savage driver on 64-bit platforms (#4788, Jay Estabrook).
    + Xv fix for the r128 driver on big-endian architectures (#4781,
      Michel Dänzer).
    + Fix an Xlib bug that affects conversion from CTEXT to multibyte /
      wide character (#4780, Tomohiro KUBOTA, , #4783, Bruno Haible).
    + Release notes and Status doc fixes (#4778, 4779, Branden Robinson).
    + 64-bit fix for lib/X11/ImUtil.c (#4773, Mike Harris).
    + Fix dashed lines for the r128 driver on big-endian architectures
      (#4769, Michel Dänzer).
    + Fix Xlib's parsing of CTEXT with multi-byte characters in GR (#4761,
      Juliusz Chroboczek).
    + Fixes for the Romanian (ro) XKB map (#4746, Marius Andreiana).
    + Add a locale alias for "th_TH.TIS-620" (#4827, Theppitak
      Karoonboonyanan).
    + Accomodations for newer GCC's (#4803, Mike Harris).
    + Fix some typos in the iso8859-2 Compose file (#4799, Kamil Toman).
    + Don't reference the log file in the FatalError message if it hasn't
      been opened yet (#4793, Branden Robinson).

  * patch #002:
    - s/BIN/BINDIR/ for path to chooser (Closes: #108446)
    - use Debian logo pixmaps (Closes: #96112)
  * patch #011: updates to Chinese localization patch
    - added some renamings of "zh" to "zh_CN" in locale.dir for consistency
    - rename zh Compose file to zh_CN, and update compose.dir
  * patch #021: patch to make xman respect /etc/manpath.config, and fix bug in
    manpath concatenation (thanks, Colin Watson) (Closes: #108382)
  * patch #022: Egbert Eich's cirrus driver fixes
  * patch #023: new DFSG-free license for xc/utils/patch
  * patch #024: workaround module loader problem on ia64 (Closes: #109972)
  * patches #014,015,017,150,151: removed; now upstream
  * patch #152: backed out, betting that it causes bigtime breakage
    (Closes: #107349)
  * patch #907: add *ptyInitialErase: true and *ttyModes: erase ^? to XTerm
    app-defaults file (the latter can come out once a different bug is fixed
    upstream) (works around but does not close #105579)

  * debian/MANFIEST.hppa: updated (thanks, LaMont Jones) (Closes: #108185)
  * debian/MANIFEST.s390: updated (thanks, Gerhard Tonn)
  * debian/MANIFEST.*: updated to reflect addition of debian{,bw}.xpm and
    renaming of zh localization directory to zh_CN
  * debian/control:
    - cosmetic fixups to some extended descriptions (Closes: #109128)
    - xdm Provides x-display-manager (see Pax Displayicus Managerius below)
    - added versioning of (>> 0.5) to xterm's dependency on debconf, since
      we're now using "seen" instead of "isdefault"
    - xlibmesa3 depends on debconf
    - really added "x-window-system-core" and "x-window-system" metapackages
      for tasksel
  * debian/local/debian.xpm: Debian logo courtesy of Sean Perry
  * debian/local/debianbw.xpm: ugly monochrome version of Debian logo
    (Who needs an image editor when you've got vim?)
  * debian/local/dexconf:
    - run error messages through fold for pretty-printing
    - Better ways of using test(1), lesson #36642:
      BAD:  [ "$FOO" ]
      GOOD: [ -n "$FOO" ]
      BAD:  [ ! "$FOO" ]
      GOOD: [ -z "$FOO" ]
      (because what if $FOO is e.g., "-e")?
  * also applied above "lessons" to several maintainer scripts that needed
    them
  * cosmetic fix to several maintainer scripts; no need to add a space before
    closing quote on a continued-line argument to message(), since argument
    expansion will introduce a space anyway
  * debian/libxaw{6,7}-dbg.links: keep symlinks within debug library
  * debian/{rules,xfree86-common.docs}: stop shipping LICENSE; all this info
    is already in debian/copyright
  * debian/shell-lib.sh:
    - only use a perl script inside a shell function for "readlink" if the
      command does not exist, in which case complain about the lack of a
      modern debianutils (a required package) (Closes: #82362)
    - add an analyze_path() function (courtesy of Randolph Chung) that gets
      called when our symlink sanity checks fail in the postinst; this may
      help track down what causes these rare but puzzling bugs
    - a bunch of cosmetic and syntactical tweaks
  * debian/xdm.{conffiles,files}: ship debian.xpm and debianbw.xpm, and mark
    them as conffiles
  * debian/xdm.undocumented: identify chooser manpage as nonexistent
  * debian/xdm.{config,init,postinst.in,prerm.in,templates}: implement Pax
    Displayicus Managerius; in brief...
    - implement a debconf shared template, shared/default-x-display-manager
    - init script only starts the display manager daemon if it is the selected
      default display manager
    - in conjunction with the other display managers doing the same thing,
      (Closes: #64967)
  * debian/xlibmesa3.config: uncomment version check code since we finally
    have an official Linux kernel with the new DRM modules
  * debian/xlibmesa3.postinst.in: source the debconf confmodule
  * debian/xlibmesa3.templates: tweak wording in template since the Linux
    kernel guys seem to be balky about including new direct rendering modules
  * debian/xlibmesa3-dbg.links: the symbolic linking was pretty confused;
    fixed it (Closes: #107736)
  * debian/xlibmesa-dev.links: correct global replacement run amok that put
    the .so symlinks in the wrong directory (Closes: #107645)
  * debian/xlibosmesa-dev.links: same fix as to xlibmesa-dev.links
    (Closes: #108024)
  * debian/xlibosmesa3-dbg.links: same fix as to xlibmesa3-dbg.links
  * debian/xlibs.preinst.in: this solitary script escaped the massive
    maintainer script overhaul of 4.0.3-1; how?  The world may never know.
    Overhauled it.
  * debian/xlibs.files*: s@zh/Compose@zh_CN/Compose@
  * debian/xserver-xfree86.config: change isdefault flags to seen and reverse
    sense of tests and sets
  * debian/xserver-xfree86.templates.de:
    - spelling and grammatical corrections courtesy of Erich Schubert and
      Michael Piefel (Closes: #99349)
    - no need to translate default of a select or multiselect template
  * debian/xterm.config: s/isdefault true/seen false/
  * debian/xterm.postinst: source the debconf confmodule
  * debian/xterm.templates.pt_BR: added Brazilian Portuguese translation
    (thanks, Andre Luis Lopes) (Closes: #108545)

 -- Branden Robinson <branden@debian.org>  Mon, 27 Aug 2001 16:09:49 -0500

xfree86 (4.1.0-2) unstable; urgency=low

  * debian/*.alpha updated (thanks, Chris Chimelis)
  * MANIFEST updated for hppa (thanks, LaMont Jones)
  * MANIFEST updated for mips (Closes: #107338) and mipsel (Closes: #107340)
    architectures (thanks, Ryan Murray)
  * updated MANIFEST.* (except arm) to include new transcoded versions of
    luBIS19 font
  * patch #000_post-410: more fixes from xf-4_1-branch:
    + upstream has committed the xfs DoS fix to this branch
  * patch #000_stolen_from_HEAD: more fixes from the main CVS trunk
    + Alan Hourihane: Fix horizontal stripe problem in Permedia3 driver.
  * patch #000_xfs_SECURITY_DoS_fix: deleted (see above)
  * patch #001: don't #define HasLinuxInput if we're on an m68k box
    (this, as well as the Build-Dep exclusion below, can go away once m68k has
    a 2.4 kernel)
  * patch #002: #ifdef LinuxDebian, set DEFAULTVT to vt7, so that we actually
    specify a default vt in /etc/X11/xdm/Xservers
  * patch #020: fix for PCF writing problem (thanks, Mike A. Harris)
    (Closes: #81056)
  * patch #100: one-line update to PCI domain patch
  * patch #400: HPPA fixes from LaMont Jones
  * updated debian/*.s390 (thanks, Gerhard Tonn)
  * debian/*.templates.de: much-needed updates to German translations (thanks,
    Philipp Matthias Hahn) (Closes: #107063,#107064,#107065,#107066,#107067)
  * debian/{xserver-xfree86,xterm}.templates.fr: updated French translations
    (thanks, Jérôme Schell)
  * debian/control:
    - added "x-window-system-core" and "x-window-system" metapackages for
      tasksel
    - make the *-transcoded font packages' short descriptions distinct from
      their non-transcoded brethren
    - the *-transcoded packages Replace their non-transcoded counterparts (<<
      4.1.0), and the old (pre-potato) names of those packages
      (Closes: #107279)
    - the *-transcoded packages also Conflict with
      xfonts-biznet-iso-8859-2-{100dpi,75dpi,base} (<< 3.0.0-10), because they
      violate Debian Policy 12.8.5.14 ("Font packages must not provide alias
      names for the fonts they include which collide with alias names already
      in use by fonts already packaged."). (Closes: #107490)
    - removed the language about xfonts-base-transcoded being required for the
      "fixed" font (erroneous paste from the xfonts-base description)
    - added "kernel-headers-2.4.7 | kernel-headers-2.4 [!m68k]" to
      Build-Depends
    - bumped Standards-Version to 3.5.6
  * debian/copyright: added SGI FREE SOFTWARE LICENSE B (Version 1.1
    [02/22/2000]) to license list (Closes: #107149)
  * debian/local/dexconf:
    - minor fixup in the format of an error message
    - it is acceptable for the value of use_fbdev to be undefined
      (Closes: #107390)
  * debian/shell-lib.sh:
    - add -s argument to fold so that it doesn't break lines in the middle of
      words
    - new function, internal_errormsg(), for problems that are the package's
      fault rather than the sysadmin's
    - check_symlinks_and_bomb() uses internal_errormsg() now, not errormsg()
  * debian/xdm.*: laid commented-out groundwork for the Pax Displayicus
    Managerius (Message-ID: <20010803034044.A11521@deadbeast.net>)
  * debian/xfonts-{75,100}dpi{,-transcoded}.files: ship previously ungenerated
    ISO-8859 versions of luBIS font

 -- Branden Robinson <branden@debian.org>  Fri,  3 Aug 2001 02:08:05 -0500

xfree86 (4.1.0-1) unstable; urgency=medium

  * new upstream version (Closes: #68843,#79939,#85954,#97765,#99406)
  * Thanks to those who have been patient while I prepared these packages, and
    those who have already tested them.

  * patch #000_post-410: some fixes from xf-4_1-branch:
    + Add two missing symbols to loader reference for the glint driver
      (#4740, Mike Harris).
    + Fix glide driver that causes -configure to fail for all drivers
      (Alan Hourihane).
    + Fix broken TGA driver (Alan Hourihane).
    + Fix FIFO reset trouble in tdfx driver by lowering the FIFO size due to
      suspect code in Glide3. (Alan Hourihane).
    + Fix Xvideo in tdfx driver when using YUY2 or UYVY data (Alan Hourihane).
    + Fix problem in Ib/Xaw/AsciiSrc.c:nitStringOrFile() when descriptor 0
      is closed, as a zero return value from open(2) is taken as an error
      (splite at purdue.edu).
    + Add missing vbeFree symbol to mga driver (Alan Hourihane).
    + Fix fatal bug in XAA's N-to-N CopyPlane acceleration (#4782, Elliot
      Lee).
    + Fix 3Dfx Voodoo Banshee timing problem (Alan Hourihane).
    + Fix Radeon VE support (Alan Hourihane).
    + Fix int10 build for GCC 3.0 (Marc La France).
    + An attempt at fixing the i740 driver to not reference options
      before they are collected (Marc La France).

  * patch #000_stolen_from_HEAD: some fixes from the main CVS trunk
    + Alan Hourihane: fix typo in Bitmap.h (#4757)
    + Mark Vojkovich: The tdfx driver wasn't setting pScrn->fbOffset.  This
      seems to have been preventing the V4L module from working properly.
    + Marc Aurele La France: Fix bogus handling of BUS_CNTL Mach64 register
    + Mark Vojkovich: Have fb observe the pGC->fExpose flag.
    + Paulo Cesar Pereira de Andrade: The fbdev driver uses the same DGA
      initialization code as the vesa driver, this fix the bug the same way
      done in the vesa driver.
    + Matthieu Herrb: shared libXft minor revision number increment
    + Mark Vojkovich: Fix bug in ProcDbeGetVisualInfo reported by HP.

  * patch #000_xfs_SECURITY_DoS_fix: Paulo César Pereira de Andrade's fix for
    denial-of-service vulnerabilities in xfs; in Debian, this vulnerability
    was a local DoS only, because in our default configuration, xfs does not
    listen on a TCP port

  * patch #004: do not use the xserverrc if a display argument is given
    (really Closes: #99481)
  * patch #016:
    - update several InstallManPageAliases rules to install actual versions of
      manpages that are mentioned (Closes: #99598)
    - update mkfontdir manpage to not mention fonts.dir, fonts.scale,
      fonts.alias, and encodings.dir in the NAME section because
      InstallManPageAliases cannot install aliases from one manual section to
      another (Closes: #99599)
  * patch #017: small patch to not have server abort message mention server
    logfile if the logfile was never opened
  * patch #019: fix broken Imakefile for VBE server module that treated it
    like a library
  * patch #100: David S. Miller's PCI domain patch for SPARC (Closes: #99737)
  * patch #150: Michel Dänzer's Rage128 video endianness fix
  * patch #151: Michel Dänzer's Rage128 accelerated dashed bresenham
    endianness fix
  * patch #152: David Gibson's Rage128 fix for video mode saving and restoring
    when there is no video BIOS (such as on a PowerPC...)
  * patch #200: Brian Paul's GLX memory alignment fix for Alpha
  * patch #303: updates to arm, hppa, and s390 PCI support
  * patch #350,351: mips and mipsel support fixes from Guido Guenther
  * patch #907: use colors from rgb.txt instead of the rgbi colorspace in an
    effort to fix things for people who use absurdly shallow color depths.  If
    this doesn't work, edit the app-defaults conffile like a Real Man.
    (Closes: #96496,#105624)

  * updated MANIFEST.{i386,ia64,m68k,powerpc,sparc}
  * debian/*.{pre,post}{inst,rm}.in:
    - found and cleaned up some stylistic cruft from the massive maintainer
      script overhaul
    - use message_nonl() instead of echo -n
    - consolidate message() + errormsg() into plain errormsg()
  * debian/*.suid: removed due to deprecation of dh_suidregister
  * debian/*.templates.{pt_BR,ja}: added trailing spaces after the colons for
    blank fields; for some reason debconf freaks if there is no trailing space
  * debian/{*.shlibs,shlibs.local}: bumped versioning to >> 4.1.0, and added
    libXmuu to xlibs.shlibs
  * debian/README: added warning not to build official architecture: all
    packages on alpha or ia64 (xfonts-pex can't be built on those arches, so a
    package would be missing)
  * debian/control:
    - upstream has dug xmh out of grave; restored to hideous unlife
    - added ia64 to architecture list for libosmesa{3,-dbg,-dev}
    - add references to dpsexec, dpsinfo, glxgears, texteroids, and xftcache
      utilities in xbase-clients's description
    - remove reference to SuperProbe in xutils's description
    - add references to bdftruncate.pl, ccmakedep, cleanlinks, and ucs2any.pl
      in xutils's description
    - fsinfo renamed to xfsinfo, xutils's description updated accordingly
    - xlibosmesa{3,3-dbg,-dev}: now available for powerpc architecture
    - xfonts-base Conflicts/Replaces/Provides xfonts-cjk
    - added versioning to Build-Depends on libglide-{2,3}-dev, since the
      compile will error out if the version of glide is too old
    - added xfonts-{100dpi,75dpi,base}-transcoded: Because XFree86 4.1.0 ships
      many fonts encoded in ISO 10646-1, these packages contain various ISO
      8859 (other than Latin-1) -encoded versions of the fonts in
      xfonts-{100dpi,75dpi,base}, which contain ISO 10646-1 and ISO 8859-1
      versions.  Additionally, xfonts-base-transcoded contains several KOI8-R
      versions of some of the fonts in xfonts-base.  Fonts in other encodings
      without an ISO 10646-encoded version remain in the non-"-transcoded"
      version of the package.  In sum, no fonts have been removed from the
      existing xfonts-{100dpi,75dpi,base} packages; ISO 10646 versions have
      been added to them; and people seeking other encodings are encouraged to
      install the xfonts-{100dpi,75dpi,base}-transcoded packages.
    - added "libxaw6-dev |" before xlib6g-dev's dependency on libxaw-dev
      (Closes: #103885)
    - xserver-common and xterm now Conflict: suidmanager (<< 0.50) per the
      dh_suidregister manpage
  * debian/copyright: updated
  * debian/local/FAQ:
    - added questions:
      + What are app-defaults?
      + What is the difference between "bits-per-pixel" and "color depth"?
      + Why does the "single-quote" (') symbol in the fonts not look the way
        it used to?
      + How do I use Xnest, the nested X server?
    - updated questions:
      + What is the X Window System?
      + How do I change the color depth of my X server?
      + Why doesn't my backspace, delete, or some other key work?
      + How do I change xterm's default terminal type or key bindings?
  * debian/local/Xsession.d/40xfree86-common_xmodmap: removed (Closes: #28408)
  * debian/local/dexconf:
    - a couple of cosmetic and stylistic changes
    - write out UseFBDev option as determined by debconf template
    - write out XkbRules and XkbModel as determined by debconf template
      (thanks to Peter Haworth for coming up with the winning combination for
      Sun keyboards)
    - fix thinko in error message construction when desired debconf variable
      not found (thanks, Eric Gillespie, Jr.)
  * debian/local/startx{,.1x}: deleted; go back to patching upstream versions
  * debian/local/xdm/Xsetup:
    - fix typo (thanks, Sebastian Klamar) (Closes: #98423)
    - do not run xmodmap anymore (Closes: #65115)
  * debian/local/xserver-wrapper.c: allow unprivileged execution of X server
    with "-version" argument
  * debian/patches/*: almost completely overhauled.  Many of our changes are
    now upstream.  Things to note:
    + Numbering scheme has changed.  See debian/README.
    + Some architecture-specific patches had to be moved to held-patches
      because of large changes upstream.
  * debian/rules: stop shipping separate startx and manpage
  * debian/shell-lib.sh:
    - new function, message_nonl() which is the moral equivalent of "echo -n"
    - errormsg() now accepts an error message as an argument
    - ensure there are semicolons at the end of all shell functions
    - use fold instead of fmt
  * debian/xbase-clients.files:
    - add dpsexec, dpsinfo, glxgears, texteroids, xftcache, and their manpages
    - ship Options file for xf86cfg
  * debian/xbase-clients.templates.es: add Spanish translation (thanks, David
    Martinez) (Closes: #104535)
  * debian/{xdm,xfs}.init: If we upgraded the daemon, we can't use the
    --exec argument to start-stop-daemon since the inode will have changed.
    The risk here is that in a situation where the daemon died, its pidfile
    was not cleaned up, and some other process is now running under that pid,
    start-stop-daemon will send signals to an innocent process.  However, this
    seems like a corner case.  C'est la vie!
  * debian/xdm.pre{inst,rm}.in: when getting rid of obsolete old greeter
    library alternative, also remove broken .so -> .so.1 symlink that ldconfig
    leaves around
  * debian/xfonts-{100dpi,75dpi,base}.files: these packages now contain only
    ISO 10646-1-encoded fonts, ISO 8859-1 versions generated from them, and
    fonts that do not yet exist in an ISO 10646-1-encoded version.  Many
    bitmapped versions of the non-DFSG-free Adbobe Utopia Type1 font are now
    present in 100dpi and 75dpi versions, at several sizes.  (Bitmapped fonts
    are not subject to copyright as hinted fonts such as Type1 or TrueType
    are.)
  * debian/xfonts-{100dpi,75dpi,base}-transcoded.{files,post{inst,rm}.in}: new
    packages; see above
  * debian/xfonts-scalable.post{inst,rm}.in: add "xftcache" to list of
    commands to be run when updating font directory
  * debian/xfree86-common.{conffiles,files}: no longer shipping
    40xfree86-common_xmodmap
  * debian/xfree86-common.docs:
    - add README.dps document
    - add X.Org manpage
  * debian/xfs.templates.de: add German translation (thanks, Sebastian Feltel)
    (Closes: #100569)
  * debian/xlibs.{conffiles,files}:
    - modified for added and removed XKB data files:
      + cs, cs_qwerty, and czsk (Czechoslovakian) symbol files removed
      + cz, cz_qwerty, sk, and sk_qwerty (Czech Republic, Slovakia) symbol
        files added
      + by (Belarus) symbol file added
      + gr (Greek) symbol file renamed to el
      + hr (Bosnia-Herzegovina) symbol file added
      + lv (Latvia) symbol file added
      + "extra" types file added
    - ship two new bitmaps, black6 and box6
    - th_TH and zh_* localization files reorganized and renamed a little
      (see /usr/X11R6/lib/X11/locale for details)
    - libXft's minor version number has incremented
    - new library; libXmuu, a minimal X utility library that depends only on
      libc (shared version)
  * debian/xlibs.files.{alpha,ia64}: these architectures don't mess with PEX
  * debian/xlibs.links: update soname symlinks to reflect libXft's new
    minor version
  * debian/xlibs-dbg.debugfiles.{alpha,ia64}: these architectures don't mess
    with PEX
  * debian/xlibs-dbg.links: supply soname symlinks for libXft and libXrender
    (Closes: #101054)
  * debian/xlibs-dev.files:
    - ship headers for XvMC extension (experimental work-in-progess)
    - ship new file version.def
    - new library; libXmuu, a minimal X utility library that depends only on
      libc (static version)
    - new manpages:
      + XF86VidModeValidateModeLine.3x
      + XeviQueryExtension.3x
      + XtIsSessionShell.3x
      + XtVaGetSubvalues.3x
      + XtVaSetSubvalues.3x
  * debian/xlibs-dev.files.{alpha,ia64}: these architectures don't mess with
    PEX
  * debian/xlibmesa{3,-dev}.{files*,links}:
    - upstream puts the GL and GLU libraries in /usr/X11R6/lib and my patch to
      fix it doesn't work anymore; work around the problem with symlinks from
      /usr/lib/libGL* and /usr/include/GL into /usr/X11R6/lib and
      /usr/X11R6/include
    - Since the presence of DRI modules is highly architecture-specific, I
      moved xlibmesa3.files to xlibmesa3.files.i386, and made xlibmesa3.files
      the plain-jane no-DRI version which is appropriate for a majority of the
      architectures.
  * debian/xlibmesa3.{config,templates}: added question warning about skew
    between Mesa/XFree86's version of DRI, and the kernel's
  * debian/xlibmesa3.templates.es: added Spanish translation (thanks, David
    Martinez) (Closes: #104033)
  * debian/xlibmesa3.templates.fr: added French translation (thanks, Jérôme
    Schell)
  * debian/xlibmesa3.files.i386: add radeon DRI module
  * debian/xlibmesa3.files.powerpc: add DRI modules for gamma, mga, r128, and
    radeon
  * debian/xmh.{conffiles,files,menu}: xmh lives again...
  * debian/xserver-common.templates.fr: updated French translation (thanks,
    Jérôme Schell)
  * debian/xterm.templates.es: Spanish translation update (thanks, Carlos
    Valdivia Yagüe) (Closes: #102994)
  * debian/xutils.files*:
    - remove SuperProbe and its manpage
    - add ccmakedep and cleanlinks
    - renamed fsinfo to xfsinfo
  * debian/xutils.undocumented:
    - no manpages for ccmakedep and cleanlinks, sorry
  * debian/xserver-{common,xfree86}.templates.ja: added Japanese translations
    (thanks, ISHIKAWA Mutsumi, Kenshi Muto, NAKANO Takeo, and Debian JP
    Documentation team) (Closes: #100610,#100613)
    - if the vga driver is selected, set default mode list to only
      640x480, and set default depth to 4 (only affects these questions if
      they are not seen)
    - use "fold" instead of "fmt"
    - add driver list for ia64, mips, and mipsel architectures
    - issue non-fatal error message if architecture is unknown
    - add vmware to i386 driver list
    - add imstt, savage, and tdfx to m68k/powerpc driver list
    - add ati to sparc driver list
    - add /dev/sunmouse to non-devfs mouse port listing; use BusMouse protocol
      if it is selected
    - ask question about keyboard model
  * debian/xserver-xfree86.template:
    - new question: use FBDev; only asked if /proc/fb exists
    - new question: keyboard model; this is merely the tiniest of beginnings
      to real XKB configuration, but it should be enough to get some people
      over the hump
  * debian/xserver-xfree86.docs.*:
    - add README.rapidaccess document
  * debian/xserver-xfree86.files.*:
    - add 2 new encoding conversion modules: libBIG5HKSCS.a and libGBK.a
    - add vmware driver and its manpage to i386 and ia64 packages
    - add imstt, tdfx, libdri, and libdrm modules (and manpages) to powerpc
      package
  * debian/xserver-xfree86.templates.gl: cleaned up some between-template
    whitespace that an old version of debconf shouldn't have cared about, but
    did
  * debian/xspecs.docs:
    - the documents have reverted to their upstream names since upstream
      rejected my patch to rename them
    - a few more docs build now, so ship them:
      + analysis.ps
      + dbe.ps
      + dbelib.ps
      + secint.ps
      + security.ps
      + sync.ps
      + synclib.ps
  * debian/xterm.README.Debian: stop talking about xterm's X resources file,
    since it no longer exists (Closes: #98609)

 -- Branden Robinson <branden@debian.org>  Sat, 28 Jul 2001 00:37:19 -0500

xfree86 (4.0.3-4) unstable; urgency=low

  * grabbed more fixes from the 4.0.x CVS branch:
    +  Fix xmh's use of XtNewString() with getenv (#4694, Tim Waugh).
    +  Xdm/PAM fixes: leave it to PAM to observe whether or not an account
       is locked, and reinitialize credentials after calling initgroups(),
       because sometimes the credentials pam_setcred() gives are in the form
       of group membership (#4693, Mike Harris).
    +  Fix bsdLib.rules and bsdLib.tmpl problems that show up when
       X11ProjectRoot is defined (#4676, Johnny C. Lam).
    +  R128 drm fix (#4668, Gareth Hughes).
    +  Fix Romanian XKB map (#4664, Mike Harris).
    +  Spell Portuguese correctly in XKB lst files (#4663, Mike Harris).
  * updated Hurd patch from Marcus Brinkmann (Closes: #97077)
  * thanks to Jacobo Tarrio for the Galician debconf template translations
  * thanks to Marcin Owsiany for the Polish debconf template translations
  * thanks to Kenshi Muto, NAKANO Takeo, ISHIKAWA Mutsumi, and the Debian JP
    Documentation team for the Japanese debconf template translations
  * updated GLU-building patch to observe the Hurd
  * updated MANIFEST.{hurd-i386,mips,mipsel,s390}
  * patch #002: get rid of LINUX symbol relic and observe the Hurd
  * patch #010: observe the Hurd
  * patch #012: observe the Hurd
  * patch #037: append "-cyrillic" to alias names of fonts in xfonts-cyrillic
    package (Closes: #96929)
  * patch #702: fix invalid syntax, and sync up with linux.cf
  * split debconf template translations into localized files using
    debconf-getlang
  * MANIFEST.m68k: fix trailing whitespace crap caused by screen's stupidity
  * debian/control:
    - Build-Depend on html2text instead of lynx
    - add hurd-i386 to server package Architectures
  * debian/copyright: updated upstream copyright info from
    xc/programs/Xserver/hw/xfree86/doc/LICENSE; omitted Lucidux font license
    since we don't ship this non-free font (Closes: #93443)
  * debian/local/dexlet/main.py: handle case where user provides only
    single-word identifier for video card or monitor and is using a 3.x server
    (addresses Progeny pr/1576)
  * debian/local/startx: don't bother trying to match screen numbers in a
    display argument
  * debian/local/update-fonts-{alias,dir,scale}: remove
    fonts.{alias,dir,scale} and encodings.dir files from font directories
    if there are no fonts left in a font directory, and then remove empty
    font directories to avoid system cruft (Closes: #94752)
  * debian/local/xserverrc: remove "$*" from script; pointless since the
    script is never called with any arguments
  * debian/rules: switch from lynx to html2text
  * debian/xbase-clients.templates.{gl,pl,ja}:
    - added Galician translation
    - added Polish translation (Closes: #96939)
    - added Japanese translation (Closes: #97014)
  * debian/xdm.templates.{gl,pl,ja}:
    - added Galician translation
    - added Polish translation (Closes: #96942)
    - added Japanese translation (Closes: #97015)
  * debian/xfs.templates.{gl,pl,ja}:
    - added Galician translation
    - added Polish translation (Closes: #96943)
    - added Japanese translation (Closes: #97016)
  * debian/xfonts-*.postrm.in: do not attempt to remove files; leave that to
    the update-fonts-* scripts
  * debian/xserver-common.templates.gl: added Galician translation
  * debian/xserver-xfree86.docs.hurd-i386: updated to remove DRI docs since
    the Hurd has no DRI
  * debian/xserver-xfree86.files.hurd-i386: updated to remove files that do
    not get built on the Hurd
  * debian/xserver-xfree86.templates.gl: added Galician translation
  * debian/xterm.templates.{gl,pl,ja}:
    - added Galician translation
    - added Polish translation (Closes: #96945)
    - added Japanese translation (Closes: #97017)
  * debian/xterm.{config,templates}: yell and scream if the box doesn't have
    Unix98 pty's (Closes: #97613)

 -- Branden Robinson <branden@debian.org>  Tue, 29 May 2001 23:25:05 +0000

xfree86 (4.0.3-3) unstable; urgency=medium

  * grab some more post-4.0.3 fixes from 4.0 CVS branch
  * patch #011: removed in favor of David Dawes's upstream fix
  * patch #015: removed; applied upstream
  * patch #020: removed; applied upstream
  * patch #025: removed; applied upstream
  * patch #030: removed; applied upstream
  * Moral of the story?  If you want your patch to XFree86 applied upstream,
    and verbatim, pay me to make its patch number a multiple of 5 ;-)
  * debian/xbase-clients.templates:
    - added French translation (thanks, Patrice Karatchentzeff)
  * debian/xdm.templates:
    - added French translation (thanks, Patrice Karatchentzeff)
  * debian/xterm.templates:
    - added French translation (thanks, Patrice Karatchentzeff)
  * debian/xlibs-dev.files*: re-add XftFreetype.h so the file is actually
    shipped, damnit (Closes: #96069)

 -- Branden Robinson <branden@debian.org>  Tue,  8 May 2001 16:19:45 +0000

xfree86 (4.0.3-2) unstable; urgency=low

  * mipsel architecture support care of Guido Guenther and Florian Lohoff (was
    against 4.0.2-13; will require some tweaking)
  * MANIFEST.{arm,m68k}: update for shared libXft and libXrender (shame on me)
    (thanks, Phil Blundell and Roman Hodek) (Closes: #96116)
  * patch #005: add #define for Freetype2Dir so anti-aliasing stuff actually
    gets built correctly (not sure why Xft gets built at all if the build
    thinks freetype is unavailable) (incidentally, this resurrects
    XftFreetype.h)
  * patch #107: really implement color legibility fix (Closes: #95959)
  * patch #703: define MipselArchitecture as little-endian
  * patch #704: do not build real-mode x86 emulation for mipsel
  * debian/changelog.Debian.old: contains all pre-XFree86 4.0 package
    changelog entries
  * debian/control:
    - add "ia64" and "mipsel" to relevant Architecture: lines
    - make the new -dbg packages Section: devel and Priority: extra
  * debian/local/README.Debian-upgrade: updated with changes from 4.0.3
    packages
  * debian/xbase-clients.menu: fix missing backslash in a menu hint
    (Closes: #95887)
  * debian/xdm.templates:
    - updated Spanish translation (thanks, Carlos Valdivia Yagüe)
      (Closes: #96119)
  * debian/xfree86-common.docs: add changelog.Debian.old
  * debian/xfs.templates:
    - updated Spanish translation (thanks, Carlos Valdivia Yagüe)
      (Closes: #96090)
  * debian/xserver-common.templates:
    - added Brazilian Portuguese translations (thanks, Gustavo Noronha Silva
      and Henrique de Moraes Holschuh) (Closes: #96240)
  * debian/xserver-xfree86.templates:
    - added Brazilian Portuguese tranlsations (thanks, Gustavo Noronha Silva
      and Henrique de Moraes Holschuh) (Closes: #96238)

 -- Branden Robinson <branden@debian.org>  Sat,  5 May 2001 06:37:42 +0000

xfree86 (4.0.3-1) unstable; urgency=low

  * new upstream version (including some post-4.0.3 fixes)
    (Closes: #58530,#76404,#79482,#86651,#87504,#94511,#95278)
  * hppa architecture support care of Grant Grundler and Bdale Garbee
    (added patch #800, modified patch #005)
  * updated all MANIFEST files
  * ship shared versions of libXft and libXrender
  * patches #000,002,005,009,011,013,015: resynced with upstream
  * patch #002: remove specification of randomFile (Closes: #74520,#76214)
  * patch #005,702: stop forcing SharedLibXft and SharedLibXrender to NO
  * patch #005:
    - substantial re-ordering and rechecking of all the Debian-specific
      #defines
    - set BuildFreetype2Library to NO (XFree86 should build against the
      libfreetype6-dev package)
    - stop shipping the shared libXdmGreet library
  * patch #007: modified to be aware of 32bpp DRI on Voodoo4/5 cards
  * patch #008: removed; applied upstream
  * patch #033: added info for ISO-8859-15-using German locales (thanks,
    Philipp Matthias Hahn) (Closes: #92511)
  * patch #034: fix bugs in xlsfont's notions of various font property types
    (thanks, Jochen Voss) (Closes: #90000)
  * patch #035: fix from Mark Vojkovich to prevent segfaults in XAA
  * patch #036: document all the XAA options in the XF86Config manpage
  * patch #100: moved to held-patches since I hand-hacked all the non-free
    stuff out of the Type1 font directory before generating the orig tarball
  * patch #107: 3 changes to help color legibility in xterm
    (REMEMBER, /etc/X11/app-defaults/XTerm-color is a CONFFILE, you can CHANGE
    IT)
    - set color4 (blue) to rgbi:0.1/0.1/1.0
    - set color8 (dark gray) to gray50
    - set color12 (bright blue) to rgbi:0.2/0.2/1.0
  * patch #109: resynced against changes in #005
  * patch #401: driver support patches for Alpha from Jay Estabrook (except
    for his change to lnx_video.c, which collided with existing patches in
    #400, and may be found in held-patches)
  * patch #501: moved to held-patches since the xf86sym.c file has changed a
    great deal and it is not immediately obvious to me what should be done for
    m68k.  Christian Steigies, please take a look at this.
  * patch #600: removed the patch to xf86sym.c; it looks like this has
    been applied upstream (Phil Blundell, you may want to confirm this)
  * patches #700,701: removed; applied upstream
  * massive overhaul of all maintainer scripts
    - more canonical shell constructs in some places
    - complete audit of actions taken when the maintainer scripts are called
      with various arguments (see chapter 6 of the Debian Policy Manual)
      (Closes: #36453)
    - greatly reduce amounts of duplicate code by using a placeholder for
      my "shell library"
    - removed a few bits of logic that were present just to handle broken
      upgrade scenarios between various pre-slink and pre-potato versions of
      the XFree86 packages (this faciliated the removal of some maintainer
      scripts entirely)
    - all user visible output goes to stderr
    - renamed all maintainer scripts to add the ".in" suffix
  * debian/*.{dirs,files,links}: get all non-plain-files out of .files
  * debian/*.shlibs: update all shlibs files (except xlibmesa3) to include
    versioning on (>> 4.0.3), and add libXft and libXrender to xlibs.shlibs
  * debian/control:
    - update xlibs and xlibs-dev package descriptions to note the change with
      respect to libXft and libXrender
    - xfonts-base Conflicts/Replaces xfntbig (Closes: #94444)
    - update URL in xserver-xfree86 package description (Closes: #89615)
    - remove g++ from Build-Depends, since it's build-essential
    - get rid of libxaw-dev as a real package; create libxaw6-dev and
      libxaw7-dev instead (Closes: #80207)
    - introduce -dbg versions of all shared library packages
    - update font package dependencies (except for xfonts-pex) to
      xutils (>> 4.0.3) (Closes: #95482)
  * debian/copyright: updated for new upstream version
  * debian/local/dexconf: added some missing \n's to a printf or two
    (thanks, Chris Cheney)
  * debian/local/xdm/Xsetup: correct misspelled variable name (Closes: #94956)
  * debian/local/xserver-wrapper.c: correct format/arg mismatch in an error
    message
  * debian/rules:
    - the build rule now bombs if the patches didn't apply cleanly
    - updated "build" and "build-server" rules to generate actual maintainer
      scripts using the *.in files and shell-lib.sh
    - update all binary rules to use my own for/cp based shell construct
      instead of dh_movefiles; this has a few benefits:
      + no need to rerun the install rule with FORCE=1 just to regenerate the
        packages; this greatly speeds up the debug cycle for changes that
        don't involve the upstream sources -- now you just run the binary rule
        again
      + using cp is far faster than tar'ing and rm'ing
      + using cp permits the same file to be shipped in multiple packages
        easily
    - added some logic before dh_link (which is not idempotent) to make the
      binary rules idempotent
  * debian/shell-lib.sh: "library" of shell functions that get used a lot in
    the packages' maintainer scripts
  * debian/shlibs.local: re-generated from *.shlibs
  * debian/xbase-clients.menu:
    - adopted most of Arthur Korn's suggestions for menu entry revisions
      (Closes: #82328)
    - adopted Bob Hilliard's suggestion that the digital xclock menu entry
      should pass "-update 1" to the client (Closes: #77067)
  * debian/xbase-clients.templates:
    - clean up German translation (thanks, Sebastian Rittau) (Closes: #94069)
  * debian/xdm.{files,links}: no more libXdmGreet library
  * debian/xdm.preinst.in: remove the alternative for the libXdmGreet library
  * debian/xfree86-common.docs: ship new "Versions" document
  * debian/xfs.templates:
    - added French translation (thanks, Thomas Morin) (Closes: #86566)
    - added Spanish translation (thanks, Carlos Valdivia Yagüe)
      (Closes: #92401)
    - added Swedish translation (thanks, André Dahlqvist) (Closes: #83476)
  * debian/xserver-xfree86.config: correct misspelled debconf template name
    (Closes: #94299)
  * debian/xserver-xfree86.templates:
    - added French translation (thanks, Thomas Morin) (Closes: #84751)
    - added German translation (thanks, Erich Schubert) (Closes: #83776)
  * debian/xserver-common.templates:
    - added French translation (thanks, Thomas Morin) (Closes: #83972)
  * debian/xterm.templates:
    - added German translation (thanks, Knut Suebert) (Closes: #93571)
    - added Spanish translation (thanks, Carlos Valdivia Yagüe)
      (Closes: #92403)
  * debian/xterm/postinst.in: swap order of update-alternatives calls
    (thanks, Arthur Korn) (Closes: #79942)

 -- Branden Robinson <branden@debian.org>  Sun, 29 Apr 2001 04:37:28 +0000

xfree86 (4.0.2-13) unstable; urgency=medium

   * build using gcc 2.95.3-9 (see #92008)
   * debian/local/dexconf: don't freak out if the selected mode list is blank
   * debian/xlibs.{links,preinst,postinst,prerm}: the aggressive transition
     attempted in xlibs 4.0.2-12 didn't work as planned, due to the existence
     of packages which used the old app-defaults location but are no longer
     part of Debian for whatever reason, and therefore have no "fixed" version
     to upgrade to; removed all transition code from the preinst; stopped
     shipping /usr/X11R6/lib/X11/app-defaults altogether, move the file
     migration code to the postinst script, and handle the compatibility
     symlink in the postinst and prerm scripts just as we do the well-known
     /usr/doc/package -> /usr/share/doc/package compatibility symlink
     (Closes: #92074)

 -- Branden Robinson <branden@debian.org>  Fri, 30 Mar 2001 05:14:57 +0000

xfree86 (4.0.2-12) unstable; urgency=low

  * patch #200: patch for SPARC UltraIII support by David Miller (thanks, Ben
    Collins) (Closes: #91772)
  * patch #600: add in Phil Blundell's new ARM architecture patches
    (Closes: #89992, #90140)
  * patch #005: re-add #define HasPam YES to Debian-specific configuration
  * debian/local/dexconf: add value of shared/default-x-server to error output
    of fetch() (unless this is the very debconf value we couldn't retrieve)
  * debian/xlibs.preinst: now that the app-defaults transition is done, make
    the app-defaults migration more aggressive (Closes: #91000)
  * debian/xserver-xfree86.config:
    - provide driver list for ARM architecture
    - provide driver list for hurd-i386 architecture (same as i386)
  * debian/xserver-xfree86.postinst: dexconf exiting with an error is no
    longer an error for the postinst; people apparently insist on screwing
    themselves by telling debconf one thing, and then changing the /etc/X11/X
    symlink just for the fun of it.  Fine, you guys can write your
    XF86Config{,-4} files from scratch.  Don't come crying to me.
    (Closes: #91217)

 -- Branden Robinson <branden@debian.org>  Tue, 27 Mar 2001 18:00:15 +0000

xfree86 (4.0.2-11) unstable; urgency=low

  * IA64 architecture support from Randolph Chung
  * GNU Hurd support patches from Marcus Brinkmann
  * MANIFEST.arm: updates from Phil Blundell
  * patch #107: changes to XTerm app-defaults file:
    - removed the backarrowKey line
    - added backarrowKeyIsErase: true
    - removed all VT100 translation overrides
  * patch #600: ARM architecture patch for module loader and port I/O (only
    half-applied due to diff problems) (thanks, Phil Blundell)
  * patch #700,701,702: Hurd support patches from Marcus Brinkmann
  * debian/control:
    - tweaked Build-Depends
    - updated xutils extended description with info about some programs not
      being available on all architectures
  * debian/local/dexconf:
    - new function, fetch(), which is a wrapper around db_get that bombs the
      script if needed info from the debconf database is missing (use for all
      db_get's except the video RAM question)
    - make the Configured Mouse the core pointer, not the Generic Mouse
      (fixes problems with people not having USB devices at all, and without
      /dev/input directories)
  * debian/local/update-fonts-{alias,scale}:
    - echo errors to stderr, not stdout
    - slightly improved tempfile handling (no, this isn't a security issue)
  * debian/local/update-fonts-dir{,.8}:
    - new program and manpage in response to bug #88858
    - wrapper around mkfontdir(1) that is intelligent about encodings
      directories
  * debian/local/dexlet/main.glade: the "expert" button label should be
    "Advanced..."
  * debian/local/dexlet/main.py:
    - various tweaks to user-visible text from Robin Drake
    - neomagic driver was inadvertently left out; added it
    - matrox driver was incorrectly named in one place
  * debian/rules: remove call to dh_suidregister
  * debian/local/xserver-wrapper.c: add more info to "suspicious" error
    messges (Closes: #89646)
  * debian/xfonts-*.{pre,post}{inst,rm}: use new update-fonts-dir tool instead
    of mkfontdir; sed 's@bin/X11/mkfontdir@sbin/update-fonts-dir@g'
    (Closes: #88858)
  * debian/xserver-xfree86.config:
    - make configuration file clobbering questions high priority
    - if and only if the environment variable DEBUG_XFREE86_DECONF is set
      (to something non-null), debugging output will be generated, and
      pauses will occur before some db_inputs
    - add in lots of debugging for monitor autodetection
  * debian/xserver-xfree86.templates:
    - don't have modes higher than 1152x864 on by default in the available
      modes list
    - add more info to shared/multiple_possible_x-servers and
      multiple_possible_x-drivers descriptions
  * debian/xterm.{config,templates}: create a debconf question for xterm,
    offering to clobber old xterm X resource file from pre-4.0 packages

 -- Branden Robinson <branden@debian.org>  Sun, 18 Mar 2001 14:11:17 -0500

xfree86 (4.0.2-10) unstable; urgency=low

  * debian/control:
    - libxaw-dev depends on xlibs-dev (Closes: #88375)
    - xlib6g-dev depends on xutils (Closes: #88377)
  * debian/local/dexlet/main.glade: center the popup dialogs
  * debian/local/dexlet/main.py:
    - place desktop configuration screen after
      videocard, monitor, and pointer, because changes to videocard config
      can affect the desktop config widgets, and this ordering is more
      intuitive for the druid interface (addresses Progeny pr/1117)
    - added description to class for new configlet API
  * debian/xserver-xfree86.config: check for changed owners of
    default-x-server template before all autodetection logic
    (addresses Progeny pr/1158)

 -- Branden Robinson <branden@debian.org>  Tue,  6 Mar 2001 13:19:29 -0500

xfree86 (4.0.2-9) unstable; urgency=HIGH

  * debian/local/xserver-wrapper.c: whoops; readlink() doesn't
    null-terminate the target string

 -- Branden Robinson <branden@debian.org>  Tue, 27 Feb 2001 13:13:58 -0500

xfree86 (4.0.2-8) unstable; urgency=medium

  * MANIFEST.*: updated for new configlet images (see below)
  * debian/control:
    - bumped Standards-Version to 3.5.2 (no changes needed)
    - added debconf dependency to all the packages that use it
    - xserver-common now suggests xserver-xfree86 | xserver
    - fix xlibosmesa* short descriptions so they fit in 80 chars
  * debian/local/dexlet/*.xpm: some pictures to fill in the negative space
    in the configlet screens; thanks, Pat Tolbert!
  * debian/local/dexlet/main.glade:
    - add checkbox for new LCD monitor question
    - add some tooltips
    - fix up some irritating widget layout issues
  * debian/local/dexlet/main.py:
    - add logic to support new LCD monitor question
    - fix problem with namespacing of globals for horiz sync, vert refresh,
      and video ram
    - quick hack to make the message dialogs centered, since the configlet
      API doesn't give us access to the main window widget for setting
      them as transients (thanks, Eric Gillespie)
  * debian/local/xserver-wrapper.c: check out the X server symlink with
    readlink; abort if it's not a symlink, or if it points back to this
    wrapper
  * debian/shlibs.local:
    - add local shlib override for libGLU
  * debian/{twm,xterm}.prerm: call update-alternatives only on remove or
    deconfigure, not upgrade or failed-upgrade (Closes: #87133)
  * debian/xserver-common.{config,templates}: new question; inform user
    about xserver-xfree86 if they have an obsolete X server on the system
    and not the XFree86 4.x server
  * debian/xserver-common.files: ship new configlet images (see above)
  * debian/xserver-xfree86.config:
    - if the X server symlink points back to the wrapper, automatically
      clobber it
    - comment out a lot of workaround code to see if the shared template
      scanning problem is fixed in debconf
  * debian/xserver-xfree86.postinst:
    - use "message" function, not simple echo
    - only manipulate the /etc/X11/X symlink if the debconf database has
      info on the default X server; otherwise, display a helpful note
  * debian/xserver-xfree86.postrm:
    - remove /etc/X11/XF86Config-4 on purge
    - remove /etc/X11/X on purge, if and only if it points to the X server
      being purged
  * debian/xserver-xfree86.templates:
    - set default true on emulate3buttons and zaxismapping
  * debian/xserver-xfree86.prerm: use "message" function, not simple echo

 -- Branden Robinson <branden@debian.org>  Mon, 26 Feb 2001 20:41:23 -0500

xfree86 (4.0.2-7) unstable; urgency=low

  * debian/local/dexconf: forgot to write out "Configured Mouse" input device
    into the default ServerLayout section, if an additional mouse is detected
    or configured

 -- Branden Robinson <branden@debian.org>  Wed, 21 Feb 2001 23:22:43 -0500

xfree86 (4.0.2-6) unstable; urgency=low

  * thanks again to Chu-yeon Park for s390 updates
  * patch #005: tweak to s390 hunk at end
  * patch #032: new; don't build the X-TT module if not building the X
    server (thanks, Chu-yeon Park)
  * debian/MANIFEST.{mips,s390}: resynced with the other arches
  * debian/control:
    - s390 does not build xnest, xprt, xserver-common, xserver-xfree86, or
      xvfb, so these are no longer Architecture: any packages
    - improved description of what the mdetect and read-edid packages do
      for xserver-xfree86's .config scripts
  * debian/rules:
    - Dan Jacobowitz's patch for building only the X server (and its modules)
      Thanks, Dan!
    - several changes in light of the non-server-building s390
      architecture; instead of making things s390 specific, you can define
      NOT_BUILDING_X_SERVER in debian/scripts/vars.$(ARCH) and the right
      things should happen
  * debian/xserver-common.files: ship dummy image for configlet until real
    images are available
  * debian/local/main.{glade,py}: fix a couple of bugs with the "About
    32-bit color..." button

 -- Branden Robinson <branden@debian.org>  Tue, 20 Feb 2001 14:44:49 -0500

xfree86 (4.0.2-5) unstable; urgency=low

  * debian/control: add versioning to xlibs-dev's dependency on xlibs
    (Closes: #84269)
  * debian/local/dexlet/main.{glade,py}:
    - added checkbox for 1280x1024
    - add button to pop up info window about "32-bit color"
    - added optionmenu for default bpp (enabled for 3.x servers only)
    - remove noisy debugging ouput
  * debian/xserver-xfree86.config: remove noisy debugging ouput
  * debian/xserver-xfree86.templates: add more helpful info to potential
    high-priority questions

 -- Branden Robinson <branden@debian.org>  Mon, 19 Feb 2001 13:47:28 -0500

xfree86 (4.0.2-4) unstable; urgency=HIGH

  * debian/{MANIFEST,xserver-xfree86.docs,xserver-xfree86.files,xutils.files,
    scripts/vars}.mips: MIPS architecture patch from Christoph Martin
  * debian/control:
    - missed one section override resync, for xlibs-dev
    - xlibosmesa3 depends on xlibmesa3, not libgl1 (Closes: #83062)
  * debian/local/dexconf: take advantage of modern kernels' /dev/input/mice
    device (with xserver-xfree86 only), since it always opens successfully,
    always have an input device for it, and write an input device stanza
    which also sends core events for any non-USB autodetected mouse as well
  * debian/local/xserverrc: er, uh, thanks to the way xinit and startx
    work, there's no point giving arguments to this script; removed their
    passing to the X server
  * debian/xbase-clients.files:
    - [DUMBASS] We clobber the upstream startx and manpage with our own
      versions, so dh_movefiles doesn't see any difference.  Deleting those
      lines caused 4.0.2-3 to ship *without* startx or its manpage.
      Whoops.  Reverted this change.  Some bugs don't show up when you test
      with gdm...

 -- Branden Robinson <branden@debian.org>  Fri, 16 Feb 2001 21:22:52 -0500

xfree86 (4.0.2-3) unstable; urgency=medium

  * patch #005: fix typo in S/390 arch support (thanks, Chu-yeon Park)
  * patch #029: quick fix to xclock's ClockP.h to get it compiling against
    glibc CVS; the real fix should happen in Xos.h
  * patch #030: correct infinite loop problem with xmodmap (thanks, Peter
    Maydell) (Closes: #50950)
  * debian/{MANIFEST.s390,scripts/vars.s390}: preliminary IBM S/390 support
    by Chu-yeon Park
  * debian/control:
    - finally wrote package descriptions for xlib{os,}mesa*
    - resynced package sections and priorities with overrides file
    - bumped xbase-clients Replaces: of xserver-common to << 4.0
      (Closes: #83728)
  * debian/local/Xmodmap: add BackSpace and Delete key info for Acorn
    keyboards (thanks, Reuben Thomas) (Closes: #78849)
  * debian/local/startx{,.1x}:
    - got sick of patching upstream versions, and just forked our own;
      this one actually works the way startx is supposed to.  Thanks to
      Henry T. So, Jr. for some analysis and motivation.  (Closes: #65787)
    - There are subtle changes here which will affect sophisticated startx
      users.  Please read the new manpage.  (Closes: #76131)
  * debian/local/xserverrc:
    - declare interpreter on first line (it is a script, after all)
    - pass command-line arguments to X server
  * debian/rules:
    - ship our local startx and manpage
  * debian/xbase-clients.files:
    - don't ship upstream startx and manpage
  * debian/xbase-clients.menu:
    - fix menu locations for xbiff and xlogo (Closes: #85878)
    - add menu entry for xev (Closes: #64303)
  * debian/xbase-clients.templates: added German translation (thanks,
    Martin Schuster) (Closes: #83359)
  * debian/xserver-xfree86.{config,templates}: "expert" -> "advanced"
  * debian/xserver-xfree86.templates:
    - add 1280x1024 to available modes list, but default off (because its
      aspect ratio is wrong for almost all monitors)

 -- Branden Robinson <branden@debian.org>  Thu, 15 Feb 2001 18:12:57 -0500

xfree86 (4.0.2-2) unstable; urgency=HIGH

  * [SECURITY] security updates from upstream CVS xf-4_0_2-branch:
     - fix for insecure tempfile handling in Xaw's MultiSrc widget
     - fix for insecure tempfile handling in gccmakedep
     - fix for insecure tempfile handling in imake's manpage install rules
     - fix for insecure tempfile handling in xman
     - fix possible buffer overflow (NOT on stack) in xdm xdmcp code
  * [SECURITY] patch #009: old patch obsoleted by above security fixes;
    replaced with a new security fix for insecure tempfile handling in
    makedepend
  * patch #010: re-merged against xman in the wake of above fixes
  * patch #016: Brendan O'Dea's and my attempt to fix Xlib/glibc locale
    name conflict madness
  * patch #017: render fonts with correct bit order on PowerPC Mach64 cards
    (Closes: #79696)
  * The following patches are forward-ported from our XFree86 3.x packages:
  * patch #018: fix twm so it doesn't double-increment the line number of
    the configuration file while parsing it; important for debugging errors
    in twmrc files, so that it tells you the problem is on line n, not 2n
  * patch #019: xdm should not reset startAttempts counter to zero when an
    X server dies with SIGTERM
  * patch #020: remove repeated paragraph from xdm manpage
  * patch #021: shut up compiler warnings in
    xc/lib/lbxutil/image/{dfaxg42d.c,efaxg42d.c}
  * patch #022: shut up compiler warnings in xc/programs/Xserver/dix/gc.c
  * patch #023: add some reentrancy paranoia to signal handler functions in
    xauth
  * patch #024: Korean localization patch
  * patch #025: minor factual correction to sessreg manpage
  * patch #026: XKB macintosh symbols fix: a shifted BackSpace is not Delete
  * patch #027: XKB dvorak symbols fix: a shifted BackSpace is not Delete
  * patch #028: Chinese localization patch
  * now shipping a Python configlet (/usr/share/configlets/xserver-common)
  * debian/MANIFEST.*: updated to reflect new zh locale files
  * debian/control: xutils Replaces: xlib6g-dev and xcontrib (Closes: #83325)
  * debian/local/dexconf: send messages to stderr, not stdout
  * debian/local/dexconf.8: correct typos
  * debian/local/dexlet/main.glade:
    - remove bogus "foo bar baz" tooltip
    - fix some cosmetic widget layout issues
  * debian/local/dexlet/main.py:
    - correct erroneous setup of allowed_users widget, causing it to
      display the wrong value in some cases
    - correct bug in writing of available modes data to debconf database
    - default X server value was set inside of a loop instead of before it,
      clobbering any detected value we might find; now fixed (thanks, Jeff
      Licquia)
    - change code that was trying to be far too clever about writing out
      debconf data for XFree86 3.x config file video card and monitor info
      into something stupid but more robust
  * debian/xlibs.files: ship new zh locale files
  * debian/xserver-common.files: actually ship the damn manpage for
    Xwrapper.config I wrote almost a month ago
  * debian/xserver-common.templates: correct a typo found by ispell
  * debian/xserver-xfree86.config:
    - even if read-edid doesn't fail, it may not return useful information;
      add some robustness in this case
    - change priority of monitor setup questions if horiz sync and
      vert refresh are already known
    - enable reconfiguration of shared/default-x-server when a value
      already exists
    - correct erroneous logic that prevented autodetected video card
      identifier from being put in the debconf database
    - enhance monitor identifier default handling a bit
    - heavily rejiggered the way autodetection affects the setting of
      default values after consultation with Joey Hess
    - major workaround for debconf 0.3.83's shared template handling
      (thanks, Jeff Licquia)
    - add readlink() function, and ask question about clobbering the
      symlink to the default X server
    - bugfixes, bugfixes, bugfixes; it never ends
  * debian/xserver-xfree86.postinst:
    - only change X server symlink if the default X server was not
      autoselected by debconf itself, in the case where the shared template
      has only one value (thanks, Jeff Licquia)
    - if the /etc/X11/X symlink points to the X server wrapper, remove the
      symlink, since this would cause an infinite loop
    - tell people when we write the X server config file
  * debian/xserver-xfree86.templates:
    - mention that units of video ram are measured in kB
    - ran it through ispell to catch typos

 -- Branden Robinson <branden@debian.org>  Sat, 10 Feb 2001 17:17:48 -0500

xfree86 (4.0.2-1) unstable; urgency=low

  * new upstream version; Merry Christmas
  * patch #005: modified to turn BuildAllSpecsDocs on
  * patch #012: an effort to get more spec documentation building and
    installing
  * patch #013: install docs with .txt and .ps extensions, not .TXT and .PS
  * patch #014: modify xf86config program to use XF86Config-4, not
    XF86Config
  * debian/control:
    - xspecs now has an extended description
    - all xfonts-* package (except pex) conflict with xbase-clients (<< 4.0),
      because those old versions don't contain the font utilities they need
      (Closes: #80346)
    - xlibmesa3 replaces xserver-xfree86 (<< 4.0.2) (see below)
  * debian/local/Xsession.d/50xfree86-common_determine-startup:
    - fall back on .Xsession after trying .xsession to placate BSD and Red
      Hat fanatics
    - fall back on x-session-manager after user xsession, but before
      x-window manager and x-terminal-emulator
  * debian/xbase-clients.menu: add hints to xbase-clients apps
    (Closes: #80065)
  * debian/{xlibmesa3,xserver-xfree86}.{alpha,i386,sparc}: move DRI modules
    from XFree86 server package to Mesa library package, since these are
    loaded by libGL.so, not by the X server itself
  * debian/xserver-{common,xfree86}.templates:
    - warn about backups to ~
    - inform user about how debconf changes take effect
  * debian/xserver-xfree86.{config,postinst}: tons of bugfixes generally
  * debian/xspecs.docs: lots of new files to ship

 -- Branden Robinson <branden@debian.org>  Sun, 24 Dec 2000 23:44:03 -0500

xfree86 (4.0.1pre2.RC4-1) unstable; urgency=low

  * XFree86 4.0.2 Release Candidate 4.
  * upstream reverted some problematic changes to the tdfx driver
    (Closes: #79857)
  * modified patch #005 to #define Freetype2Dir (Closes: #79867)
  * updated rules and MANIFEST files to include new manpages (see below)
  * applied all needed patches to upstream source from old xcontrib package
    (Closes: #76527, #79789)
  * moved Chooser's app-defaults from xbase-clients to xdm, and updated
    debian/control appropriately
  * debian/control: added libfreetype6-dev to Build-Depends
  * debian/local/Xwrapper.config.5: wrote manpage for this file
  * debian/local/dexconf:
    - re-enable dexconf for version 3 output
    - fix ignorance of Emulate3Buttons and ZAxisMapping options
  * debian/local/dexconf.8: wrote manpage for dexconf
  * debian/xbase-clients.files: ship xf86config, its manpage, and the
    Cards file again (Closes: #76638)
  * debian/xserver-common.config: fix usage of relative paths when
    manipulating Xwrapper.config (Closes: #79783)
  * debian/xserver-xfree86.config: correct typo in mouse device selection
    for devfs users (thanks, Dan Jacobowitz)
  * debian/xserver-xfree86.templates: clarified language in monitor
    selection method template

 -- Branden Robinson <branden@debian.org>  Sun, 17 Dec 2000 20:11:21 -0500

xfree86 (4.0.1pre2.RC3-1) unstable; urgency=low

  * XFree86 4.0.2 Release Candidate 3.
  * Alpha architecture updates from Chris Chimelis
  * m68k architecture updates from Christian Steigies
  * updated MANIFEST.sparc
  * patch #007: fix incorrect error messages when tdfx driver tries to set
    up DRI
  * debian/control:
    - xbase-clients Conflicts: xdm (<< 4.0), because the old xdm will go
      looking for the sessreg utility in xbase-clients; sessreg, however,
      moved from xbase-clients to xutils with the packaging of 4.0 (and the
      new versions of xdm don't require sessreg to exist anymore anyway)
    - xlibs Conflicts: xbase-clients (<< 4.0), because the xkb directory
      moved and the old versions of xbase-clients will have an incorrect
      symlink for xkbcomp if it is installed in conjunction with xlibs
  * debian/xdm.pam: include pam_condev support
  * debian/xserver-common.{config,templates,postinst}: handle
    Xwrapper.config like we handle XF86Config-4 (see 4.0.1-11 changelog)
    (Closes: #79504)
  * debian/xserver-xfree86.config:
    - fixed leftover straggler from Yes/No to boolean template changeover
      (mouse retry question value check)
    - use dpkg --print-installation-architecture, not --print-architecture
  * debian/xserver-xfree86.templates: clarified language in
    clobber_XF86Config-4 template

 -- Branden Robinson <branden@debian.org>  Sat, 16 Dec 2000 03:09:11 -0500

xfree86 (4.0.1-12) unstable; urgency=low

  * consistently use "exit 0" in shell scripts instead of "exit"
    (Closes: #79398)
  * consistently use real filesystem path to provided alternatives, and
    de-register the old indirect ones (Closes: #79403)
  * debian/local/dexconf: correct quoting for monitor identifier
    (Closes: #79380)
  * debian/xserver-xfree86.{config,templates}:
    - enable expert monitor configuration mode now that input validation is
      working
    - add whitespace to a construction to work around ash's sloppy parser
      (Avoids: #79401) (reassigned to ash)

 -- Branden Robinson <branden@debian.org>  Tue, 12 Dec 2000 06:50:02 -0500

xfree86 (4.0.1-11) unstable; urgency=low

  * new upstream version (using alpha version 4.0.1Z)
    + libXft: Keith Packard's X FreeType interface library; static library
      include files, configuration file, and manual page; see Xft manpage
      for why this library is only available statically for the time being
    + minor version number on libX11 and libXmu bumped to reflect new UTF-8
      functions introduced in 4.0.1g
    + S3 Savage driver and manual page
    + etc/X11/xkb/symbols/tr
    + usr/X11R6/lib/X11/locale/mk_MK.UTF-8/Compose
  * patch #005: redefine the InstallAppDefaultsLong imake rule to not
    create a symlink (Closes: #76793)
  * patch #006: make Xft install its config file into CONFDIR instead of
    LIBDIR
  * updated MANIFEST.{i386,sparc,powerpc}
  * upstream has disabled DRI support for PowerPC; made appropriate changes
  * debian/control: correct typo in extended description of xutils
  * debian/local/dexconf: now able to write out old 3.x XF86Config files
  * debian/rules: don't strip xserver-xfree86 package on Alpha; there is a
    bug in the XFree86 module loader that breaks module loading if they are
    stripped on this architecture
  * debian/{shlibs.local,xlibs.shlibs}: bumped to reflect increase in
    libX11 and libXmu minor version number
  * debian/xfs/init: add -daemon as argument to xfs, since xfs has changed
    extensively upstream
  * debian/xlibs{,-dev}.files: ship new Xft stuff
  * debian/xserver-common.{config,templates}: new debconf question; a note
    that is displayed if /etc/X11/Xserver is present which tells people
    that it is obsolete and unused, since I am getting entirely too many
    bug reports and private mails helpfully informing me that the file
    doesn't do anything anymore.  Well, duh.  Apparently some folks would
    rather do without X altogether than pay any attention my changelog
    entries.
  * debian/xserver-common.{config,templates,postinst}: make a new template
    that contains the actual string that will be written to the
    Xwrapper.config for allowed_users; this template is used internally
    only and never seen by the user, and is necessary because you cannot
    associate selection choices with help text (Closes: #79229)
  * debian/xserver-xfree86.templates:
    - remove existing_XF86Config-4 template, replace it with
      clobber_XF86Config-4 template
    - change "Yes/No" templates of type select to booleans
  * debian/xserver-xfree86.config:
    - convert stored answers of "yes" and "no" to true and false for the
      questions that changed from selects to booleans
    - ask clobber_XF86Config-4 question instead of existing_XF86Config-4
    - add "savage" to i386 driver list
    - only use autodetection if the corresponding debconf templates don't
      already have answers
    - don't autodetect mouse or monitor if $DISPLAY is set, indicating a
      running X session
  * debian/xserver-xfree86.files.i386: ship savage driver and manpage
  * debian/xserver-xfree86.postinst: dexconf is now called if 1)
    /etc/X11/XF86Config-4 does not exist, or 2) the answer to
    clobber_XF86Config-4 is true, in which case the old one is backed up (the
    old appended ~ method) and the answer to clobber_XF86Config-4 is set back
    to false.  This is so that you don't configure X with debconf and clobber
    your config file deliberately once, then make hand edits to it and watch
    in dismay as it gets clobbered automatically next time xserver-xfree86 is
    upgraded.

 -- Branden Robinson <branden@debian.org>  Mon, 11 Dec 2000 02:47:08 -0500

xfree86 (4.0.1-10) unstable; urgency=low

  * updated Alpha architecture patches from Chris Chimelis (including patch
    #401)
  * incorporated preliminary ARM architecture support from Tor Slettnes
  * updated PowerPC architecture patches from Dan Jacobowitz (including
    patch #301)
  * updated m68k support from Christian Steigies
  * updated *.sparc files
  * debian/control:
    - add groff to Build-Depends (Closes: #78755)
    - also add bsdmainutils to Build-Depends
  * debian/local/xserver-wrapper.c:
    - fix dumb errors left over from debugging (Closes: #78572)
    - initialize "level" when it is declared
  * debian/rules:
    - when the MANIFEST check fails, spit out a diff before the error message
    - set DH_OPTIONS to -s instead of -a in the binary-arch rule
  * debian/xserver-xfree86.templates: added
    xserver-xfree86/existing_XF86Config-4
  * debian/xserver-xfree86.config:
    - move db_input and db_go outside of "$OWNERS" != "$CHOICES" test, so
      that the shared/default-x-server is asked during a reconfigure
      (thanks, John Goerzen)
    - exit before any XF86Config-4 questions if answer to
      xserver-xfree86/existing_XF86Config-4 is no (Closes: #78543)
    - fix use of uninitialized value (Closes: #78591)
    - add a db_go after the emulate3buttons and zaxismapping questions
    - correct misspelling of "IntelliMouse"

 -- Branden Robinson <branden@debian.org>  Tue,  5 Dec 2000 16:51:20 -0500

xfree86 (4.0.1-9) unstable; urgency=low

  * new upstream version (using alpha version 4.0.1g)
    + etc/X11/xkb/symbols/lt_{b,new} replaced by etc/X11/xkb/symbols/lt_std
    + new video driver: siliconmotion
    + new input drivers: citron, digitaledge, summa
    + removed input drivers: elo2300, magellan
    + major new UTF-8 support in Xlib; new functions:
      - Xutf8DrawImageString
      - Xutf8DrawString
      - Xutf8DrawText
      - Xutf8LookupString
      - Xutf8ResetIC
      - Xutf8SetWMProperties
      - Xutf8TextEscapement
      - Xutf8TextExtents
      - Xutf8TextListToTextProperty
      - Xutf8TextPerCharExtents
      - Xutf8TextPropertyToTextList
  * many of our patches accepted upstream; thus, removed many from
    debian/patches and tidied up the numbering
  * dexter has been obsoleted; all its questions have been made
    debconf questions instead; the "dexconf" tool is a backend that generates
    XF86Config files from debconf database values
  * debian/control:
    - remove xserver-common's recommendation of dialog
    - add suggestions of mdetect and read-edid to xserver-xfree86
    - xutils replaces xbase-clients (>= 4.0.1-8)
    - extended descriptions for libdps and libdps-dev (thanks, Juliusz
      Chroboczek) (Closes: #76210)
  * debian/rules: work around stupid lynx bug by setting TERM=vt100 before
    calling it
  * debian/xdm.init: add -f flag to rm $UPGRADEFILE
  * debian/{xbase-clients,xdm,xfree86-common,xfs,xlibs,xserver-common,xutils}
    .preinst: remove needless compare-versions checks
  * debian/{xbase-clients,xutils}.files.*: moved update-fonts-{alias,scale}
    from xbase-clients to xutils; I meant to do this a long time ago but
    forgot (Closes: #78267)

 -- Branden Robinson <branden@debian.org>  Tue, 28 Nov 2000 16:00:02 -0500

xfree86 (4.0.1-8) unstable; urgency=low

  * new upstream version (using alpha version 4.0.1f)
    + /etc/X11/xkb/symbols/yu renamed to /etc/X11/xkb/symbols/sr
    + two new xutils: /usr/X11R6/bin/{bdftruncate,ucs2any}.pl
    + many fonts in xfonts-base are now available in several encodings
    + new video driver: ark
  * CVS rdiff problems necessitate fresh upload of .orig.tar.gz
  * incorporated m68k architecture patches from Christian Steigies
  * incorporated PowerPC architecture patches from Susumu OSAWA
    (includes patch #210) (Closes: #77902)
  * patch #018: Pontus Lidman's glide driver fix (Closes: #77820)
  * debian/local/Xsession.d/20xfree86-common_process-args: quote variables
    that are possibly null before doing tests on them (thanks, Ernst
    Kloppenburg) (Closes: #77662)
  * debian/local/xserver-wrapper.c: now accepts hyphens in variable contents
    (oops) (Closes: #77646)
  * debian/local/dexter:
    - update to use new discover options and /etc/X11/X server selection
      method
    - use mouse option "ZAxisMapping" in generated config files
    - use better check for devfs usage (thanks, Marc Martinez)
      (Closes: #77130)

 -- Branden Robinson <branden@debian.org>  Fri, 24 Nov 2000 23:45:49 -0500

xfree86 (4.0.1-7) unstable; urgency=low

  * Fixed dumb errors in debian/xserver-xfree86.postinst.

 -- Branden Robinson <branden@debian.org>  Mon, 20 Nov 2000 22:37:52 -0500

xfree86 (4.0.1-6) unstable; urgency=medium

  * incorporated Alpha architecture patches from Chris Chimelis
    (Closes: #77258)
  * patch #009: updated to fix problem with xfs trying to free more font
    paths than it allocated (thanks, Charles C. Fu and ISHIKAWA Mutsumi)
    (Closes: #77182)
  * patch #015: Zeph Hull's fix for slow switching between multiple X
    servers using tdfx driver
  * patch #016: fix for tempfile race condition in libXaw (SECURITY)
  * patch #017: don't try forever to open a font server socket (thanks to
    David Luyer for the analysis) (Closes: #76756)
  * debian/control:
    - xlibmesa-dev Conflicts and Replaces mesag-widgets-dev (Closes: #77160)
    - xlibs-dev Replaces libxfont-xtt (<< 1:1.3.0.1-14), removed Conflicts
    - xlibs-dev Replaces xfs-xtt (<< 1:1.3.0.1-15)
    - xutils Replaces and Conflicts xserver-common (<< 4.0) (Closes: #77422)
    - restore ${shlibs:Depends} to a few packages
    - modify xlibs Conflicts/Replaces to ignore pre-released versions of
      slink X packages (Closes: #34672) (Technical Committee Ruling: do
      not re-open this bug under any circumstances)
  * debian/local/xserver-wrapper.c: major changes
    - new configuration file, Xwrapper.config, with different format
      (name=value)
    - now just exec's /etc/X11/X; whatever this symlink points to will be
      used as the X server
    - config file specifies allowed user types as before (root only,
      console users, anyone)
    - config file specifies nice value to use for server
  * debian/{xbase-clients,xdm}.templates: mention that ssh-based X
    connections are not prevented by running the X server with "-nolisten
    tcp" (Closes: #77427)
  * debian/xfs.README.Debian: add info on how to make an X server use xfs
    (Closes: #45016)
  * debian/xfs.{pre,post}{inst,rm}: change some references from
    /etc/X11/xfs to /etc/X11/fs (Closes: #77348)
  * debian/xserver-xfree86.{pre,post}{inst,rm}:
    - debconfization
    - don't mess with /etc/X11/Xserver anymore (Closes: #77106)
  * debian/xutils.{links,preinst,postinst}: symlink /usr/bin/rstartd to
    /usr/X11R6/bin/rstartd so rstart can find it (Closes: #77062)

 -- Branden Robinson <branden@debian.org>  Fri, 17 Nov 2000 15:35:51 -0500

xfree86 (4.0.1-5) unstable; urgency=low

  * MANIFEST.sparc: updated
  * debian/control:
    - backed out a couple of the Replaces/Conflicts with the xtt packages
    - xlibs-dev still Conflicts and Replaces libxfont-xtt-dev (see #76510)
    - xserver-xfree86 Replaces libxfont-xtt (<< 1:1.3.0.1-13)
    - xutils Replaces: xserver-common (<= 3.3.2.3a-11)

 -- Branden Robinson <branden@debian.org>  Wed, 15 Nov 2000 18:36:55 -0500

xfree86 (4.0.1-4) unstable; urgency=low

  * modify Craig Dunwoody's GLU patch to install GLU stuff to OpenGL
    ABI-correct directory
  * now shipping GLw (GL widget) static library, header files, and manpages
  * debconfization of xbase-clients, xdm, and xfs
  * {xbase-clients, xdm, xfs}.postinst: all output to stderr, not stdout
  * patch #001: import Debian-specific settings from patch #100
    (Closes: #76857)
  * patch #014: fix unsafe tempfile handling in imake (thanks, Colin Phipps)
    (Closes: #75336)
  * patch #106: edit xfs config file to serve up 100 dpi fonts before 75
    dpi, for consistency with rest of system
  * patch #108: patch GLX and GLw Imakefiles to install to OpenGL
    ABI-correct directory
  * debian/local/dexter:
    - update some of the internal logic to handle devfs paths for mouse ports
      (Closes: #76892)
    - check version of dialog on system (Closes: #76783)
  * debian/local/xdm.options.5: document removal of "run-xconsole" option
  * debian/xfree86-common.{preinst,postinst,postrm}: make migration of
    rgb.txt file more robust
  * debian/xbase-clients.menu: moved xcalc to Apps/Math (Closes: #76253)

 -- Branden Robinson <branden@debian.org>  Mon, 13 Nov 2000 18:15:45 -0500

xfree86 (4.0.1-3) unstable; urgency=low

  * patch #013: fix typo in dvorak XKB symbols file (Closes: #76263)
  * patch #100: #define BuildHtmlManPages NO
  * stop shipping HTML manpages, which are no longer built
  * actually ship /etc/pam.d/xdm now, instead of just leaving it in the
    source package
  * updated {MANIFEST,xserver-xfree86.{docs,files}}.sparc
  * debian/control:
    - add Conflicts and Replaces as needed for:
      + xfs with xfs-xtt
      + xlibs with libxfont-xtt
      + xlibs-dev with libxfont-xtt-dev (Closes: #76510)
    - cave in and make the font packages depend upon instead of
      recommending xutils
  * debian/local/dexter:
    - added splash screen that appears before first dialog (whatever that
      happens to be) which explains Dexter's scope a little bit
    - added default color depth selector for "medium" and "expert" options
    - display file write confirmation screen (only if the run has been
      interactive already)
    - enhanced a couple of dialogs with more advice
    - removed r128 from driver list since it has been merged into the ati
      driver
    - clean up dexter's tmpdir after writing config file

 -- Branden Robinson <branden@debian.org>  Thu,  9 Nov 2000 17:18:59 -0500

xfree86 (4.0.1-2) unstable; urgency=low

  * new upstream version (using alpha version 4.0.1e)
  * patch #100: correct BuilderEMailAddr now that XF4 packages are released
  * debian/*shlibs*: s/4.0.1-0/4.0.1-1/
  * debian/control:
    - xlibmesa packages now *do* contain libGLU, correct erroneous info in
      package description
    - add versioning to xserver-common's Recommends: of dialog to reflect
      dexter's needs (Closes: #76272)
    - remove xserver-xfree86's Conflicts: (more trouble than they are
      worth)
    - remove xserver-common's dependency on makedev
  * debian/local/dexter:
    - USB mice: use port "/dev/input/mice" and protocol "ImPS/2"
      (Closes: #76275)
    - checks for devfs, and uses devfs device paths if necessary
      (Closes: #76282)
  * debian/local/dexter.1:
    - add paragraph reiterating the limited scope of this tool
  * debian/local/xdm-pam.d: new file; ship as /etc/pam.d/xdm (thanks,
    Michal Politowski and Ben Collins) (Closes: #76276)
  * debian/xserver-xfree86.*: stop shipping xf86config tool and related
    files -- TEMPORARILY -- it will be back in a future Debian release
  * debian/xserver-xfree86.examples: ship
    xc/programs/Xserver/hw/xfree86/etc/vesamodes as an example, giving
    people a starting point for customized modelines
    (Closes: #25817, #58829)

 -- Branden Robinson <branden@debian.org>  Tue,  7 Nov 2000 20:59:53 -0500

xfree86 (4.0.1-1) unstable; urgency=low

  * new upstream version (using alpha version 4.0.1d) (Closes: #60137,42943)
  * See README.Debian-upgrade (xfree86-common docs) for an exhaustive
    explanation of the package reorganization.
  * The new xspecs package (the X specification documents) is in an
    unfinished state; some of the files are riddled with groff errors and
    won't build.
  * Not all the Debian patches from 3.3.6 have been migrated forward yet.
  * everything back into one source package
  * xlib6g has been renamed to xlibs; this is necessary because
    libXaw.so.6, previously contained in xlib6g, is now in its own package
    (libxaw6).  If xlib6g retained its old name, partial upgrades would be
    broken, since potato-era packages compiled against libXaw 6 would
    expect it to be present on a system with xlib6g installed.  So, the new
    X library conglomeration package is now called xlibs, and xlib6g will
    be maintained externally as a pseudopackage which depends on xlibs and
    libxaw6.  Thanks to Joey Hess for bringing this problem to my
    attention.  (As a bonus, we get to drop the nasty old "g" artifact --
    woohoo!)
  * includes Craig Dunwoody's libGLU building patch (many thanks to Frank
    Belew for help getting this working)
  * removed all traces of libc5-compat stuff (including the xlib6 packages)
  * removed all traces of xlib6g-static
  * hammered on Doogie's Build System a little bit
  * debian/control:
    - an almost complete rewrite
    - build dependencies are simpler with libc5 out of the picture
    - package arrangement has changed yet again
  * debian/copyright: updated and overhauled
  * debian/rules: major overhaul (trash the libc5 stuff), now uses
    debhelper
  * debian/local/Xsession: rewritten to use an Xsession.d directory
    (Closes: #68747)
  * debian/local/Xsession.d/90xfree86-common_ssh-agent:
    - check for $SSH2_AUTH_SOCK as well (Closes: #68739)
    - use ssh-agent2's ssh1 compatibility mode when it makes sense to do so
      (Closes: #40618)
  * Thanks to Progeny Linux Systems for sponsoring my efforts getting this
    package shoved out the door, kicking and screaming.

 -- Branden Robinson <branden@debian.org>  Thu,  2 Nov 2000 11:31:17 -0500
